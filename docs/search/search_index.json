{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Docs for Sysadmins","text":"<p>Main Page</p>"},{"location":"linux/logrotate/","title":"Log Rotasyonu Nedir?","text":"<p>Log rotasyonu g\u00fcncel/yeni log dosyalar\u0131n\u0131 etkilemeden eski log dosyalar\u0131n\u0131 silme/yedekleme i\u015flemidir. Kullan\u0131ld\u0131\u011f\u0131 alana g\u00f6re her uygulama \u00f6nemli loglar \u00fcretir ve bu loglar\u0131 genelde kaybetmek istemeyiz. E\u011fer bu loglar\u0131 silmezsek kulland\u0131\u011f\u0131m\u0131z sunucunun disk kapasitesi k\u0131sa bir s\u00fcre sonra dolabilir.</p> <p>Loglar\u0131 silmek yerine bizim i\u00e7in otomatik olarak gzip format\u0131nda ar\u015fivleyen Logrotate ad\u0131nda bir yaz\u0131l\u0131m var.</p> <p>Logrotate, log dosyalar\u0131n\u0131 y\u00f6netmeye, s\u0131k\u0131\u015ft\u0131rmaya, kald\u0131rmaya ve hatta belirli bir zaman aral\u0131\u011f\u0131ndan sonra (\u00f6rne\u011fin g\u00fcnl\u00fck, haftal\u0131k, ayl\u0131k vb.) e-postayla bir yere g\u00f6ndermeye yard\u0131mc\u0131 olur.</p>"},{"location":"linux/logrotate/#kurulum","title":"Kurulum","text":"<p>\u00c7o\u011fu Linux da\u011f\u0131t\u0131m\u0131 varsay\u0131lan olarak Logrotate ile gelir. E\u011fer sisteminizde mevcut de\u011filse, a\u015fa\u011f\u0131daki komutlarla kolayca kurulabilir:</p>"},{"location":"linux/logrotate/#rhelcentos","title":"RHEL/CentOS","text":"<p><code>yum install logrotate</code></p>"},{"location":"linux/logrotate/#debianubuntu","title":"Debian/Ubuntu","text":"<p><code>apt-get install logrotate</code></p>"},{"location":"linux/logrotate/#fedora","title":"Fedora","text":"<p><code>dnf install logrotate</code></p>"},{"location":"linux/logrotate/#nasl-calsr","title":"Nas\u0131l \u00e7al\u0131\u015f\u0131r?","text":"<p>Logrotate, i\u015flem yapmak istedi\u011finiz t\u00fcm log dosyalar\u0131n\u0131 belirtebilece\u011finiz bir yap\u0131land\u0131rma dosyas\u0131na sahiptir. G\u00fcnl\u00fck, haftal\u0131k, ayl\u0131k vb. gibi bir zaman periyodu birimine ve her d\u00f6nd\u00fcrme i\u00e7in 3, 4, 5 gibi d\u00f6nd\u00fcrme say\u0131s\u0131na ihtiyac\u0131 vard\u0131r. Log dosyalar\u0131 kald\u0131r\u0131lmadan \u00f6nce d\u00f6nd\u00fcrme say\u0131s\u0131 kadar d\u00f6nd\u00fcr\u00fcl\u00fcr. Varsay\u0131lan d\u00f6nd\u00fcrme say\u0131s\u0131 0'd\u0131r, bu da eski g\u00fcnl\u00fck s\u00fcr\u00fcmlerinin d\u00f6nd\u00fcr\u00fclmek yerine kald\u0131r\u0131laca\u011f\u0131 anlam\u0131na gelir. Yani g\u00fcnl\u00fckleriniz my-application.log adl\u0131 bir dosyaya kaydediliyorsa, bir d\u00f6nd\u00fcrmeden sonra my-application.1.log adl\u0131 yeni bir dosya olu\u015fturulur.</p>"},{"location":"linux/logrotate/#ayar-dosyas","title":"Ayar Dosyas\u0131","text":"<p>Logrotate yap\u0131land\u0131rma dosyas\u0131 <code>/etc/logrotate.conf</code>'da bulunur. \u00d6rnek bir yap\u0131land\u0131rma dosyas\u0131 \u015funa benzer bloklar i\u00e7erir:</p> <pre><code>/var/lib/docker/containers/*/*.log {\n    rotate 5\n    copytruncate\n    missingok\n    notifempty\n    compress\n    maxsize 200M\n    daily\n}\n</code></pre> <p>\u015eimdi bu log dosyas\u0131n\u0131 ad\u0131m ad\u0131m inceleyelim:</p> <p><code>/var/lib/docker/containers/*/*.log</code></p> <p>Logrotate'in hangi dosyay\u0131 veya dosyalara i\u015flem uygulayaca\u011f\u0131n\u0131 g\u00f6steren yoldur.  <code>{ }</code> i\u00e7erisindeki kurallar\u0131 <code>/var/lib/docker/containers</code> dizinindeki b\u00fct\u00fcn dizinlerin i\u00e7erisindeki <code>.log</code> ile biten dosyalara a\u015fa\u011f\u0131daki kurallar\u0131 uygulayacak:</p> <p><code>rotate 5</code></p> <p>Loglari en fazla 5 kere saklar, yani i\u015flem yap\u0131ld\u0131\u011f\u0131nda en fazla 5 dosya eski g\u00fcnl\u00fck saklanacak ve halihaz\u0131rda 5 dosya oldu\u011funda en eski g\u00fcnl\u00fckler silinecek.</p> <p>\u00d6rnek: </p> <pre><code>my-application.log \nmy-application.log1 \nmy-application.log2 \nmy-application.log3 \nmy-application.log4 \nmy-application.log5\n</code></pre> <p><code>copytruncate</code></p> <p>Eski log dosyalar\u0131n\u0131 ta\u015f\u0131y\u0131p iste\u011fe ba\u011fl\u0131 olarak yenisini olu\u015fturmak yerine, bir kopya olu\u015fturduktan sonra orijinal log dosyas\u0131n\u0131 bulundu\u011fu yerde, 0 KB boyutuna k\u00fc\u00e7\u00fclt\u00fcr. Baz\u0131 uygulamalar\u0131n log dosyas\u0131n\u0131 kapatmas\u0131 m\u00fcmk\u00fcn olmad\u0131\u011f\u0131nda ve \u00f6nceki log dosyas\u0131na yazmaya devam edebilece\u011fi durumlarda kullan\u0131labilir. Dosyan\u0131n kopyalanmas\u0131 ve k\u00fc\u00e7\u00fclt\u00fclmesi aras\u0131nda \u00e7ok k\u00fc\u00e7\u00fck bir zaman dilimi oldu\u011fu i\u00e7in log kayb\u0131 olabilir.</p> <p><code>missingok</code></p> <p>E\u011fer log dosyas\u0131 eksikse, bir hata olu\u015fturmaz ve bir sonraki dosyaya ge\u00e7er.</p> <p><code>notifempty</code></p> <p>Log dosyas\u0131n\u0131n i\u00e7eri\u011fi bo\u015fsa log rotate i\u015flemi ger\u00e7ekle\u015ftirmez.</p> <p><code>compress</code></p> <p>Eski log dosyalar\u0131n\u0131 gzip format\u0131nda s\u0131k\u0131\u015ft\u0131r\u0131r.</p> <p><code>maxsize 200M</code></p> <p>Log dosyas\u0131, rotate kural\u0131ndan ba\u011f\u0131ms\u0131z olarak 200 MB boyutunu a\u015farsa rotate i\u015flemini ger\u00e7ekle\u015ftirir. Bu ayar ileride zgrep kullan\u0131larak s\u0131k\u0131\u015ft\u0131r\u0131lm\u0131\u015f dosyalar\u0131n i\u00e7erisinde bir log ararken dosyan\u0131n boyutunun fazla b\u00fcy\u00fck olmamas\u0131 sa\u011flan\u0131rsa avantaj sa\u011flar.</p> <p><code>daily</code></p> <p>Log rotate i\u015flemini g\u00fcnl\u00fck olarak ger\u00e7ekle\u015ftirir.</p>"},{"location":"mail/mailu/","title":"Mailu Nedir?","text":"<p>Mailu, g\u00fcvenli, \u00f6zelle\u015ftirilebilir ve a\u00e7\u0131k kaynakl\u0131 bir e-posta sunucu \u00e7\u00f6z\u00fcm\u00fcd\u00fcr. Modern teknolojilerle geli\u015ftirilen Mailu, bireyler ve i\u015fletmeler i\u00e7in ba\u011f\u0131ms\u0131z e-posta sunucusu i\u015fletimini kolayla\u015ft\u0131r\u0131r. Docker konteynerlerinde \u00e7al\u0131\u015farak kolay kurulum ve bak\u0131m imkan\u0131 sa\u011flar. Mailu, kullan\u0131c\u0131 dostu bir aray\u00fczle e-posta y\u00f6netimini basitle\u015ftirir, spam ve vir\u00fcs korumas\u0131 gibi geli\u015fmi\u015f g\u00fcvenlik \u00f6zellikleri sunar. IMAP, SMTP ve Webmail gibi yayg\u0131n e-posta protokollerini destekler. Ayr\u0131ca, y\u00fcksek \u00f6l\u00e7eklenebilirli\u011fi sayesinde k\u00fc\u00e7\u00fck i\u015fletmelerden b\u00fcy\u00fck organizasyonlara kadar geni\u015f bir kullan\u0131c\u0131 yelpazesi i\u00e7in idealdir. Mailu, a\u00e7\u0131k kaynak toplulu\u011fundan gelen katk\u0131larla s\u00fcrekli geli\u015fir ve g\u00fcncellenir, bu da onu esnek ve g\u00fcvenilir bir e-posta \u00e7\u00f6z\u00fcm\u00fc haline getirir.</p> <p>Docker Compose dosyas\u0131n\u0131 generate etmek i\u00e7in bu adresi kullanabilirsiniz.</p>"},{"location":"mail/mailu/#mailu-kurulumu","title":"Mailu Kurulumu","text":"<p>Mailu en g\u00fcncel Docker ve Docker Compose teknolojilerini kulland\u0131\u011f\u0131 i\u00e7in bu kurulumlar\u0131n Docker\u2019\u0131n resmi repolar\u0131ndan yap\u0131lmas\u0131 gerekmektedir. Muhtemelen kulland\u0131\u011f\u0131n\u0131z Linux da\u011f\u0131t\u0131m\u0131n\u0131n repolar\u0131nda bulunan Docker Engine ve Docker Compose Mailu i\u00e7in uygun olmayacakt\u0131r. Mailu\u2019nun sistem gereksinimleri ve kullan\u0131lacak Docker ve Docker Compose versiyonlar\u0131 hakk\u0131nda bilgi almak i\u00e7in resmi sitesini ziyaret edebilirsiniz.</p> <p></p> <ol> <li> <p>Mailu Storage Path: Mailu\u2019nun verilerini depolayaca\u011f\u0131 dizini belirtir. Mailu'nun docker volume dosyalar\u0131n\u0131n, gerekli env dosyas\u0131n\u0131n ve docker compose dosyas\u0131n\u0131n bulunaca\u011f\u0131 dizini buraya girin. \u00d6rne\u011fin <code>/mailu.</code></p> </li> <li> <p>Main Mail Domain and Server Display Name: Ana mail domaini ve sunucu ad\u0131 bu alana girilmelidir. \u00d6rne\u011fin, <code>berkbal.com.tr.</code></p> </li> <li> <p>Postmaster Local Part: Postmaster e-posta adresinin yerel k\u0131sm\u0131n\u0131 belirtir. Genellikle admin olarak kullan\u0131l\u0131r.</p> </li> <li> <p>TLS Sertifikalar\u0131: TLS sertifikalar\u0131n\u0131 nas\u0131l y\u00f6netmek istedi\u011finizi se\u00e7in. letsencrypt gibi bir se\u00e7enek belirleyebilirsiniz.</p> </li> <li> <p>Giri\u015f Denemesi Limitleri: Belirli bir IP adresinden yap\u0131lan ba\u015far\u0131s\u0131z giri\u015f denemeleri i\u00e7in saatlik limit. \u00d6rne\u011fin, 5/saat. Kullan\u0131c\u0131 ba\u015f\u0131na g\u00fcnl\u00fck giri\u015f deneme limiti. \u00d6rne\u011fin, <code>50/g\u00fcn.</code></p> </li> <li> <p>G\u00f6nderim Limitleri: Kullan\u0131c\u0131 ba\u015f\u0131na g\u00fcnl\u00fck g\u00f6nderilebilecek mesaj limiti. \u00d6rne\u011fin, <code>200/g\u00fcn.</code></p> </li> <li> <p>Anonim \u0130statistikler: Anonimle\u015ftirilmi\u015f istatistiklere kat\u0131lmak isteyip istemedi\u011finizi belirleyin.</p> </li> <li> <p>Website Name: Web sitesinin ad\u0131n\u0131 girin. \u00d6rne\u011fin, <code>Berk Bal.</code></p> </li> <li> <p>Linked Website URL: Ba\u011flant\u0131l\u0131 web sitesinin URL\u2019sini girin. \u00d6rne\u011fin, <code>https://berkbal.com.tr</code></p> </li> <li> <p>Y\u00f6netim Aray\u00fcz\u00fc: Y\u00f6netim aray\u00fcz\u00fcn\u00fc etkinle\u015ftirin. Bu se\u00e7enek, Mailu\u2019nun y\u00f6netim ara\u00e7lar\u0131na eri\u015fim sa\u011flar.</p> </li> <li> <p>API: API\u2019yi etkinle\u015ftirin. Mailu\u2019nun yap\u0131land\u0131rmas\u0131n\u0131 de\u011fi\u015ftirmek i\u00e7in RESTful API\u2019yi kullanabilirsiniz. API\u2019yi etkinle\u015ftirdi\u011finizde size bir TOKEN \u00fcretip verecektir.</p> </li> </ol>"},{"location":"mail/mailu/#ekstra-tercihler","title":"Ekstra Tercihler","text":"<p>Mailu, bir y\u00f6netici aray\u00fcz\u00fc, web e-posta istemcileri, antispam, antivir\u00fcs gibi birden fazla temel \u00f6zellik ile birlikte gelir. Bu b\u00f6l\u00fcmde, tercihlerinize g\u00f6re servisleri etkinle\u015ftirebilirsiniz:</p> <ol> <li> <p>Web E-posta \u0130stemcisi: Bu se\u00e7enek, kullan\u0131c\u0131lar\u0131n web \u00fczerinden posta kutular\u0131na eri\u015fmelerini sa\u011flar. <code>Roundcube</code>, veya <code>rainloop</code> se\u00e7eneklerinden birini se\u00e7ebilirsiniz.</p> </li> <li> <p>Antivir\u00fcs Hizmeti: ClamAV kullanarak b\u00fcy\u00fck \u00f6l\u00e7ekli vir\u00fcs yay\u0131lma kampanyalar\u0131na kar\u015f\u0131 koruma sa\u011flar. Bu hizmeti etkinle\u015ftirmek i\u00e7in en az 1GB bellek gereklidir.</p> </li> <li> <p>Webdav Hizmeti: Kullan\u0131c\u0131lar\u0131n HTTP \u00fczerinden takvim ve rehber gibi bilgileri depolamalar\u0131n\u0131 sa\u011flar.</p> </li> <li> <p>Fetchmail: Kullan\u0131c\u0131lar\u0131n harici bir mail sunucusundan <code>IMAP/POP3</code> ile posta \u00e7ekip gelen kutular\u0131na yerle\u015ftirmelerini sa\u011flar.</p> </li> <li> <p>Oletools: E-posta eklerindeki belgeleri k\u00f6t\u00fc ama\u00e7l\u0131 makrolara kar\u015f\u0131 tarar. Tam te\u015fekk\u00fcll\u00fc bir antivir\u00fcs program\u0131na g\u00f6re daha d\u00fc\u015f\u00fck bellek kullan\u0131r.</p> </li> <li> <p>Tika: Tika\u2019y\u0131 etkinle\u015ftirir. E-posta ekleri i\u00e7inde arama yapma i\u015flevini sa\u011flar. Tika, e-posta eklerindeki belgeleri tarar, i\u015fler (OCR, anahtar kelime \u00e7\u0131kar\u0131m\u0131) ve verimli bir \u015fekilde aranabilir hale getirir. Bu i\u015flem \u00f6nemli miktarda kaynak (RAM, CPU ve depolama) gerektirir.</p> </li> </ol>"},{"location":"mail/mailu/#sunucu-ayarlar","title":"Sunucu Ayarlar\u0131","text":"<p>Mail sunucusunun e-posta alabilmesi, g\u00f6nderebilmesi ve kullan\u0131c\u0131lar\u0131n posta kutular\u0131na eri\u015febilmesi i\u00e7in d\u00fcnyaya a\u00e7\u0131lmas\u0131 gerekmektedir. Mailu, bu i\u015flemi \u00e7e\u015fitli yollarla yapabilir:</p> <ol> <li> <p>IPv4 Listen Address: IPv4 listen address alan\u0131na sat\u0131n ald\u0131\u011f\u0131n\u0131z sunucunun IP adresini yazmal\u0131s\u0131n\u0131z. \u00d6rne\u011fin, 192.168.1.50.</p> </li> <li> <p>Subnet of the Docker Network: Docker a\u011f\u0131n\u0131n alt a\u011f\u0131n\u0131 belirtin. Bu a\u011f, sisteminizin ba\u011fl\u0131 oldu\u011fu herhangi bir a\u011f ile \u00e7ak\u0131\u015fmamal\u0131d\u0131r. Genellikle format ..*.0/24 \u015feklindedir. \u00d6rne\u011fin, 192.168.203.0/24.</p> </li> <li> <p>IPv6: Bu, Mailu\u2019nun DNSSEC do\u011frulamas\u0131n\u0131 yapmas\u0131na, DNS k\u00f6k sorgular\u0131n\u0131 ve \u00f6nbelleklemesini ger\u00e7ekle\u015ftirmesine olanak tan\u0131r.</p> </li> <li> <p>Internal DNS Resolver (Unbound): Bu se\u00e7enek, antispam hizmetinin genel veya ISS DNS sunucular\u0131 taraf\u0131ndan engellenmemesine yard\u0131mc\u0131 olur.</p> </li> <li> <p>Public Hostnames: Sunucunun bar\u0131nd\u0131raca\u011f\u0131 genel ana bilgisayar adlar\u0131n\u0131 girin. Bu alan adlar\u0131, e-posta alan adlar\u0131n\u0131n MX kay\u0131tlar\u0131nda belirtilmelidir. Ana bilgisayar adlar\u0131 virg\u00fclle ayr\u0131lmal\u0131d\u0131r. \u00d6rne\u011fin: mail.berkbal.com.tr.</p> </li> </ol> <p>Bu ad\u0131mlar\u0131 tamamlad\u0131ktan sonra, <code>docker-compose.yml</code> ve <code>mailu.env</code> dosyalar\u0131n\u0131 olu\u015fturup wget ile sisteme indirip kullanabileceksiniz.</p>"}]}