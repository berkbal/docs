{"config":{"lang":["tr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Sistem Y\u00f6neticileri \u0130\u00e7in D\u00f6k\u00fcmantasyon","text":"<p>Ho\u015f Geldiniz!</p> <p>Bu sayfa, teknik d\u00f6k\u00fcmantasyon ve projeler i\u00e7in bir bilgi havuzu olarak tasarlanm\u0131\u015ft\u0131r. Bu sitedeki i\u00e7erikler kendim \u00e7al\u0131\u015f\u0131rken uygulad\u0131\u011f\u0131m y\u00f6ntemler ve kulland\u0131\u011f\u0131m ara\u00e7lar hakk\u0131nda kendi yazd\u0131\u011f\u0131m d\u00f6k\u00fcmanlar\u0131 i\u00e7eriyor. Amac\u0131m, hem kendim i\u00e7in d\u00fczenli bir bilgi kayna\u011f\u0131 olu\u015fturmak hem de benzer alanlarda \u00e7al\u0131\u015fan ki\u015filere yard\u0131mc\u0131 olabilecek kaynaklar sunmakt\u0131r.</p> <p>Bu sayfan\u0131n GitHub reposuna buradan eri\u015febilirsiniz.</p>"},{"location":"#iletisim","title":"\u0130leti\u015fim","text":"<ul> <li>Ki\u015fisel web sitem</li> <li> <p>LinkedIn profilim</p> </li> <li> <p>ben@berkbal.com</p> </li> </ul>"},{"location":"ansible/ansible-modulleri/","title":"Ansible Mod\u00fclleri","text":"<p>Ansible yonetimi kolaylastirmak icin bazi modullere sahiptir. Bu modullerin dokumantasyonlari incelenerek yapabilecegi islemler hakkinda fikir edinilebilir.</p>"},{"location":"ansible/ansible-modulleri/#apt-modulu","title":"Apt Modulu","text":"<p>Ansible ile yonetilen bilgisayarlarda apt i\u015flemleri yapmaya yarar. A\u015fa\u011f\u0131daki linkten eri\u015filebilir.</p> <p>https://docs.ansible.com/ansible/2.9/modules/apt_module.html</p>"},{"location":"ansible/ansible-modulleri/#gather-facts","title":"Gather Facts:","text":"<p>Sunucular hakk\u0131nda bilgi toplar ve ekrana yazd\u0131r\u0131r. Buradaki bilgileri sunucular \u00fczerinde de\u011fi\u015fiklik yapmak i\u00e7in veya playbooklar yazarken kullanabiliriz. \u00d6rne\u011fin \"ansible_distribution\" \u00f6zelli\u011fi kurulu olan Linux'un distrosu hakk\u0131nda fikir verebilir.</p> <p>https://docs.ansible.com/ansible/latest/collections/ansible/builtin/gather_facts_module.html#</p>"},{"location":"ansible/ansible-modulleri/#package","title":"Package:","text":"<p>Otomatik olarak i\u015fletim sisteminin paket y\u00f6neticisini kullan\u0131r. Debian i\u00e7in apt, CentOS i\u00e7in dnf kullanmaya gerek kalmaz. Playbooklarda s\u0131k\u00e7a kullan\u0131l\u0131r.</p> <p>https://docs.ansible.com/ansible/latest/collections/ansible/builtin/package_module.html</p>"},{"location":"ansible/ansible-playbook/","title":"Ansible Playbook","text":""},{"location":"ansible/ansible-playbook/#playbook-nedir","title":"Playbook Nedir?","text":"<p>otomasyon g\u00f6revleri ger\u00e7ekle\u015ftirmek i\u00e7in yaz\u0131lan bir dosyad\u0131r. YAML format\u0131nda yaz\u0131l\u0131r ve bir veya daha fazla sunucuda belirli g\u00f6revleri yerine getirmek i\u00e7in talimatlar i\u00e7erir. Playbooklar, bir dizi \"play\" denilen g\u00f6revlerden olu\u015fur ve her play, belirli bir hedef sunucu grubuna uygulan\u0131r. Her play i\u00e7erisinde ise \"task\" ad\u0131 verilen g\u00f6revler bulunur. Task\u2019lar ise mod\u00fcller arac\u0131l\u0131\u011f\u0131yla \u00e7al\u0131\u015f\u0131r, yani bir mod\u00fcl kullanarak bir g\u00f6revi ger\u00e7ekle\u015ftirmeye y\u00f6nelik talimatlar verilir.</p>"},{"location":"ansible/ansible-playbook/#nasil-calistirilir","title":"Nasil Calistirilir?","text":"<p>PLaybooklarin <code>./playbooks/</code> dizininde oldugunu varsayarsak;</p> <pre><code>ansible-playbook playbooks/playbook-adi.yml\n</code></pre>"},{"location":"ansible/ansible-playbook/#playbook-nasil-yazilir-ornek-playbook","title":"Playbook Nasil Yazilir? Ornek Playbook","text":"<pre><code>---\n\n- hosts: all # Butun hostlarda calisacak\n  become: true # Tam yetkili kullanici olarak calistirir.\n\n  tasks:\n\n  - name: Apache2 Paketini Kur\n    apt: # BU task uzerinde kullanmak istedigimiz modulun adi. Paket kurulumu yapmak icin apt modulu kullanilir\n    name: apache2\n</code></pre>"},{"location":"ansible/ansible-playbook/#when-kullanm","title":"When Kullan\u0131m\u0131","text":"<p>Baz\u0131 durumlarda when condution\u0131n\u0131 kullanarak belirli durumlara g\u00f6re \u00e7al\u0131\u015facak olan komutlar\u0131/mod\u00fclleri de\u011fi\u015ftirebiliriz. A\u015fa\u011f\u0131daki \u00f6rnekte ansible'\u0131n sunuculardan toplad\u0131\u011f\u0131 veriler i\u00e7erisinde bulunan <code>ansible_distribution</code> degerini kullanarak bir ko\u015ful yazd\u0131k. E\u011fer bu ko\u015ful sa\u011flanmazsa task i\u015fleme al\u0131nmayacakt\u0131r.</p> <pre><code>---\n\n- hosts: all # Butun hostlarda calisacak\n  become: true # Tam yetkili kullanici olarak calistirir.\n  tasks:\n\n\n  - name: Update Repository Index\n    apt:\n      update_cache: yes\n    when: ansible_distribution in [\"Ubuntu\", \"Debian\"]\n\n  - name: Apache2 Paketini Kur\n    apt: # Bu task uzerinde kullanmak istedigimiz modulun adi. Paket kurulumu yapmak icin apt modulu kullanilir\n     name: apache2\n     state: latest\n    when: ansible_distribution == \"Ubuntu\"\n  - name: Apache'ye PHP Paketlerini Kur.\n    apt:\n      name: libapache2-mod-php\n      state: latest\n    when: ansible_distribution == \"Ubuntu\"\n</code></pre>"},{"location":"ansible/ansible/","title":"Ansible","text":""},{"location":"ansible/ansible/#ansible-nedir","title":"Ansible Nedir?","text":"<ul> <li>Birden fazla makinede komut calistirmak icin kullanilir. Bu komutlara(scriptlere) playbook denir.</li> <li>Varsayilan olarak SSH kullanir.</li> </ul>"},{"location":"ansible/ansible/#kurulum-ve-kullanim-adimlari","title":"Kurulum ve Kullanim Adimlari","text":"<ol> <li> <p>Asagidaki komut ile secure bir ssh key olusturulur. Key dosyasina isim verilirken full path yazilmalidir. (Veya istege gore var olan bir key kullan\u0131labilir.)</p> </li> <li> <p>Ornek: /home/berk/.ssh/ISIM seklinde isim verilebilir.</p> </li> </ol> <pre><code>ssh-keygen -t ed25519 -C \"ansible\"\n</code></pre> <p>Asagidaki komut ile olusturulan key ansible ile kontrol edilmesi istenilen bilgisayarlara kopyalanir. root kismina kullanici adi, ip adresi kismina da kontrol edilmek istenen bilgisayarin ip adresi yazilir.</p> <pre><code>ssh-copy-id -i ~/.ssh/ansible.pub root@192.168.1.32\n</code></pre> <ol> <li>Eger keyde parola varsa her seferinde parola kullanmamak icin asagidaki komut kullanilabilir.</li> </ol> <pre><code>eval $(ssh_agent)\n</code></pre> <p><code>ps aux</code> komutunun ciktisindan <code>ssh_agent</code>'in <code>PID</code>'i kontrol edilir. Terminal ekrani kapandigi zaman tekrar parola girilmesi gerekebilir. Bunun icin .bashrc dosyasinda duzenlemeler yapilabilir.</p> <ol> <li>Bilgisayara Ansible Kurulur</li> </ol> <pre><code>sudo apt-get install ansible -y\n</code></pre> <ol> <li> <p>Ansible adinda bir dizin olu\u015fturulur veya haz\u0131r repo bilgisayara klonlan\u0131r. Ansible ile alakal\u0131 i\u015flemler bu dizinde yap\u0131lmal\u0131d\u0131r.</p> </li> <li> <p>inventory ad\u0131nda bir dosya olu\u015fturulur ve Ansible'\u0131n ba\u011flanaca\u011f\u0131 ip adresleri(sunucu veya kullan\u0131c\u0131) bu dosyan\u0131n i\u00e7erisine alt alta yaz\u0131l\u0131r.</p> </li> <li> <p>Asagidaki komut ile baglantida sorun var mi diye kontrol edilebilir.</p> </li> </ol> <pre><code>sudo ansible all --key-file ~/.ssh/ansible -i inventory -m ping\n</code></pre> <p>Bu komutun sudo ile kullanilmasinin nedeni olusturdugumuz ssh keyinin client bilgisayarlarin root kullanicisina eklenmis olmasi.</p> <p>Ansible komutuna -u ile kullan\u0131c\u0131 ad\u0131 verilebilir.</p> <pre><code>ansible all --key-file ~/.ssh/ansible -i inventory -m ping -u root\n</code></pre> <p>Veya asagidaki sekilde parametreler eklenerek ansible'in root yetkisi olan kullanicinin parolasinin sormasi saglanabilir.</p> <pre><code>--become --ask-become-pass\n</code></pre>"},{"location":"ansible/ansible/#ansible-dosya-yaps","title":"Ansible Dosya Yap\u0131s\u0131","text":""},{"location":"ansible/ansible/#dizinler-dosyalar-ve-islevleri","title":"Dizinler, Dosyalar ve \u0130\u015flevleri","text":"<ul> <li>Inventory: Ansible'in ba\u011flan\u0131p i\u015flem yapaca\u011f\u0131 clientlar\u0131n ip adreslerinin bulundu\u011fu dosya. Ayr\u0131ca bu dosyaya ip adreslerinin yan\u0131na de\u011fi\u015fkenler tan\u0131mlanarak playbooklar i\u00e7erisinde kullan\u0131labilir.</li> </ul> <p>\u00d6rnek bir Inventory dosyas\u0131:</p> <pre><code>192.168.1.30 apache_package=apache2 php_package=libapache2-mod-php\n192.168.1.31 apache_package=apache2 php_package=libapache2-mod-php\n192.168.1.32 apache_package=apache2 php_package=libapache2-mod-php\n</code></pre> <ul> <li> <p>ansible.cfg: Ansible'\u0131n ayarlar\u0131n\u0131n bulundu\u011fu dosya. Burada inventory dosyas\u0131n\u0131 ve kullanaca\u011f\u0131m\u0131z ssh keyini vs tan\u0131mlayarak ansible komutunu her \u00e7al\u0131\u015ft\u0131rd\u0131\u011f\u0131m\u0131zda yazaca\u011f\u0131m\u0131z komutu k\u0131saltabiliriz.</p> </li> <li> <p>Playbooks(Dizin): YML uzantili playbooklar bu dizinde durabilir.(Zorunlu degildir fakat projenin duzenli durmasi icin gerekli olabilir.)</p> </li> </ul> <pre><code>berk@berk-notebook:~/Documents/repos/ansible-environment$ cat ansible.cfg \n[defaults]\ninventory = inventory\nprivate_key_file = ~/.ssh/ansible\nremote_user = root\n</code></pre>"},{"location":"ansible/ansible/#ornekler","title":"\u00d6rnekler","text":""},{"location":"ansible/ansible/#ansible-ile-inventoryde-bulunan-butun-sunuculara-paket-kurmak","title":"Ansible ile inventory'de bulunan butun sunuculara paket kurmak","text":"<pre><code>ansible all -m apt -a name=vim\n</code></pre> <p>apt mod\u00fcl\u00fcn\u00fc kullanarak <code>-a</code> parametresi ile <code>name=PAKET-ADI</code> seklinde belirterek paket kurulumu yapabiliriz.</p>"},{"location":"docker/docker-compose-dosyalari/nextcloud/nextcloud/","title":"Nextcloud","text":"<p>Bu docker compose dosyasi nextcloud'i ve mariadb'yi docker-compose ile ayaga kaldiracaktir. Nextcloud'in datasi baska bir dizine(Baska bir fiziksel disk) mount edilili durumda.</p> <pre><code>version: '3.9'\n\nservices:\n  db:\n    image: mariadb:11.4\n    restart: always\n    environment:\n      MYSQL_ROOT_PASSWORD: MYSQL'DEKI ROOT KULLANICISININ PAROLASI\n      MYSQL_DATABASE: nextcloud\n      MYSQL_USER: homelab\n      MYSQL_PASSWORD: PAROLA\n    volumes:\n      - homelab_db_data:/var/lib/mysql\n\n  nextcloud:\n    image: nextcloud:30.0.6\n    ports:\n      - 8081:80\n    restart: always\n    volumes:\n      - homelab_nextcloud_data:/var/www/html\n    environment:\n      MYSQL_DATABASE: nextcloud\n      MYSQL_USER: homelab\n      MYSQL_PASSWORD: PAROLA(homelab kullanicisinin parolasi)\n      MYSQL_HOST: db\n      SERVER_NAME: DOMAIN\n      PHP_OPCACHE_MEMORY_CONSUMPTION: 256\n      TRUSTED_PROXIES: '192.168.1.10' # Reverse proxy durumunda Trusted Proxies degiskenine hangi ip'den gelindigi yazilmalidir.\n    depends_on:\n      - db\n\nvolumes:\n  homelab_db_data:\n  homelab_nextcloud_data:\n    driver_opts:\n      type: none\n      o: bind\n      device: /mnt/cloud-data\n</code></pre>"},{"location":"docker/docker-compose-dosyalari/roundcube/roundcube/","title":"Roundcube","text":"<p>Roundcube kullanicilarin mail okuyup gonderebildigi ve posta kutularina filtreler ekleyebildigi bir webmail uygulamasidir. Buradaki docker compose dosyasi lokal mail istemcisi amaciyla kullanmak icin olusturulmustur. Eger hostlanip baska insanlar ile paylasilacaksa degistirilmesi ve duruma gore ayarlanmasi gerekmektedir.</p>"},{"location":"docker/docker-compose-dosyalari/roundcube/roundcube/#docker-composeyml","title":"docker-compose.yml","text":"<pre><code>version: '2'\n\nservices:\n  roundcubemail:\n    image: roundcube/roundcubemail:latest\n    container_name: roundcubemail\n#    restart: unless-stopped\n    volumes:\n      - ./www:/var/www/html\n      - ./db/sqlite:/var/roundcube/db\n    ports:\n      - 127.0.0.1:9002:80 # Sadece localhost tarafindan erisilmesi icin portun bu sekilde ayarlanmasi gerekiyor. Normalde docker iptables ve ufw ile tanimlanan kurallari ezecektir.\n    environment:\n      - ROUNDCUBEMAIL_DB_TYPE=sqlite\n      - ROUNDCUBEMAIL_SKIN=elastic # Tema?\n      - ROUNDCUBEMAIL_DEFAULT_HOST=tls://mail.domain.com.tr # Posta Kutusu\n      - ROUNDCUBEMAIL_SMTP_SERVER=tls://smtp.domain.com.tr # SMTP Sunucusu\n</code></pre>"},{"location":"docker/docker-compose-dosyalari/wireguard/wireguard/","title":"Wireguard","text":""},{"location":"docker/docker-compose-dosyalari/wireguard/wireguard/#wireguard-sunucu-kurulumu","title":"Wireguard Sunucu Kurulumu","text":"<p>Ki\u015fisel kullan\u0131m i\u00e7in kullan\u0131ma haz\u0131r bir wireguard sunucu konteyneridir. H\u0131zl\u0131 kullan\u0131m i\u00e7in e\u015fleri ve yap\u0131land\u0131rma dosyalar\u0131n\u0131 otomatik olarak olu\u015fturur. Konteyneri kurmadan \u00f6nce d\u00fczenlemeniz gereken yaln\u0131zca 2 de\u011fi\u015fken vard\u0131r.</p> <p>Wireguard'in kernel mod\u00fcllerini sistemimize a\u015fa\u011f\u0131daki komut ile kurup container i\u00e7in compose dosyas\u0131n\u0131 editledikten sonra aya\u011fa kald\u0131rabiliriz.</p> <pre><code>apt-get update ; apt-get install wireguard-tools\n</code></pre>"},{"location":"docker/docker-compose-dosyalari/wireguard/wireguard/#docker-compose-dosyas","title":"Docker-Compose Dosyas\u0131","text":"<pre><code>version: '3.7'\nservices:\n  wireguard:\n    image: linuxserver/wireguard\n    container_name: wireguard\n    cap_add:\n      - NET_ADMIN\n      - SYS_MODULE\n    environment:\n      - PUID=1000\n      - PGID=1000\n      - TZ=Turkey/Istanbul # timezone\n      - SERVERPORT=51820 # wireguard server portu\n      - PEERS=5 #optional\n      - PEERDNS=auto #optional\n      - ALLOWEDIPS=0.0.0.0/0 # Baglantiya izin verilen subnetler\n      - INTERNAL_SUBNET=10.13.13.0/24 # Wireguard Subneti\n      - SERVERURL= # Public IP\n    volumes:\n      - ./config:/config\n      - /usr/src:/usr/src # location of kernel headers\n      - /lib/modules:/lib/modules\n    ports:\n      - 51820:51820/udp\n    sysctls:\n      - net.ipv4.conf.all.src_valid_mark=1\n    restart: always\n</code></pre> <p>18 ve 14. sat\u0131rlar\u0131 d\u00fczenlemek gerekmektedir. 18. sat\u0131ra public IP adresini, 14. sat\u0131ra ise sunucunuzda ka\u00e7 istemci olmas\u0131n\u0131 istedi\u011finizi belirten bir say\u0131 yaz\u0131n.</p> <p>Not: Sistemde bir firewall var ise WireGuard'\u0131n kulland\u0131\u011f\u0131 porta izin vermek gerekmektedir. Kullan\u0131lan port 51820 olarak belirlenmi\u015ftir.(Wireguard'\u0131n default portu) \u0130ste\u011fe g\u00f6re bu compose dosyas\u0131ndan d\u00fczenlenebilir.</p>"},{"location":"freepbx/sertifika-yenileme/","title":"Freepbx HTTPS Sertifikas\u0131 Yenileme \u0130\u015flemi","text":"<p>Freepbx aray\u00fcz\u00fcn\u00fcn https sertifikas\u0131n\u0131n yenilenmesi i\u00e7in a\u015fa\u011f\u0131daki ad\u0131mlar uygulanmal\u0131d\u0131r. Sertifika yenileme i\u015flemi aray\u00fcz \u00fczerinden yap\u0131lmal\u0131d\u0131r. E\u011fer aray\u00fcz \u00fczerinden yap\u0131lmazsa Pbx'in kulland\u0131\u011f\u0131 Apache restart edildi\u011fi zaman eski sertifikaya geri d\u00f6nebilir ve fark\u0131 sorunlar yaratabilir.</p>"},{"location":"freepbx/sertifika-yenileme/#pbx-arayuzunden-https-sertifikas-yenileme-islemi","title":"Pbx Aray\u00fcz\u00fcnden HTTPS Sertifikas\u0131 Yenileme \u0130\u015flemi","text":"<ol> <li>Pbx aray\u00fcz\u00fc i\u00e7in bir HTTPS sertifikas\u0131 generate edilerek Admin -&gt; Certificate Management men\u00fcs\u00fcne gidilir.</li> <li>New Certificate -&gt; Upload Certificate men\u00fcs\u00fcne giri\u015f yap\u0131l\u0131r.</li> </ol> <ol> <li>Private Key k\u0131sm\u0131na sertifikan\u0131n Private Keyi, Certificate k\u0131sm\u0131na sertifika yaz\u0131larak sa\u011f alttan Generate Certificate butonuna bas\u0131l\u0131r.</li> <li>Tekrar Certificate Management men\u00fcs\u00fcne d\u00f6n\u00fcp y\u00fcklenen seritfika default sertifika olarak ayarlan\u0131r.</li> <li>Admin -&gt; System Admin men\u00fcs\u00fcne gidilir.</li> <li>System Admin men\u00fcs\u00fcn\u00fcn alt\u0131ndan HTTPS Setup men\u00fcs\u00fcne gidilir(Ekran\u0131n sa\u011f taraf\u0131nda)</li> <li>HTTPS Setup Men\u00fcs\u00fcn\u00fcn Settings k\u0131sm\u0131na gelip y\u00fcklenen sertifika Certificate Manager men\u00fcs\u00fc alt\u0131ndan se\u00e7ilir ve install butonuna bas\u0131l\u0131r.</li> <li>Install i\u015flemi bittikten sonra Save and Restart Apache butonuna bas\u0131l\u0131r ve Apache yeniden ba\u015flat\u0131l\u0131r.</li> </ol>"},{"location":"guncelleme/gitlab/","title":"GitLab G\u00fcncelleme Ad\u0131mlar\u0131","text":"<ul> <li> <p>Bu d\u00f6k\u00fcman GitLab'\u0131n bir Debian sistem \u00fczerine apt repolar\u0131ndan kurulu halinin g\u00fcncelleme i\u015flemlerini i\u00e7erir. E\u011fer GitLab bir Docker container\u0131 olarak \u00e7al\u0131\u015f\u0131yorsa uygulanacak olan i\u015flemler farkl\u0131d\u0131r.</p> </li> <li> <p>G\u00fcncelleme i\u015flemi ger\u00e7ekle\u015ftirilmeden \u00f6nce mutlaka var olan sunucunun yede\u011fi al\u0131nmal\u0131d\u0131r. KVM ise <code>/var/lib/images/</code> dizini alt\u0131ndaki <code>qcow2</code> dosyas\u0131n\u0131n yedeklenmesi yeterlidir.</p> </li> </ul>"},{"location":"guncelleme/gitlab/#hazrlk","title":"Haz\u0131rl\u0131k","text":"<ul> <li> <p>GitLab'\u0131n resmi sitesinde belirlenen s\u00fcr\u00fcm i\u00e7in bir upgrade path varsa(mutlaka vard\u0131r) g\u00fcncelleme i\u015flemi s\u0131ras\u0131 ile yap\u0131lmal\u0131d\u0131r.</p> </li> <li> <p>\u00d6rne\u011fin Gitlab 13'den 15'e g\u00fcncellenmek isteniyorsa \u00f6nce GitLab 13.9, sonra 15.x'e g\u00fcncellenmelidir. Bu kural halihaz\u0131rda kullan\u0131lan GitLab s\u00fcr\u00fcm\u00fcne ve g\u00fcncellenmek istenen s\u00fcr\u00fcme g\u00f6re de\u011fi\u015fiklik g\u00f6sterebilir.</p> </li> <li> <p>Buradaki linkten GitLab Upgrade Path \u00f6\u011frenilebilir.</p> </li> </ul> <p></p> <p>GitLab 16.8 s\u00fcr\u00fcm\u00fcnde oldu\u011fumuzu varsayal\u0131m. 16.8'den 17.y.z li bir s\u00fcr\u00fcme g\u00fcncellemek i\u00e7in ilk \u00f6nce GitLab 16.11.z s\u00fcr\u00fcm\u00fcne, sonra 17.13.z s\u00fcr\u00fcm\u00fcne, sonra da 17.7.z s\u00fcr\u00fcm\u00fcne ge\u00e7memiz gerekmektedir.</p> <ul> <li> <p>Her zaman bulunan update stop\u0131n en son s\u00fcr\u00fcm\u00fcne g\u00fcncellenmesi tavsiye edilir. 16.11.z \u00f6rne\u011findeki z k\u0131sm\u0131na en g\u00fcncel s\u00fcr\u00fcm\u00fcn numaras\u0131 eklenerek bu s\u00fcr\u00fcme g\u00fcncelleme yap\u0131labilir.</p> </li> <li> <p>GitLab g\u00fcncellenmeden \u00f6nce kullan\u0131c\u0131lara duyuru yap\u0131lmas\u0131 tavsiye edilir. Bu i\u015flem s\u0131ras\u0131nda CI i\u015flemleri vs aktif olmayacakt\u0131r.</p> </li> </ul>"},{"location":"guncelleme/gitlab/#yedekleme-islemi","title":"Yedekleme \u0130\u015flemi","text":"<ol> <li> <p>GitLab'\u0131n \u00e7al\u0131\u015ft\u0131\u011f\u0131 makineye ba\u011flanarak sunucu a\u015fa\u011f\u0131daki gibi kapat\u0131l\u0131r.</p> <p><code>sync &amp;&amp; poweroff</code></p> </li> <li> <p>Ana host uzerindeki disk alani dikkate alinarak sanal makinenin disk imajinin bir yedegi alinir. (Kullan\u0131lan sanalla\u015ft\u0131rma teknolojisine g\u00f6re bu ad\u0131m de\u011fi\u015febilir.)</p> <p><code>cp gitlab.qcow2 TARIH-gitlab-berk.qcow2</code></p> </li> <li> <p>Yedekleme i\u015flemi tamamland\u0131\u011f\u0131nda gitlab makinesi tekrar ba\u015flat\u0131l\u0131r.</p> <p><code>virsh start gitlab</code></p> </li> </ol>"},{"location":"guncelleme/gitlab/#guncelleme-islemi","title":"G\u00fcncelleme \u0130\u015flemi","text":"<ol> <li>Belirlenen GitLab s\u00fcr\u00fcm\u00fcne ge\u00e7i\u015f yap\u0131l\u0131r.</li> </ol> <p>E\u011fer ara s\u00fcr\u00fcm varsa, her ara s\u00fcr\u00fcm i\u00e7in bu i\u015flemler uygulan\u0131r.</p> <pre><code>root@gitlab:~# apt update\nroot@gitlab:~# apt install gitlab-ee=&lt;version&gt;-ee.0\n</code></pre> <p>E\u011fer gitlab'\u0131n community edition s\u00fcr\u00fcm\u00fc kullan\u0131l\u0131yorsa paket ismindeki ee, ce olarak de\u011fi\u015ftirilir.</p> <p><code>root@gitlab:~# apt install gitlab-ce=&lt;version&gt;-ce.0</code></p> <ol> <li>S\u00fcr\u00fcm y\u00fckseltmesi tamamland\u0131ktan sonra GitLab yap\u0131land\u0131rmas\u0131n\u0131n sa\u011flaml\u0131\u011f\u0131 kontrol edilir.</li> </ol> <p><code>root@gitlab:~# gitlab-rake gitlab:check</code></p> <p>Failed durumda bir madde yoksa bir sonraki ad\u0131ma ge\u00e7ilir.</p> <ol> <li> <p>GitLab'\u0131n aray\u00fcz\u00fcnden GitLab s\u00fcr\u00fcm\u00fc kontrol edilir.</p> <p>https://gitlab-adresi.com/admin</p> </li> <li> <p>GitLab arkaplanda bir migration i\u015flemi yap\u0131yor mu diye kontrol edilir, e\u011fer yap\u0131yorsa tamamlanmas\u0131 beklenir.</p> <p>https://gitlab-adresi.com/admin/background_migrations</p> </li> <li> <p>Arkaplandaki migration i\u015flemleri bittikten sonra komut sat\u0131r\u0131ndan tekrar kontrol edilir.</p> </li> </ol> <pre><code>gitlab-rails runner -e production 'puts Gitlab::Database::BackgroundMigration::BatchedMigration.queued.count'\n</code></pre> <p>Her g\u00fcncelleme i\u015flemi i\u00e7in bu ad\u0131mlar\u0131n tekrarlanmas\u0131 gerekmektedir.</p>"},{"location":"haproxy/frontend-backend-ekleme/","title":"Haproxy'de Frontend ve Backend Ekleyip Yonlendirme","text":""},{"location":"haproxy/frontend-backend-ekleme/#frontend-ekleme","title":"Frontend Ekleme","text":"<p>Frontend ekleme islemi duruma ve config dosyasinin hangi duzende tutulmak istenmesine gore degisebilir. Ben http ve https olarak iki ayri ana frontend tanimlayip acl tanimlarini bu frontendler icerisinde yapmayi tercih ediyorum.</p> <p>Asagidaki iki tanim haproxy.cfg dosyasina eklenir:</p> <ul> <li>SSL Sertifikasi bind edilen portun yanina eklenebilir. (Ayni satirda birden fazla ssl sertifikasi eklenebilir. Haproxy acl tanimlarindaki alan adlari ile sertifikalari otomatik olarak eslestirecektir.)</li> </ul> <pre><code>frontend http_in\n    bind *:80\n    mode http\n    option httplog\n\n    # ACL Tanimlari\n    acl host_cloud hdr(host) -i cloud.homelab.tr\n    acl host_zabbix hdr(host) -i zabbix.homelab.tr\n#    redirect scheme https if !{ ssl_fc } host_cloud\n#    redirect scheme https if !{ ssl_fc } host_zabbix\n\n    #Backend Yonlendirmeleri\n    use_backend cloud_backend if host_cloud\n    use_backend zabbix_backend if host_zabbix\n\nfrontend https_in\n    bind *:443 ssl crt /etc/haproxy/certs/yildiz-homelab.tr.pem\n    mode http\n    option httplog\n\n    # ACL Tanimlari\n    acl host_cloud hdr(host) -i cloud.homelab.tr\n    acl host_zabbix hdr(host) -i zabbix.homelab.tr\n\n    # Backend Yonlendirmeleri\n    use_backend cloud_backend if host_cloud\n    use_backend zabbix_backend if host_zabbix\n</code></pre>"},{"location":"haproxy/frontend-backend-ekleme/#acl-nedir","title":"ACL Nedir?","text":"<p>HAProxy'de ACL (Access Control List), gelen istekleri belirli kriterlere g\u00f6re filtreleyerek, y\u00f6nlendirme veya eri\u015fim kontrol\u00fc yapmaya olanak tan\u0131yan bir mekanizmad\u0131r. ACL'ler, belirli ba\u015fl\u0131klar\u0131 (headers), kaynak IP adreslerini, istek yollar\u0131n\u0131 (paths), HTTP metodlar\u0131n\u0131 ve daha bir\u00e7ok de\u011fi\u015fkeni kontrol etmek i\u00e7in kullan\u0131labilir.</p>"},{"location":"haproxy/frontend-backend-ekleme/#acl-ekleme","title":"ACL Ekleme","text":"<ol> <li>Aktif olarak kullanilan frontend icerisine (443'den trafik kabul eden) asagidaki satir eklenir:</li> </ol> <p><code>acl host_SERVIS_ADI hdr(Host) -i ALAN-ADI</code></p> <p>host_SERVIS_ADI kismini siz belirleyebilirsiniz. Burada belirledigimiz isimi backend y\u00f6nlendirmesinde kullanaca\u011f\u0131z. Ayr\u0131ca haproxy loglarinda gozukecegi icin loglari ayristirmak daha kolay olacaktir.</p> <ol> <li>Ayn\u0131 frontend'in i\u00e7ine <code>use_backend</code> tanimi ile belirledigimiz alan adina gelen trafikleri istedigimiz backendlere yonlendirebiliriz.</li> </ol> <p><code>use_backend BACKEND-ADI if BELIRLEDIGIMIZ-HOST-SERVIS-ADI</code></p> <p>Bu islemi yaptiktan sonra belirledigimiz alan adina gelen trafik BACKEND-ADI ile gosterdigimiz backende yonlenecek.</p>"},{"location":"haproxy/frontend-backend-ekleme/#acl-anahtar-kelimeleri","title":"ACL Anahtar Kelimeleri","text":"<p>Baz\u0131 anahtar kelimeler acl tan\u0131mlar\u0131nda esneklik uygulamam\u0131z\u0131 sa\u011flar. Bu k\u0131s\u0131mda bu keywordleri ve i\u015flevlerini listeleyece\u011fim</p> <ol> <li>path_beg(path beginning): Bir HTTP iste\u011finin URL yolunun ba\u015flang\u0131c\u0131n\u0131n belirli bir dizeyle e\u015fle\u015fip e\u015fle\u015fmedi\u011fini kontrol etmek i\u00e7in kullan\u0131l\u0131r. Genelde /admin /api y\u00f6nlendirmeleri yaparken kullan\u0131labilir.</li> </ol> <pre><code>acl is_blog_path path_beg /blog\n\nuse_backend blog_backend if is_blog_path\n</code></pre> <p>Bu \u00f6rnek Haproxy'e gelen ve /blog pathine gelen butun istekleri blog_backend isimli backende y\u00f6nlendirecektir.</p>"},{"location":"haproxy/frontend-backend-ekleme/#backend-ekleme","title":"Backend Ekleme","text":"<ol> <li>Backend Tanimini Yapalim:</li> </ol> <p>haproxy.cfg'nin en altina:</p> <pre><code>backend BACKEND-ADI\n   balance roundrobin\n   mode http \n   server ISTEDIGIMIZ-BIR-ISIM IP-ADRESI:PORT check ssl verify none\n\n</code></pre> <ol> <li>Configi kaydedip ciktiktan sonra <code>haproxy -c -f /etc/haproxy/haproxy.cfg</code> komutu ile config'de hata var mi diye kontrol edilir.</li> <li>Eger configde hata yoksa <code>systemctl reload haproxy</code> ile haproxy'i reloadlayabiliriz.</li> </ol>"},{"location":"haproxy/maxconn/","title":"Maxconn","text":""},{"location":"haproxy/maxconn/#maxconn","title":"Maxconn","text":"<p>Maxconn parametresi, frontend, backend veya global yap\u0131land\u0131rmada ayarlanabilen ve ayn\u0131 anda kabul edilecek maksimum ba\u011flant\u0131 say\u0131s\u0131n\u0131 belirleyen bir ayard\u0131r. Amac\u0131 sistem kaynaklar\u0131n\u0131n verimli bir \u015fekilde kullan\u0131lmas\u0131n\u0131 sa\u011flamak ve a\u015f\u0131r\u0131 y\u00fcklenmeyi engellemektir. Bu ayar global, frontend ve backend'de yapilabilir.</p> <pre><code>global\n    maxconn 4096\n</code></pre>"},{"location":"haproxy/maxconn/#dikkat-edilmesi-gerekenler","title":"Dikkat Edilmesi Gerekenler","text":"<p><code>ulimit</code> gibi sistem ayarlar\u0131n\u0131n maxconn de\u011ferini desteklemesi gerekmektedir. <code>/etc/security/limits.conf</code> dosyas\u0131 a\u015fa\u011f\u0131daki gibi editlenerek ulimit de\u011feri kal\u0131c\u0131 hale getirilebilir.</p> <pre><code>*    hard    nofile    30000071\n*    soft    nofile    30000071\n</code></pre> <p>Ayrica /etc/sysctl/conf dosyas\u0131ndaki fs.file-max parametresi ile daha fazla dosya s\u0131n\u0131r\u0131 verilmezse haproxynin kullan\u0131ld\u0131\u011f\u0131 makinede performans sorunlar\u0131 olu\u015fabilir.</p>"},{"location":"javascript/bcrypt/","title":"Bcrypt nedir?","text":"<p>Bcrypt, parolalar\u0131n g\u00fcvenli bir \u015fekilde saklanmas\u0131n\u0131 sa\u011flamak amac\u0131yla kullan\u0131lan bir \u015fifreleme algoritmas\u0131d\u0131r. Geleneksel \u015fifreleme y\u00f6ntemlerinden farkl\u0131 olarak, bcrypt hem g\u00fcvenli hem de yava\u015f \u00e7al\u0131\u015facak \u015fekilde tasarlanm\u0131\u015ft\u0131r. Bu, sald\u0131rganlar\u0131n parolalar\u0131 k\u0131rma giri\u015fimlerini zorla\u015ft\u0131r\u0131r, \u00e7\u00fcnk\u00fc brute-force sald\u0131r\u0131lar\u0131yla \u015fifre \u00e7\u00f6zmek \u00e7ok uzun zaman al\u0131r.</p>"},{"location":"javascript/bcrypt/#javascript-ile-nasl-kullanlr","title":"JavaScript \u0130le Nas\u0131l Kullan\u0131l\u0131r?","text":"<ol> <li>Npm \u00fczerinden javascript projesine a\u015fa\u011f\u0131daki komut ile dahil edilir.</li> </ol> <pre><code>npm install bcryptjs\n</code></pre> <ol> <li>Projeye dahil edilen npm paketi a\u015fa\u011f\u0131daki gibi import edilir.</li> </ol> <pre><code>const bcrypt = require('bcryptjs');\n</code></pre> <ol> <li> <p>Bu ad\u0131mda y\u00fckledi\u011fimiz paketin i\u00e7erisindeki fonksiyonlar kullan\u0131larak \u015fifreleme i\u015flemi ger\u00e7ekle\u015ftirilir.</p> <ul> <li> <p>hash: parola olarak verilen veriyi bcrypt algoritasm\u0131 ile hashleme i\u015flemini ger\u00e7ekle\u015ftirir.</p> <ul> <li> <p>password(String): String olarak i\u00e7erisine bir veri al\u0131r. Genelde kullan\u0131c\u0131n\u0131n \u015fifrelenmemi\u015f parolas\u0131 buraya parametre olarak verilir.</p> </li> <li> <p>saltOrRounds(number | string): Salt maliyet fakt\u00f6r\u00fc (genellikle 10 veya 12 gibi de\u011ferler). Bu, bcrypt'in hashing i\u015flemi s\u0131ras\u0131nda ka\u00e7 tur (round) salt i\u015flemi yap\u0131laca\u011f\u0131n\u0131 belirler. De\u011fer ne kadar y\u00fcksekse, hashing i\u015flemi o kadar uzun s\u00fcrer ve g\u00fcvenlik o kadar artar. </p> </li> <li> <p>callback(function): Hashleme i\u015flemi tamamland\u0131\u011f\u0131nda \u00e7a\u011f\u0131r\u0131lacak olan fonksiyondur. Bu fonksiyon da iki adet parametre al\u0131r.</p> <ul> <li> <p>err: Bir hata olu\u015ftuysa bu parametre hata mesaj\u0131n\u0131 i\u00e7erir, e\u011fer bir hata yoksa i\u00e7erisindeki de\u011fer null olur.</p> </li> <li> <p>hash: Hashlenmi\u015f parola(\u015fifre) burada yer al\u0131r.</p> <pre><code>const plainPassword = 'kullanicidan-alinan-parola';\nconst saltRounds = 10; // Genellikle 10 veya 12 tercih edilir\n\nbcrypt.hash(plainPassword, saltRounds, function(err, hash) {\n    if (err) {\n        console.error('Hashleme hatas\u0131:', err);\n    } else {\n        console.log('Hashlenmi\u015f \u015fifre:', hash);\n    }\n});\n</code></pre> </li> <li> <p>compare: kullan\u0131c\u0131 taraf\u0131ndan girilen plain parolay\u0131 hashlenmi\u015f hali ile k\u0131yaslar.</p> <ul> <li> <p>plainPassword(string): Parametre olarak kar\u015f\u0131la\u015ft\u0131rma i\u015flemi i\u00e7in kullan\u0131n\u0131n \u015fifrelenmemi\u015f parolas\u0131n\u0131 al\u0131r. </p> </li> <li> <p>hashedPassword(string): Veritaban\u0131nda saklanan daha \u00f6nce hashlenmi\u015f parola bu parametre ile g\u00f6nderilir. Bcrypt bu hashlenmi\u015f parolay\u0131(\u015fifreyi) d\u00fcz metin halindeki parola ile kar\u015f\u0131la\u015ft\u0131rarak kontrol edecektir.(plainPassword)</p> </li> <li> <p>callback(function): Kar\u015f\u0131la\u015ft\u0131rma i\u015flemi tamamland\u0131\u011f\u0131nda \u00e7a\u011f\u0131r\u0131lacak olan callback fonksiyonudur. Bu fonksiyon da iki adet parametre al\u0131r;</p> <ul> <li>err: E\u011fer kar\u015f\u0131la\u015ft\u0131rma s\u0131ras\u0131nda bir hata olu\u015fursa bu paramtre hata mesaj\u0131n\u0131 i\u00e7erir.</li> <li>isMatch: Kar\u015f\u0131la\u015ft\u0131rma yap\u0131ld\u0131ktan sonra parolan\u0131n hashlenmi\u015f hali ile plain text hali e\u015fle\u015fiyorsa true, e\u015fle\u015fmiyorsa false de\u011ferini al\u0131r.</li> </ul> </li> </ul> </li> </ul> <p>\u00d6rnek:</p> <pre><code>bcrypt.compare(plainPassword, hashedPassword, function(err, isMatch) {\n    if (err) {\n        console.error('Kar\u015f\u0131la\u015ft\u0131rma s\u0131ras\u0131nda bir hata olu\u015ftu:', err);\n    } else if (isMatch) {\n        console.log('\u015eifreler e\u015fle\u015fiyor!');\n    } else {\n        console.log('\u015eifreler e\u015fle\u015fmiyor.');\n    }\n});\n</code></pre> </li> </ul> </li> </ul> </li> </ol>"},{"location":"javascript/jwt/","title":"JWT","text":"<p>JWT\u2019lerin en buyuk avantaji ucuncu parti yazilimlarla da senkron bir sekilde calisabiliyor olmasi. Uygulama sunucusu ve ucuncu parti sunucu arasinda aktif bir baglantiya ihtiyac duymadan calisabilir.</p> <p>JWT 3 Parcadan olusur, Header, Payload ve Signature.</p> <p>Payload</p> <p>Basit bir sekilde aciklamak gerekirse bir Javascript objesidir. Json formatindadir. Genelde kullanici hakkinda verileri icerir fakat boyle bir zorunluluk yoktur. </p> <p>Header</p> <p>JWT hakkindaki bilgileri kapsayan kisim. Hangi algoritma ile hashlendigi, modeli vs bu kisimda bulunur. Dumduz bir javascript objesidir.</p> <p>Signature</p> <p>Message Authentication Code kismi bu kisimdadir. Sadece JWT\u2019nin gizli anahtarina sahip olan kisi tarafindan uretilebilir.</p> <p>Signature Kismi Authentication icin nasil kullanilir?</p> <ul> <li>Kullanici kullanici adini ve parolasini uygulama sunucusuna gonderir, bu genelde ayri bir sunucudur.</li> <li>Authentication islemini gerceklestiricek sunucu kullanici adi ve parola kombinasyonunu dogruladiktan sonra Payload iceren bir JWT token\u2019i olusturur. Bu tokenin icerisine kullanicinin kimligini belirtecek json keyleri ve JWT\u2019nin son kullanma tarihini olusturur.</li> <li>Authentication sunucusu secret key ile Header ve Payload\u2019i imzalayarak kullanicinin tarayicisina gonderir.</li> <li>Tarayici secret key ile imzalanmis JWT yi alir ve her HTTP requestin icerisinde bu JWT yi gonderir</li> <li>Bu imzalanmis JWT kullanicinin kullanici adi ve sifre kombinasyonunun yerini alan gecici bir kullanici kimlik bilgisi olarak calisir.</li> </ul> <p>Sunucu JWT Token ile Ne Yapar?</p> <ul> <li>HTTP Requestin icerisinde gelen JWT nin kullanicinin secret key\u2019i ile imzalandigini dogrular. Payload kismina bakarak yapar.</li> <li>Secret key sadece Authentication sunucusunda bulunur. Ve imzalanmis JWT yi sadece dogru girilmis kullanici adi ve parola kombinasyonu yapan kisilere verir.</li> <li>Dogru bilgiler ile giris yapilinca Authentication sunucusu kullaniciya guvenerek HTTP Requestlere cevap verir. Eger kullanici guvenilmez durumda ise(yanlis kullanici adi ve sifre kombinasyonu) buna gore HTTP requeste cevap verir.</li> <li>JWT\u2019li bir sistemin hacklenmesi icin ya kullanici adi ve sifre kombinasyonunun calinmasi ya da Authentication sunucusundan secret key\u2019in calinmasi gerekir.</li> </ul> <p>Gozuktugu uzere bir JWT\u2019nin en onemli kismi signature kismidir. Bu dogrulama sayesinde kullaniciya her seferinde kullanici adi ve parolasini sormadan olumlu bir kullanici deneyimi ve guvenlik saglanir. Authentication sunucusu ve uygulama sunucusu genelde iki ayri sunucu olur fakat bu bir zorunluluk degildir fakat bu bir artidir. Uygulama sunucusu hafif ve guvenli, butun dogrulama islemleri de Authentication sunucusunda oldugu icin.</p> <p>JWT Token\u2019daki bahsedilen 3 parca \u201c.\u201d isareti ile ayrilir.</p>"},{"location":"kubernetes/kubernetes/","title":"Kubernetes","text":"<p>Icerik eklenecek...</p>"},{"location":"kubernetes/kubernetes/#menu","title":"Menu","text":"<ul> <li>Namespace</li> </ul>"},{"location":"kubernetes/namespace/","title":"Namespace","text":""},{"location":"linux/bacula/","title":"Bacula Nedir?","text":"<p>Bacula a\u00e7\u0131k kaynak kodlu bir yedekleme ve geri y\u00fckleme yaz\u0131l\u0131m\u0131d\u0131r. Verileri otomatik olarak yedeklemek, geri y\u00fcklemek i\u00e7in kullan\u0131l\u0131r. K\u00fc\u00e7\u00fck ev a\u011flar\u0131ndan b\u00fcy\u00fck veri merkezlerine kadar farkl\u0131 \u00f6l\u00e7eklerde kullan\u0131labilir.</p>"},{"location":"linux/bacula/#baculann-bilesenleri","title":"Bacula'n\u0131n Bile\u015fenleri","text":"<p>Bacula belli ba\u015fl\u0131 bile\u015fenlere ayr\u0131larak \u00e7al\u0131\u015f\u0131r ve bu sayede kullan\u0131m\u0131 ve y\u00f6netimi kolayla\u015f\u0131r.</p> <ul> <li> <p>Director (Bacula-dir): Yedekleme i\u015flemlerini planlar ve y\u00f6netir. Bacula'n\u0131n merkezi bile\u015fenidir.</p> </li> <li> <p>Storage Daemon: Yedekleme verilerini fiziksel veeya sanal depolama cihazlar\u0131na yazar.</p> </li> <li> <p>File Daemon (Bacula-fd): Yedeklenecek istemci makinelerde \u00e7al\u0131\u015farak yedeklenecek dosyalar\u0131 okuyup Storage Daemon'a iletir.</p> </li> <li> <p>Catalog (Veritaban\u0131): Yedekleme ve geri y\u00fckleme i\u015flemleriyle ilgili metadata bilgilerini saklar. Genellikle MYSQL, PostgreSQL veya SQLite kullan\u0131r.</p> </li> <li> <p>Console: (Bconsole): Bacula'y\u0131 komut sat\u0131r\u0131ndan y\u00f6netmek i\u00e7in kullan\u0131l\u0131r.</p> </li> <li> <p>Baculum (Web Aray\u00fcz\u00fc): Bacula'y\u0131 web tabanl\u0131 bir aray\u00fczden kontrol etmeyi m\u00fcmk\u00fcn k\u0131lar.</p> </li> </ul>"},{"location":"linux/bacula/#bacula-adm-adm-nasl-calsr","title":"Bacula Ad\u0131m Ad\u0131m Nas\u0131l \u00c7al\u0131\u015f\u0131r?","text":"<p>Yedekleme i\u015fleminin ba\u015ftan sona nas\u0131l \u00e7al\u0131\u015ft\u0131\u011f\u0131n\u0131 \u00f6\u011frendi\u011fimizde Bacula'y\u0131 anlamak daha kolay hale geliyor. A\u015fa\u011f\u0131daki s\u0131ra ile Bacula yedekleme i\u015flemini ger\u00e7ekle\u015ftirir:</p> <ol> <li>Director, yap\u0131land\u0131r\u0131lm\u0131\u015f bir plana g\u00f6re yedekleme i\u015flemini ba\u015flat\u0131r.</li> <li>File Daemon istemcilerdeki dosyalar\u0131 okuyarak Storage Daemon'a iletir. Bu s\u00fcre\u00e7 ger\u00e7ekle\u015firken Catalog yedekleme i\u015fleminin metadatas\u0131n\u0131 saklar.</li> <li>Veriler Storage Daemon taraf\u0131ndan belirtilen depolama cihaz\u0131na yaz\u0131l\u0131r.</li> </ol>"},{"location":"linux/bacula/#sras-ile-bacula-bilesenleri-konfigurasyonu","title":"S\u0131ras\u0131 ile Bacula Bile\u015fenleri Konfig\u00fcrasyonu","text":""},{"location":"linux/bacula/#bacula-dir-director","title":"Bacula-dir (Director)","text":"<p>Bacula director'un kuruldu\u011fu sunucuda <code>/etc/bacula/bacula-dir.conf</code> dosyas\u0131 ile a\u015fa\u011f\u0131daki ayarlamalar yap\u0131l\u0131r: </p> <pre><code>Director {                            # Director yap\u0131land\u0131rmas\u0131\n  Name = bacula-dir                  # Director ad\u0131\n  DIRport = 9101                     # Director i\u00e7in port\n  QueryFile = \"/etc/bacula/scripts/query.sql\"  # SQL sorgu dosyas\u0131\n  WorkingDirectory = \"/var/lib/bacula\"\n  PidDirectory = \"/var/run/bacula\"\n  Maximum Concurrent Jobs = 10      # Maksimum e\u015f zamanl\u0131 i\u015f\n  Password = \"director_password\"    # \u015eifre (File Daemon ile e\u015fle\u015fmeli)\n}\n</code></pre>"},{"location":"linux/bacula/#file-daemon-istemcilere-kurulur","title":"File-Daemon (\u0130stemcilere Kurulur)","text":"<p>\u0130stemcilere file-daemon kurulduktan sonra <code>/etc/bacula/bacula-fd.conf</code> dosyas\u0131na client ayarlar\u0131 yaz\u0131labilir.</p> <pre><code>Client {\n    Name = nextcloud-fd                 # \u0130stemci ad\u0131 (File Daemon'daki isimle ayn\u0131 olmal\u0131)\n    Address = 192.168.1.102             # \u0130stemci IP adresi\n    FDPort = 9102                       # File Daemon portu\n    Catalog = MyCatalog                 # Veritaban\u0131\n    Password = \"fd_password\"            # File Daemon \u015fifresi (istemcidekiyle ayn\u0131 olmal\u0131)\n    File Retention = 30 days            # Yedek dosya tutulma s\u00fcresi\n    Job Retention = 6 months            # \u0130\u015f kay\u0131tlar\u0131n\u0131n tutulma s\u00fcresi\n  }\n</code></pre>"},{"location":"linux/bacula/#storage-daemon","title":"Storage Daemon","text":"<p>Storage Daemon dosyalar\u0131n yedeklenece\u011fi sunucuya kurulur. Bacula Director'un bulundu\u011fu sunucuya kurulmas\u0131 pratik olabilir. Ayar dosyas\u0131 <code>/etc/bacula/bacula-sd.conf</code>.</p> <pre><code>Storage {                          # Depolama yap\u0131land\u0131rmas\u0131\n  Name = File                     # Depolama cihaz\u0131n\u0131n ad\u0131\n  SDPort = 9103                   # Storage Daemon i\u00e7in port\n  WorkingDirectory = \"/var/lib/bacula\"\n  PidDirectory = \"/var/run/bacula\"\n  Maximum Concurrent Jobs = 10\n}\n\nDevice {                           # Depolama cihaz\u0131 bilgisi\n  Name = FileStorage              # Depolama cihaz\u0131 ad\u0131\n  MediaType = File                # Depolama t\u00fcr\u00fc\n  ArchiveDevice = /mnt/backup     # Yedeklerin saklanaca\u011f\u0131 dizin\n  LabelMedia = yes                # Otomatik medya etiketi\n  RandomAccess = Yes\n  AutomaticMount = yes\n  RemovableMedia = no\n  AlwaysOpen = yes\n}\n</code></pre>"},{"location":"linux/bacula/#schedule-ve-job-tanmlayarak-yedekleme-islemlerini-gerceklestirme","title":"Schedule ve Job Tan\u0131mlayarak Yedekleme \u0130\u015flemlerini Ger\u00e7ekle\u015ftirme","text":"<p>Bacula-dir'in ayar dosyas\u0131na bir schedule ve job tan\u0131mlayarak yedekleme i\u015flemlerini ger\u00e7ekle\u015ftirebiliriz. Schedule, Bacula'da Run anahtar kelimesiyle tan\u0131mlan\u0131r ve farkl\u0131 zamanlama t\u00fcrleri i\u00e7in birden fazla Run sat\u0131r\u0131 eklenebilir. Her bir Job tan\u0131m\u0131nda ilgili Schedule ad\u0131 belirtilir.</p> <p>A\u015fa\u011f\u0131da bir Schedule ve bir Job tan\u0131m\u0131 mevcut. Buradaki ayar dosyalar\u0131n\u0131 inceleyerek yap\u0131y\u0131 anlayabilirsiniz. Job'da Schedule'\u0131n ad\u0131n\u0131 veriyoruz ve Schedule tetikleniyor.</p>"},{"location":"linux/bacula/#schedule","title":"Schedule","text":"<pre><code>Schedule {\n    Name = \"WeeklyCycle\"             # Zamanlama ad\u0131\n    Run = Full sun at 23:05          # Her Pazar tam (full) yedekleme\n    Run = Incremental mon-sat at 23:05 # Pazartesiden Cumartesiye art\u0131ml\u0131 (incremental) yedekleme\n}\n</code></pre>"},{"location":"linux/bacula/#job","title":"Job","text":"<pre><code>Job {\n    Name = \"Nextcloud_Backup\"\n    Client = nextcloud-fd\n    FileSet = \"Full Set\"\n    Schedule = \"WeeklyCycle\"       # Schedule ile ili\u015fkilendirme\n    Storage = File\n    Pool = Default\n    Messages = Standard\n}\n</code></pre> <p>Config dosyalarinda bir hata olup olmad\u0131\u011f\u0131n\u0131 kontrol etmek i\u00e7in <code>sudo bacula-dir -t</code> komutunu kullanabilirsiniz.</p>"},{"location":"linux/baslangic/","title":"Baslangic","text":"<p>Computing(bilgiyi i\u015flemek!?) yani bilgisayar kullanmak g\u00fcn\u00fcm\u00fczde fazlas\u0131yla interaktif. Komut sat\u0131r\u0131 kullanmak da bu interaktifli\u011fin bir par\u00e7as\u0131. \u00c7o\u011fu insan bilgisayar\u0131n\u0131 bir Masa\u00fcst\u00fc Ortam\u0131 ile veya bir Grafik Aray\u00fcz ile kullan\u0131r/kullan\u0131r\u0131z. Objelere t\u0131klar\u0131z, tutar ve s\u00fcr\u00fckleriz veya iki kere t\u0131klayarak a\u00e7ar\u0131z vb.</p> <p>Bu i\u015flemler s\u0131ras\u0131nda arkaplanda ger\u00e7ekle\u015fen i\u015flemleri fazla umursamay\u0131z, hatta farketmeyiz bile. Bizim her t\u0131klamam\u0131z veya her hareketimiz asl\u0131nda bir komut \u00e7al\u0131\u015ft\u0131r\u0131r. Komut sat\u0131r\u0131 kullanarak da ayn\u0131 i\u015flemleri ger\u00e7ekle\u015ftirebiliriz. Bir komut yazar\u0131z ve Enter veya Return tu\u015funa basar\u0131z. Mesela terminalimize(u\u00e7birim) date yazarsak ne olur?</p> <p><code>date</code></p> <p>Bilgisayar da bize \u015fu \u015fekilde yan\u0131t veriyor:</p> <pre><code>Wed 22 Dec 2021 09:33:52 AM +03\n</code></pre> <p>Tam da bir bilgisayar gibi yan\u0131t verdi. Bug\u00fcn\u00fcn tarihini, y\u0131l\u0131n\u0131 ve saatini \u00f6\u011frendik. \u0130lerleyen zamanlarda date komutunun \u00e7\u0131kt\u0131s\u0131n\u0131 \u00e7ok daha farkl\u0131 \u015fekillerde istemeyi \u00f6\u011frenece\u011fiz.</p>"},{"location":"linux/bilgisayar-icerisinde-gezinmek/","title":"Bilgisayar \u0130\u00e7erisinde Gezinmek","text":"<p>Daha \u00f6nce bir grafik aray\u00fcz arac\u0131l\u0131\u011f\u0131 ile bilgisayar kulland\u0131ysan\u0131z(Windows) klas\u00f6rler aras\u0131nda gezinmi\u015fsinizdir. Komut sat\u0131r\u0131 kullan\u0131rken klas\u00f6rleri dizin olarak adland\u0131r\u0131yoruz. Bir dizin i\u00e7erisinde yapt\u0131\u011f\u0131m\u0131z de\u011fi\u015fiklikler t\u0131pk\u0131 grafik aray\u00fcz\u00fcnde oldu\u011fu gibi klas\u00f6r\u00fcn/dizinin i\u00e7erisine yans\u0131t\u0131l\u0131r.</p> <p>Linux dosya sisteminde ilk dizine root(k\u00f6k) ad\u0131 verilir ve \u201c/\u201d i\u015faretiyle g\u00f6sterilir.(Sadece bir adet e\u011fik \u00e7izgi) Sistemdeki b\u00fct\u00fcn dizinleri ve dosyalar\u0131 bu k\u00f6kten ba\u015f a\u015fa\u011f\u0131 b\u00fcy\u00fcyen bir a\u011fa\u00e7 gibi d\u00fc\u015f\u00fcnebilirsiniz.</p> <p></p> <p>Yukar\u0131daki g\u00f6rselde de g\u00f6rd\u00fc\u011f\u00fcn\u00fcz \u00fczere Linux Dosya Sisteminde bulunan b\u00fct\u00fcn dizinler root dizini i\u00e7erisinde bulunuyor.</p> <p>Peki bir dizinin(klas\u00f6r\u00fcn) i\u00e7erisindeki dizinler nas\u0131l g\u00f6sterilir? \u00c7ok basit. Root dizinini temsil eden / i\u015fareti ile dizinlerin bulundu\u011fu konumu g\u00f6sterebiliriz. Diyelim ki bilgisayar\u0131n\u0131zda masa\u00fcst\u00fc k\u0131sm\u0131nda k\u0131sm\u0131nda bulunan resimler ad\u0131nda bir dizinimiz var. Bu dizini komut sat\u0131r\u0131nda bu \u015fekilde g\u00f6sterebiliriz.</p> <pre><code>/home/KULLANICI_ADI/Desktop/resimler\n</code></pre> <p>Linux dosya sisteminde sistem i\u00e7erisinde bulunan kullan\u0131c\u0131lara ait olan dizinler home isimli dizinin alt\u0131nda bulunur. Tabi \u015fimdilik bizi ilgilendiren k\u0131s\u0131m bu de\u011fil. Linux dosya sistemi konusuyla ilerleyen zamanlarda ilgilenmeliyiz.</p> <p>Dizinlerle Alakal\u0131 Linux Komutlar\u0131</p> <p>Linux \u00fczerinde dizinlerin ve uygulamalar\u0131n adreslerinin nas\u0131l g\u00f6sterildi\u011fini \u00f6\u011frendik. Peki komut sat\u0131r\u0131n\u0131 kullanarak dizinler aras\u0131nda nas\u0131l gezinebiliriz? Veya bulundu\u011fumuz dizini nas\u0131l \u00f6\u011frenebiliriz? Ba\u015flayal\u0131m:</p> <p>pwd</p> <p>pwd komutu ile bulundu\u011fumuz dizini \u00f6\u011frenebiliriz. Bu komutun a\u00e7\u0131l\u0131m\u0131 Print Working Directory\u2019dir. Komutlar\u0131n a\u00e7\u0131l\u0131mlar\u0131n\u0131 bilirseniz komutlar\u0131 ezberlemeniz \u00e7ok daha kolay olabilir. Fakat bir s\u00fcre kulland\u0131ktan sonra ister istemez ezberliyorsunuz. E\u011fer bu kadar komutu nas\u0131l ezberleyece\u011fim ben \u015feklinde bir kayg\u0131n\u0131z varsa olmas\u0131n\u00e7 \ud83d\ude42</p> <p>Hadi pwd komutunu kullanal\u0131m. Acaba bize nas\u0131l bir \u00e7\u0131kt\u0131 verecek?</p> <pre><code>$ pwd\nhome/berk\n</code></pre> <p>Komut sat\u0131r\u0131nda gezinirken teknik olarak s\u00fcrekli \u201cbir dizinin i\u00e7erisinde\u201d bulunuruz.</p> <p>G\u00f6rd\u00fc\u011f\u00fcn\u00fcz \u00fczere pwd komutu i\u00e7erisinde bulundu\u011fumuz dizini bize g\u00f6steriyor. Peki bulundu\u011fumuz dizini nas\u0131l de\u011fi\u015ftirebiliriz? Bunun i\u00e7in cd komutunu kullanabiliriz. A\u00e7\u0131l\u0131m\u0131 Change Directory olan bu komut sayesinde i\u00e7erisinde bulundu\u011fumuz dizini de\u011fi\u015ftirebiliriz.</p> <pre><code>$ cd /\n</code></pre> <p>Az \u00f6nce yukar\u0131daki komutu kullanarak i\u00e7erisinde bulundu\u011fumuz dizini root dizini olarak ayarlad\u0131k. E\u011fer az \u00f6nce bulundu\u011fumuz dizine geri d\u00f6nmek istiyorsak cd komutunu bu \u015fekilde kullanabiliriz:</p> <pre><code>$ cd home/berk\n</code></pre> <p>\u0130\u00e7eri\u015finde bulundu\u011fumuz dizini alternatif bir y\u00f6ntemle de de\u011fi\u015ftirebiliriz. cd komutuna direkt i\u00e7erisinde bulunmak istedi\u011fimiz dizinin adresini g\u00f6ndermek yerine tek tek dizinler i\u00e7erisine giri\u015f yapabiliriz.</p> <pre><code>$ cd /\n$ cd home\n$ cd berk\n$ pwd\nhome/berk\n</code></pre> <p>Az \u00f6nce root dizininin i\u00e7erisinden \u00f6nce home isimli dizine girdik, sonra berk isimli dizine girdik.</p> <p>Az \u00f6nce de bahsedildi\u011fi gibi linux dosya sistemi \u00fczerinid bulunan kullan\u0131c\u0131lar genellikle home dizini i\u00e7erisinde kendi isimleriyle \u00f6zel bir dizine sahip olurlar. Bu sebepten dolay\u0131 kendimizi home dizini \u00fczerine bolca yolculuk yaparken bulabiliriz. Her seferinde /home/berk yazmak yerine daha kolay bir y\u00f6ntem kullanabiliriz.</p> <p>Tilda(~) i\u015fareti ile /home dizinini g\u00f6sterebiliriz. Tilda i\u015fareti ile home dizini i\u00e7erisindeki berk isimli dizine gitmek i\u00e7in cd komutunu \u015fu \u015fekilde kullanabiliriz:</p> <pre><code>$ cd ~/berk\n</code></pre> <pre><code>$ pwd\nhome/_berk\n</code></pre> <p>Peki i\u00e7erisinde bulundu\u011fumuz dizini veya bir \u00fcst dizini nas\u0131l belirtebiliriz? Linux dosya sistemini(asl\u0131nda Windows\u2019da da b\u00f6yle) k\u00f6kten ba\u015f a\u015fa\u011f\u0131 do\u011fru b\u00fcy\u00fcyen bir a\u011fa\u00e7 olarak d\u00fc\u015f\u00fcnebiliriz demi\u015ftik.</p> <p>. ve .. ile i\u00e7erisinde bulundu\u011fumuz dizini ve bir \u00fcst katmanda bulunan dizini g\u00f6sterebiliriz.</p> <p>Bulundu\u011fumuz dizinin bir \u00fcst\u00fcnde bulunan dizine ge\u00e7i\u015f yapmak i\u00e7in cd komutunu \u015fu \u015fekilde kullanabiliriz:</p> <pre><code>$ pwd\n/home_/berk/\n</code></pre> <pre><code>$ cd ..\n</code></pre> <pre><code>$ pwd\n/home\n</code></pre> <p>Yukar\u0131da da \u00f6rne\u011fini g\u00f6rd\u00fc\u011f\u00fcm\u00fcz \u00fczere .. arg\u00fcman\u0131n\u0131 cd komutuna g\u00f6nderdi\u011fimizde otomatik olarak bir \u00fcstteki dizine ge\u00e7tik. Tahmin etti\u011finiz \u00fczere bulundu\u011fumuz dizini belirtmek i\u00e7in de sadece \u201c.\u201d i\u015faretini kullan\u0131yoruz. Fakat bu i\u015fareti cd komutuna arg\u00fcman olarak g\u00f6ndermemiz olduk\u00e7a anlams\u0131z olucakt\u0131r \u00e7\u00fcnk\u00fc bizi zaten hali haz\u0131rda bulundu\u011fumuz dizine g\u00f6nderecektir. Bu i\u015fareti genellikle i\u00e7erisinde bulundu\u011fumuz dizindeki bir dosyay\u0131 veya scripti \u00e7al\u0131\u015ft\u0131rmak i\u00e7in kullan\u0131r\u0131z. Diyelim ki vim isimli bir dizindeyiz.(Vim, komut sat\u0131r\u0131 \u00fczerinde kullan\u0131labilen bir text edit\u00f6r\u00fcd\u00fcr, buna sonra de\u011finece\u011fiz.)</p> <p>vim dizini i\u00e7erisine girip Vim\u2019i ba\u015flatmak i\u00e7in:</p> <pre><code>$ ./vim\n</code></pre> <p>komutu bu \u015fekilde kullanabiliriz.</p> <p>Ayr\u0131ca .. i\u015faretini biraz daha kompleks bir \u015fekilde kullanabiliriz. Diyelim ki /home/berk/Desktop dizinindeyiz ve direkt root dizinine d\u00f6nmek istiyoruz. Veya bulundu\u011fumuz dizinin iki \u00fcst dizinine \u00e7\u0131kmak istiyoruz. cd komutunu \u015fu \u015fekilde kullanabiliriz:</p> <pre><code>$ cd ../../..\n</code></pre> <pre><code>$ pwd\n</code></pre> <pre><code>$ /\n</code></pre> <p>Komut sat\u0131r\u0131n\u0131 kullanarak dizinler aras\u0131nda gezinerek cd komutuna elinizi al\u0131\u015ft\u0131rabilirsiniz. Belli bir s\u00fcre ge\u00e7tikten sonra grafik aray\u00fcz\u00fc asla kullanmak istemeyeceksiniz. \ud83d\ude42</p>"},{"location":"linux/birden-fazla-dosya-ile-islem-yapmak/","title":"Birden Fazla Dosya \u0130le \u0130\u015flem Yapmak","text":"<p>Terminal kullanmaya al\u0131\u015ft\u0131ktan sonra genelde \u00e7ok fazla i\u015fi genelde k\u0131sa yoldan yapmaya \u00e7al\u0131\u015facaks\u0131n\u0131z. Bunu ba\u015farman\u0131n en kolay yollar\u0131ndan biri de ayn\u0131 anda birden fazla dosya \u00fczerinde \u00e7al\u0131\u015fmakt\u0131r. Diyelim ki birden fazla dosyay\u0131 silmek istiyoruz, \u015fimdiye kadar \u00f6\u011frendi\u011fimiz bilgiler ile a\u015fa\u011f\u0131daki y\u00f6ntemi izleyebiliriz.</p> <pre><code>$ rm this \n$ rm that\n$ rm here\n$ rm there\n</code></pre> <p>Toplamda d\u00f6rt adet dosya silmek i\u00e7in d\u00f6rt adet komut girdik. Fakat rm komutu(dosya silme komutu) ayn\u0131 anda birden fazla dosya ismini kullanarak i\u015flem yapabilir.</p> <pre><code>$ rm here that there this\n</code></pre> <p>Bu \u015fekilde tek bir sat\u0131r komut ile d\u00f6rt adet dosyay\u0131 silebiliriz.</p>"},{"location":"linux/birden-fazla-dosya-ile-islem-yapmak/#joker-karakterler-ve-wildcardlarglobbing","title":"Joker Karakterler ve Wildcardlar(Globbing)","text":"<p>Joker karakterler linux terminali \u00fczerinde m\u00fcmk\u00fcn olan en az karakterle birden \u00e7ok dosya \u00fczerinde i\u015flem yapma konusunda yard\u0131m\u0131m\u0131za yeti\u015fir. Shell, yani kabuk bu karakterleri komutlar\u0131n etkilemesini istedi\u011fimiz dosyalar\u0131 belirtmek i\u00e7in kulland\u0131\u011f\u0131m\u0131z i\u015faretler olarak alg\u0131lar. Bu karakterlere genelde joker karakterler denir \u00e7\u00fcnk\u00fc bunlar, kart oyuncular\u0131n\u0131n istedi\u011fi herhangi bir kart\u0131 temsil etmek i\u00e7in kulland\u0131\u011f\u0131 joker kartlar gibidir.</p>"},{"location":"linux/birden-fazla-dosya-ile-islem-yapmak/#isareti","title":"\u201c*\u201d \u0130\u015fareti","text":"<p>A\u015fa\u011f\u0131daki \u015fekilde bir dizin hayal edelim,</p> <pre><code>$ ls\nhere that there this\n</code></pre> <p>Bu dizin i\u00e7erisindeki b\u00fct\u00fcn dosyalar\u0131 silmek istiyorsak * wildcard i\u015faretini kullanabiliriz.</p> <pre><code>$ rm *\n</code></pre> <p>Y\u0131ld\u0131z i\u015fareti kendi ba\u015f\u0131na kullan\u0131ld\u0131\u011f\u0131nda . ile ba\u015flayan gizli dosyalar haricindeki b\u00fct\u00fcn dosyalar\u0131 ifade eder. Bu nedenden dolay\u0131 rm komutuna . i\u015fareti ile ba\u015flamayan b\u00fct\u00fcn dosyalar\u0131n ve dizinlerin isimlerini parametre olarak g\u00f6nderip i\u015flemi ger\u00e7ekle\u015ftirmi\u015f oluruz.</p> <ul> <li>i\u015faretini di\u011fer karakterler ile kombine edebiliriz. Hayal etti\u011fimiz dizinde sadece t harfi ile ba\u015flayan dosyalar\u0131 silmek i\u00e7in bu joker karakteri a\u015fa\u011f\u0131daki gibi kullanabiliriz,</li> </ul> <pre><code>$ ls\nhere that there this\n\n$ rm t*\n$ ls\nhere\n</code></pre> <p>Komutu bu \u015fekilde kulland\u0131\u011f\u0131m\u0131zda Terminal(Kabuk) \u00f6nce t karakterine bakt\u0131, sonra y\u0131ld\u0131z i\u015fareti ile geriye kalanlar\u0131 tamamlayarak dosya silme komutunu \u00e7al\u0131\u015ft\u0131rd\u0131.</p> <p>Y\u0131ld\u0131z jokerini genelde belirli bir uzant\u0131ya sahip olan dosyalar\u0131 silmek i\u00e7in kullan\u0131r\u0131z.</p> <pre><code>$ rm *.jpg\n</code></pre> <p>Yukar\u0131daki komut uzant\u0131s\u0131 jpg olan b\u00fct\u00fcn dosyalar\u0131 silecektir.</p>"},{"location":"linux/birden-fazla-dosya-ile-islem-yapmak/#isareti_1","title":"\u201c?\u201d \u0130\u015fareti","text":"<p>Soru i\u015fareti, y\u0131ld\u0131z karakterine \u00e7ok benzer. Aralar\u0131ndaki tek fark soru i\u015fareti sadece bir adet karakterin yerini al\u0131r.</p> <pre><code>$ ls task*****\ntask  taskA  taskB  taskXY\n$ ls task?\ntaskA  taskB\n$ ls task??\ntaskXY\n</code></pre>"},{"location":"linux/certbot/","title":"Certbot Nedir?","text":"<p>Certbot, HTTPS ba\u011flant\u0131lar i\u00e7in otomatik bir \u015fekilde Let's Encrypt sertifikalar\u0131 olu\u015fturmay\u0131 ve y\u00f6netmeyi sa\u011flayan \u00fccretsiz, a\u00e7\u0131k kaynakl\u0131 yaz\u0131l\u0131m arac\u0131d\u0131r.</p>"},{"location":"linux/certbot/#certbot-ile-dns-01-challenge-kullanarak-wildcard-sertifika-alma","title":"Certbot ile DNS-01 Challenge Kullanarak Wildcard Sertifika Alma","text":"<ol> <li>Certbot kurulu de\u011filse a\u015fa\u011f\u0131daki komut ile certbot kurulur</li> </ol> <pre><code>sudo apt update\nsudo apt install certbot\n</code></pre> <ol> <li>Asagidaki komuttaki alan adi kismi degistirilerek wildcard sertifika isteginde bulunulur:</li> </ol> <pre><code>certbot certonly -d \"*.alan-adi.com.tr\" -d alan-adi.com.tr --manual --preferred-challenges dns --server https://acme-v02.api.letsencrypt.org/directory\n\n</code></pre> <ol> <li> <p>Certbot size mail adresi soracak, kullanmakta oldugunuz bir mail adresini verebilirsiniz. Certbot sertifikan\u0131z bitmeye yakla\u015ft\u0131\u011f\u0131nda size mail g\u00f6nderiyor.(4 Haziran 2025'den itibaren art\u0131k yapm\u0131yor)</p> </li> <li> <p>Gelen ikinci se\u00e7ene\u011fe Yes diyerek cevap verebilirsiniz.</p> </li> <li> <p>Bir adet TXT kaydi olusturmaniz gerekecek. Konsoldaki isim ile bir TXT kaydi olusturun. ((Not: DNS kaydinin yayinlanmasi biraz zaman alabilir. Dig veya nslookup komutu ile kontrol edebilirsiniz.))</p> </li> <li> <p>Ayni islemi bir kere daha yapmaniz gerekecek, girmis oldugunuz dns kaydini yeni VALUE ile duzenleyip tekrar enter'a basabilirsiniz.</p> </li> <li> <p>Sertifikaniz certbot'un belirledigi dizinde olusmus olacak. Konsol ciktisindan dizini gorebilirsiniz.</p> </li> </ol>"},{"location":"linux/daha-hizli-terminal-kullanmak/","title":"Daha H\u0131zl\u0131 Terminal Kullanmak","text":"<p>Siyah arkaplanl\u0131 komut sat\u0131r\u0131nda bilgisayar kullanmak ne kadar haval\u0131 bir aktivite de olsa, uzun i\u015flemler i\u00e7in zorlay\u0131c\u0131 ve sinir bozucu olabiliyor. Bu b\u00f6l\u00fcmde komut sat\u0131r\u0131n\u0131 nas\u0131l daha h\u0131zl\u0131 kullanabilece\u011fimizden bahsetmek istiyorum.</p>"},{"location":"linux/daha-hizli-terminal-kullanmak/#otomatik-tamamlama","title":"Otomatik Tamamlama","text":"<p>Tab tu\u015funu komut sat\u0131r\u0131nda kullanarak olduk\u00e7a fazla vakit kazanabiliriz.</p> <p>Tab tu\u015funun otomatik tamamlamaya yarayan bir i\u015flevi var. </p> <p>\u00d6rne\u011fin \u201casdfasdfasdfasdfasdkf.txt\u201d isimli olduk\u00e7a kar\u0131\u015f\u0131k isimli bir dosyam\u0131z var diyelim. Bu dosyay\u0131 mv komutu ile bulundu\u011fu yerden ba\u015fka bir yere ta\u015f\u0131mak istedi\u011fimizde bu kar\u0131\u015f\u0131k dosya ismini elimizle tek tek yazacak m\u0131y\u0131z? Tabiki de hay\u0131r. </p> <p>mv komutunu yazd\u0131ktan sonra dosya isminin ilk birka\u00e7 harfini yaz\u0131p Tab tu\u015funu kulland\u0131\u011f\u0131m\u0131zda Terminal otomatik olarak dosya isminin devam\u0131n\u0131 bizim i\u00e7in tamamlayacakt\u0131r. E\u011fer dosya ad\u0131 otomatik olarak tamamlanmam\u0131\u015fsa, yazd\u0131\u011f\u0131m\u0131z dosya isminin ilk birka\u00e7 harfi ile ba\u015flayan ba\u015fka dosyalar da bulundu\u011fumuz dizinde mevcut demektir. Bu durumu d\u00fczeltmek i\u00e7in i\u015flem yapmak istedi\u011fimiz dosyan\u0131n ad\u0131n\u0131n birka\u00e7 harfini daha yaz\u0131p tekrar Tab tu\u015funa basabiliriz veya iki kere Tab tu\u015funa basarak terminalden bize yard\u0131mc\u0131 olmas\u0131n\u0131 isteyebiliriz. Bu i\u015flemden sonra Terminal bize girdi\u011fimiz harflerle ba\u015flayan dosyalar\u0131n isimlerini listeleyecektir.</p>"},{"location":"linux/daha-hizli-terminal-kullanmak/#kopyalama-ve-yapstrma-copy-paste","title":"Kopyalama ve Yap\u0131\u015ft\u0131rma (Copy &amp; Paste)","text":"<p>Komut sat\u0131r\u0131nda \u00e7al\u0131\u015f\u0131yor olmam\u0131z graf\u0131k aray\u00fcz kulland\u0131\u011f\u0131m\u0131z zamanlarda al\u0131\u015f\u0131k oldu\u011fumuz baz\u0131 kolayl\u0131klar\u0131 kullanmayaca\u011f\u0131m\u0131z anlam\u0131na gelmez. Kes ve yap\u0131\u015ft\u0131r, burada di\u011fer i\u015fletim sistemlerindeki davran\u0131\u015f\u0131ndan biraz farkl\u0131 \u00e7al\u0131\u015fsa da, \u00e7ok k\u0131sa bir s\u00fcre sonra al\u0131\u015facaks\u0131n\u0131z.</p> <p>Kopyalama \u0130\u015flemi: Ctrl+Shift+C veya kopyalanmak istenen kelimeye \u00fc\u00e7 kere sol klik at\u0131larak, Yap\u0131\u015ft\u0131rma \u0130\u015flemi: Ctrl+Shift+V veya mouseunuzun orta tu\u015fu ile ger\u00e7ekle\u015ftirilebilir. Art\u0131k d\u00fcnyada orta tekerle\u011fi olmayan iki tu\u015flu mouselardan kalmad\u0131 fakat her farenizdeki her iki tu\u015fa da ayn\u0131 anda basarsan\u0131z Terminal bunu middle click olarak alg\u0131layacakt\u0131r.</p>"},{"location":"linux/daha-hizli-terminal-kullanmak/#komut-gecmisi","title":"Komut Ge\u00e7mi\u015fi","text":"<p>Klavyenizdeki yukar\u0131 ve a\u015fa\u011f\u0131 tu\u015flar\u0131n\u0131 kullanarak daha \u00f6nceden kulland\u0131\u011f\u0131n\u0131z komutlar\u0131 g\u00f6rebilirsiniz. Ayn\u0131 komutu veya ayn\u0131 komutun bir benzerini tekrar kullanmak istedi\u011finizde bu y\u00f6ntem olduk\u00e7a fazla zaman kazand\u0131racakt\u0131r. Ayr\u0131ca history komutunu kullanarak daha \u00f6nceden yazd\u0131\u011f\u0131n\u0131z komutlar\u0131n bir \u00e7\u0131kt\u0131s\u0131n\u0131 g\u00f6rebilirsiniz.</p> <p>Ctrl+A ile sat\u0131r\u0131n en ba\u015f\u0131na, Ctrl+E ile de sat\u0131r\u0131n en sonuna gidebilirsiniz. Ayr\u0131ca Ctrl tu\u015funa bas\u0131l\u0131 tutarak ok tu\u015flar\u0131n\u0131 kullan\u0131rsan\u0131z her bir harfi de\u011fil de her bir kelimenin ilk harfine i\u015faret\u00e7iyi g\u00f6t\u00fcrebilirsiniz.</p>"},{"location":"linux/fail2ban/","title":"Fail2ban Nedir ve Nas\u0131l \u00c7al\u0131\u015f\u0131r?","text":"<p>Fail2ban Linux sunucularda log dosyalar\u0131n\u0131 izleyen bir g\u00fcvenlik yaz\u0131l\u0131m\u0131d\u0131r. Bu log dosyalar\u0131nda belirli patternlar\u0131 arar. \u00d6rne\u011fin, bir kullan\u0131c\u0131n\u0131n yanl\u0131\u015f parola girmesi gibi ba\u015far\u0131s\u0131z giri\u015f denemeleri veya belirli bir porta yap\u0131lan a\u015f\u0131r\u0131 istekler bu desenlere \u00f6rnek olabilir.</p> <p>Belirlenen e\u015fik de\u011ferlerine (thresholds) ula\u015f\u0131ld\u0131\u011f\u0131nda, Fail2ban bu sald\u0131rgan IP adresini g\u00fcvenlik duvar\u0131na (firewall) bildirir ve o IP adresinin belirli bir s\u00fcre veya kal\u0131c\u0131 olarak engellenmesini sa\u011flar.</p>"},{"location":"linux/fail2ban/#fail2ban-kurulumu","title":"Fail2Ban Kurulumu","text":"<pre><code>apt update\napt install fail2ban\n</code></pre> <pre><code>systemctl start fail2ban\nsystemctl enable fail2ban\n</code></pre>"},{"location":"linux/fail2ban/#fail2ban-yaplandrma-dosyalar","title":"Fail2ban Yap\u0131land\u0131rma Dosyalar\u0131","text":""},{"location":"linux/fail2ban/#etcfail2banjailconf","title":"/etc/fail2ban/jail.conf","text":"<p>Bu dosya Fail2ban'\u0131n ana yap\u0131land\u0131rma dosyas\u0131d\u0131r ve varsay\u0131lan ayarlar\u0131 i\u00e7erir. Genelde bu dosyay\u0131 do\u011frudan de\u011fi\u015ftirmemek \u00f6nerilir. Fail2ban g\u00fcncellemeleri s\u0131ras\u0131nda bu dosya \u00fczerine yaz\u0131labilir ve yapt\u0131\u011f\u0131n\u0131z de\u011fi\u015fiklikler kaybolabilir.</p>"},{"location":"linux/fail2ban/#etcfail2banjaillocal","title":"/etc/fail2ban/jail.local","text":"<p>Bu dosya jail.conf dosyas\u0131ndaki ayarlar\u0131 ge\u00e7ersiz k\u0131lmak (override etmek) veya yeni ayarlar eklemek i\u00e7in kullan\u0131l\u0131r. Bu dosyay\u0131 elle olu\u015ftururuz ve t\u00fcm \u00f6zel yap\u0131land\u0131rmalar\u0131m\u0131z\u0131 buraya yazar\u0131z. Bu sayede g\u00fcncellemelerden etkilenmeyiz.</p>"},{"location":"linux/fail2ban/#jaillocal-dosyas-olusturmak","title":"Jail.local Dosyas\u0131 Olu\u015fturmak","text":"<p>A\u015fa\u011f\u0131daki komut ile dosya olu\u015fturulur.</p> <pre><code>cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local\n</code></pre>"},{"location":"linux/fail2ban/#nginx-icin-fail2ban-yaplandrmas","title":"Nginx i\u00e7in Fail2ban Yap\u0131land\u0131rmas\u0131","text":"<p>Belirli bir ip adresinden 30 saniyede 100 istekten fazla geliyorsa 5 dakika boyunca 443 ve 80 numaral\u0131 portlara eri\u015fememesini sa\u011flamak i\u00e7in a\u015fa\u011f\u0131daki i\u015flemler uygulan\u0131r.</p> <pre><code>vim /etc/fail2ban/filter.d/nginx-request-bot.conf\n</code></pre> <p>Dosyan\u0131n i\u00e7eri\u011fi a\u015fa\u011f\u0131daki gibi d\u00fczenlenir.</p> <pre><code>[INCLUDES]\nbefore = common.conf\n# failregex Nginx'in eri\u015fim loglar\u0131ndaki her sat\u0131r\u0131 yakalar. Log formatina gore regexpin degistirilmesi gerekmektedir.\n# &lt;HOST&gt; Fail2ban'\u0131n IP adresini yakalamak i\u00e7in kulland\u0131\u011f\u0131 \u00f6zel bir etikettir.\n[Definition]\nfailregex = ^&lt;HOST&gt; - - \\[.*\\] \"(GET|POST|HEAD|PUT|DELETE|OPTIONS).*\"\\s+\\d+\\s+\\d+\\s+\"(?:[^\"]*)\"\\s+\"(?:[^\"]*)\"$\n\nignoreregex =\n\n</code></pre> <p>\u00d6zel filtreyi olu\u015fturduktan sonra olu\u015fturdu\u011fumuz <code>jail.local</code> dosyas\u0131n\u0131 d\u00fczenleyerek bu filtreyi uygulayabiliriz.</p> <p>jail.local dosyas\u0131 a\u00e7\u0131l\u0131r ve dosyan\u0131n en alt sat\u0131r\u0131na a\u015fa\u011f\u0131daki i\u00e7erik eklenir</p> <pre><code>[nginx-request-bot]\nenabled = true\n# Kulland\u0131\u011f\u0131m\u0131z \u00f6zel filtre dosyas\u0131n\u0131n ad\u0131n\u0131 belirtiyoruz.\nfilter = nginx-request-bot\n# Nginx access log dosyas\u0131n\u0131n pathi.\nlogpath = /var/log/nginx/access.log\n# Yasaklama s\u00fcresi: 5 dakika (300 saniye).\nbantime = 300\n# Fail2ban'in istekleri saymak i\u00e7in geriye d\u00f6n\u00fck bakaca\u011f\u0131 s\u00fcre: 30 saniye.\nfindtime = 30\n# 30 saniye i\u00e7inde 100'den fazla istek gelirse yasakla.\nmaxretry = 100\n# Sadece 80 ve 443 portlar\u0131na gelen istekler i\u00e7in ge\u00e7erli olmas\u0131n\u0131 istiyorsan\u0131z:\nport = http,https\n# Veya port numaralari da belirtilebilir.\n# port = 80,443\n</code></pre> <p>Bu ayarlar yap\u0131ld\u0131ktan sonra fail2ban restartlan\u0131r.</p> <pre><code>systemctl reload fail2ban\n</code></pre>"},{"location":"linux/fail2ban/#olusturulan-hapishanelerin-goruntulenmesi","title":"Olu\u015fturulan Hapishanelerin G\u00f6r\u00fcnt\u00fclenmesi","text":"<p>A\u015fa\u011f\u0131daki komutla olu\u015fturulan hapishaneler g\u00f6r\u00fcnt\u00fclenebilir.</p> <pre><code>root@sunwell:/etc/fail2ban/filter.d# fail2ban-client status                  \nStatus\n|- Number of jail:  2\n`- Jail list:   nginx-request-bot, sshd\n</code></pre> <p>\u0130stedi\u011fimiz jail hakk\u0131nda bilgi almak i\u00e7in komutun sonuna jailin ad\u0131n\u0131 ekleyebiliriz.</p> <pre><code>root@sunwell:/etc/fail2ban/filter.d# fail2ban-client status nginx-request-bot\nStatus for the jail: nginx-request-bot\n|- Filter\n|  |- Currently failed: 0\n|  |- Total failed: 0\n|  `- File list:    /var/log/nginx/access.log\n`- Actions\n   |- Currently banned: 0\n   |- Total banned: 0\n   `- Banned IP list:   \n</code></pre>"},{"location":"linux/iptables/","title":"Iptables","text":""},{"location":"linux/iptables/#iptables-nedir","title":"Iptables Nedir?","text":"<p>Iptables Linux \u00e7ekirde\u011fi i\u00e7erisinde bulunan g\u00fcvenlik duvar\u0131 mod\u00fcl\u00fcn\u00fc komut sat\u0131r\u0131 arac\u0131l\u0131\u011f\u0131yla kontrol etmemizi sa\u011flayan bir ara\u00e7t\u0131r. Iptables sayesinde gelen trafi\u011fi ba\u015fka bir yere y\u00f6nlendirebilir, reddedebilir veya kabul edebiliriz.  </p> <p>Bu yaz\u0131y\u0131 okurken iptables\u2019\u0131n nas\u0131l kullan\u0131ld\u0131\u011f\u0131n\u0131 anlamayabilirsiniz, \u00f6rneklere ge\u00e7ti\u011fimiz zaman muhtemelen sorunsuz bir \u015fekilde iptables kullanabiliyor olucaks\u0131n\u0131z. Ayr\u0131ca kullan\u0131lan terimlerin ingilizce hallerini de \u00f6zellikle parantezler i\u00e7erisinde belirtmeye \u00e7al\u0131\u015ft\u0131m. \u0130lerliyen zamanlarda mutlaka bu konuda ara\u015ft\u0131rma yapman\u0131z gerekicektir. Iptables konusunda ara\u015ft\u0131rma yaparken \u0130ngilizce yapman\u0131z\u0131 tavsiye ederim. Bu konuda T\u00fcrk\u00e7e kaynak pek bulunmuyor. </p>"},{"location":"linux/iptables/#iptables-nasl-calsr","title":"Iptables Nas\u0131l \u00c7al\u0131\u015f\u0131r?","text":"<p>Iptables gelen network paketleri \u00fczerinde i\u015flem yapmak i\u00e7in kural sistemini kullan\u0131r. Bu kurallar a\u015fa\u011f\u0131daki bile\u015fenlerden olu\u015fur: </p> <ol> <li> <p>Tablolar (Table): Tablolar, benzer kurallar\u0131 grupland\u0131ran dosyalard\u0131r. Bir tablo, birka\u00e7 kural zincirinden olu\u015fur. </p> </li> <li> <p>Zincirler (Chains): Bir zincir, bir dizi kuraldan olu\u015fur. Bir paket al\u0131nd\u0131\u011f\u0131nda, iptables uygun tabloyu bulur ve paket, bir e\u015fle\u015fme bulunana kadar kural zinciri \u00fczerinden filtrelenir. </p> </li> <li> <p>Kurallar (Rules): Kurallar bir paketin belirli ko\u015fullara uyup uymad\u0131\u011f\u0131n\u0131 kontrol eden ifadelerdir. E\u011fer paket bu ko\u015fullara uyarsa, kural\u0131n hedefi olan i\u015flemi ger\u00e7ekle\u015ftirir.</p> </li> <li> <p>Hedefler (Targets): Hedefler bir paketle ne yap\u0131laca\u011f\u0131na karar verilen yerlerdir. Paket kabul edilebilir (ACCEPT), d\u00fc\u015f\u00fcr\u00fclebilir (DROP) veya reddedilebilir. (REJECT) </p> </li> </ol>"},{"location":"linux/iptables/#tablolar-tables","title":"Tablolar (Tables)","text":"<p>Iptables \u00fczerinde \u00e7al\u0131\u015fan 4 adet varsay\u0131lan tablo vard\u0131r. Bu tablolar birbirlerinden farkl\u0131 ama\u00e7larla haz\u0131rlanan kural zincilerini y\u00f6netmek i\u00e7in kullan\u0131l\u0131r. </p> <ol> <li> <p>Filtre Tablosu (Filter): Varsay\u0131lan paket filtreme tablosu bu tablodur. Hangi paketlerin kulland\u0131\u011f\u0131m\u0131z internet a\u011f\u0131na(network) girebilece\u011fini ve \u00e7\u0131kabilece\u011fini bu tablo filtreler. </p> </li> <li> <p>Nat Tablosu (NAT): Uzakta bulunan a\u011flara(networklere) y\u00f6nlenicek olan paketlerin y\u00f6nlendirilme kurallar\u0131n\u0131 i\u00e7eren tablo. </p> </li> <li> <p>Mangle Tablosu (Mangle): Bu tablo, a\u011f paketlerinin \u00e7e\u015fitli \u00f6zelliklerini de\u011fi\u015ftirmek veya \"manip\u00fcle etmek\" i\u00e7in kullan\u0131l\u0131r. Mangle table genellikle a\u011f paketlerinin ba\u015fl\u0131klar\u0131n\u0131 de\u011fi\u015ftirmek, belirli i\u015faretler eklemek, TTL (Time To Live) de\u011ferini de\u011fi\u015ftirmek veya paketlerin y\u00f6nlendirilmesini de\u011fi\u015ftirmek gibi i\u015flemler i\u00e7in kullan\u0131l\u0131r. </p> </li> <li> <p>Raw: Takip edilmesi ve \u00fczerinde i\u015flem yap\u0131lmas\u0131 gerekmeyen veya bir nedenden dolay\u0131 istenmeyen internet paketleri i\u00e7in bu tablo kullan\u0131l\u0131r. </p> </li> </ol>"},{"location":"linux/iptables/#zincirler-chains","title":"Zincirler (Chains)","text":"<p>Zincirler tablolar\u0131n i\u00e7erisindeki kural listeleridir. Listeler, tablolara gelen paketlerin nas\u0131l de\u011ferlendirilece\u011fini ve \u00fczerinde nas\u0131l i\u015flemler yap\u0131laca\u011f\u0131n\u0131 belirler. Bu i\u015flem 4 farkl\u0131 ad\u0131mdan olu\u015fur; </p> <ol> <li> <p>INPUT: Iptables\u2019\u0131n \u00e7al\u0131\u015ft\u0131\u011f\u0131 bilgisayar \u00fczerindeki bir uygulamadan gelen paketleri i\u015fleyen ad\u0131md\u0131r. Filter ve Mangle tablosunda bulunur. </p> </li> <li> <p>OUTPUT: Kullan\u0131lan bilgisayarda \u00e7al\u0131\u015fan uygulamalardan ve servislerden d\u0131\u015far\u0131ya \u00e7\u0131kan paketlerin y\u00f6netildi\u011fi ad\u0131m. B\u00fct\u00fcn tablolarda bu zincir bulunur. </p> </li> <li> <p>FORWARD: Sistemde bulunan network interfaceleri aras\u0131ndaki paketlerin y\u00f6nlendirilmesi ile alakal\u0131 olan ad\u0131m. Filter, Mangle ve Security tablolar\u0131nda bulunur. </p> </li> <li> <p>PREROUTING: Paketler y\u00f6nlendirilmeden \u00f6nce \u00fczerinde i\u015flem yapmam\u0131z\u0131 sa\u011flayan ad\u0131m. \u0130\u015flemler, paketlerin nereye y\u00f6nlenece\u011finden \u00d6NCE ger\u00e7ekle\u015fir. NAT, Mangle ve RAW tablosunda bulunur. </p> </li> <li> <p>POSTROUTING: Paketler hedefe y\u00f6nlendirildikten sonra i\u015flem yapmam\u0131z\u0131 sa\u011flayan ad\u0131m. \u0130\u015flemler, paketler y\u00f6nlendikten SONRA ger\u00e7ekle\u015fir. NAT ve Mangle tablosunda bulunur. </p> </li> </ol>"},{"location":"linux/iptables/#kurallar-rules","title":"Kurallar (Rules)","text":"<p>Kurallar, e\u015fle\u015fen paketler i\u00e7in ko\u015fullar\u0131 tan\u0131mlayan ifadelerdir. Her kural bir zincirin par\u00e7as\u0131d\u0131r ve spesifik kritlerler i\u00e7erir. (Hedef ip adresi, port numaras\u0131 veya protokoller). Kurallar\u0131n ko\u015fullar\u0131na uyan her paket target\u2019a(hedef) y\u00f6nlendirilir ve y\u00f6nlendirilen pakete ne yap\u0131laca\u011f\u0131 belirlenir. </p>"},{"location":"linux/iptables/#hedef-targets","title":"Hedef (Targets)","text":"<p>Target, kural kriterlerine uyan paketlere ne olaca\u011f\u0131n\u0131 belirler. Bu i\u015flemler; </p> <ul> <li> <p>ACCEPT: Paketin g\u00fcvenlik duvar\u0131ndan(firewall) ge\u00e7mesini sa\u011flar. </p> </li> <li> <p>DROP: Paketin g\u00fcvenlik duvar\u0131ndan ge\u00e7i\u015fini engeller fakat paketi g\u00f6nderen kayna\u011fa bu konu hakk\u0131nda bir bilgi vermez. </p> </li> <li> <p>REJECT:  Gelen paketi reddeder ve paketi g\u00f6nderen kayna\u011fa bir hata mesaj\u0131 g\u00f6nderir. </p> </li> <li> <p>LOG: Paket bilgisini bir log dosyas\u0131na kaydeder. </p> </li> <li> <p>SNAT: A\u00e7\u0131l\u0131m\u0131 \u201cSource Network Address Translation\"d\u0131r. Gelen paketin kaynak adresini de\u011fi\u015ftirir. </p> </li> <li> <p>DNAT: A\u00e7\u0131l\u0131m\u0131 \u201cDestination Network Adress Translation\u201dd\u0131r. Gelen paketin hededf adresini de\u011fi\u015ftirir. </p> </li> <li> <p>MASQUERADE: Dinamik olarak atanan IP'ler i\u00e7in bir paketin kaynak adresini de\u011fi\u015ftirir. </p> </li> </ul>"},{"location":"linux/iptables/#iptables-nasl-kurulur","title":"Iptables Nas\u0131l Kurulur?","text":"<p>Iptables \u00e7o\u011fu Linux da\u011f\u0131t\u0131m\u0131nda varsay\u0131lan olarak y\u00fckl\u00fc gelir. Iptables\u2019\u0131n kurulu oldu\u011funu do\u011frulamak ve s\u00fcr\u00fcm\u00fcn\u00fcz\u00fc \u00f6\u011frenmek i\u00e7in a\u015fa\u011f\u0131daki komutu \u00e7al\u0131\u015ft\u0131rabilirsiniz. </p> <pre><code>iptables --version \n</code></pre> <p>Debian Tabanl\u0131 Da\u011f\u0131t\u0131mlar \u0130\u00e7in: </p> <pre><code>apt-get update ; apt-get upgrade ; apt-get install iptables\n</code></pre> <p>Arch Linux Tabanl\u0131 Da\u011f\u0131t\u0131mlar i\u00e7in: </p> <pre><code>pacman \u2013Syu ; pacman \u2013S iptables \n</code></pre> <p>Kurulumdan sonra:</p> <pre><code>systemctl enable netfilter-persistent \n</code></pre>"},{"location":"linux/iptables/#iptables-komutu-nasl-kullanlr","title":"Iptables Komutu Nas\u0131l Kullan\u0131l\u0131r?","text":"<p>Iptables komutu a\u015fa\u011f\u0131daki d\u00fczende kullan\u0131l\u0131r; </p> <pre><code>iptables [options] [chain(zincir)] [criteria(kriter)] -j [target(hedef)] \n</code></pre> <p>A\u015fa\u011f\u0131daki tablodan en s\u0131k kullan\u0131lan iptables se\u00e7eneklerini g\u00f6rebilirsiniz. </p> Se\u00e7enek A\u00e7\u0131klama -A veya --append Halihaz\u0131rda var olan bir zincire ekstra kural ekler. -C veya --check Bir zincir ile e\u015fle\u015fen bir kural var m\u0131 diye kontrol eder. -D veya --delete Bir zincirden kural siler. -F veya --flush B\u00fct\u00fcn iptables kurallar\u0131n\u0131 siler. -I veya --insert Belirtilen zincire kural ekler. -L veya --list Zincirin i\u00e7erisindeki b\u00fct\u00fcn kurallar\u0131 listeler -N veya --new-chain Yeni bir zincir olu\u015fturur. -v veya --verbose Daha detayl\u0131 bir \u00e7\u0131kt\u0131 verir. -X veya --delete-chain Zinciri siler. <p>iptables komutu varsay\u0131lan olarak Filtre tablosu \u00fczerinde i\u015flem yapar. Farkl\u0131 bir tablo kullanmak i\u00e7in, -t se\u00e7ene\u011fini kullanabilirsiniz. (\u00f6rne\u011fin, NAT tablosu i\u00e7in -t nat kullan\u0131labilir). </p> <p>Var Olan Kurallar\u0131 G\u00f6rmek </p> <pre><code>sudo iptables -L \n</code></pre> <p>Bu komutun \u00e7\u0131kt\u0131s\u0131 <code>INPUT</code>, <code>FORWARD</code> ve <code>OUTPUT</code> zincirlerinin nas\u0131l g\u00f6z\u00fckt\u00fc\u011f\u00fcn\u00fc listeler. </p>"},{"location":"linux/iptables/#dongusel-trafigi-aktif-etmekloopback-traffic","title":"D\u00f6ng\u00fcsel Trafi\u011fi Aktif Etmek(Loopback Traffic)","text":"<p>Kendi bilgisayar\u0131n\u0131zdaki trafik ak\u0131\u015f\u0131n\u0131 aktif hale getirmek hem g\u00fcvenlidir hem de bilgisayar\u0131n\u0131zda \u00e7al\u0131\u015fan uygulamalar\u0131n birbirleri ile ileti\u015fim kurmas\u0131n\u0131 sa\u011flar. A\u015fa\u011f\u0131daki komutu girerek bu trafi\u011fi aktif hale getirebilirsiniz. </p> <pre><code>iptables -A INPUT -i lo -j ACCEPT \n</code></pre>"},{"location":"linux/iptables/#ozel-servisler-icin-trafige-izin-vermek","title":"\u00d6zel Servisler \u0130\u00e7in Trafi\u011fe \u0130zin Vermek","text":"<p>Baz\u0131 servislerin kullan\u0131lmas\u0131na izin vermek i\u00e7in baz\u0131 portlardan trafik ge\u00e7i\u015fine izin vermek gerekir. A\u015fa\u011f\u0131daki \u00f6rnekleri inceleyebilirsiniz </p> <ul> <li>HTTP trafi\u011fine izin vermek i\u00e7in </li> </ul> <pre><code>iptables -A INPUT -p tcp --dport 80 -j ACCEPT \n</code></pre> <ul> <li>SSH trafi\u011fine izin vermek i\u00e7in </li> </ul> <pre><code>iptables -A INPUT -p tcp --dport 22 -j ACCEPT \n</code></pre> <ul> <li>HTTPS trafi\u011fine izin vermek i\u00e7in </li> </ul> <pre><code>iptables -A INPUT -p tcp --dport 443 -j ACCEPT \n</code></pre>"},{"location":"linux/iptables/#belirli-bir-ip-adresinden-gelen-trafik-icin-ayar-yapmak","title":"Belirli Bir IP Adresinden Gelen Trafik \u0130\u00e7in Ayar Yapmak","text":"<p>Belirli bir ip adresinden gelen b\u00fct\u00fcn trafi\u011fi kabul etmek i\u00e7in a\u015fa\u011f\u0131daki komutu kullanabilirsiniz </p> <pre><code>iptables -A INPUT -s [IP-address] -j ACCEPT \n</code></pre> <p>Belirli bir ip adresinden gelen b\u00fct\u00fcn trafi\u011fi droplamak i\u00e7in a\u015fa\u011f\u0131daki komutu kullanabilirsiniz. </p> <pre><code>iptables -A INPUT -s [IP-address] -j DROP \n</code></pre> <p>Belirli bir IP adresi aral\u0131\u011f\u0131ndan gelen trafi\u011fi reddetmek i\u00e7in a\u015fa\u011f\u0131daki komutu kullanabilirsiniz. </p> <pre><code>iptables -A INPUT -m iprange --src-range [IP-address-range] -j REJECT \n</code></pre> <p>Payla\u015ft\u0131\u011f\u0131m komutlardaki ip adresi k\u0131s\u0131mlar\u0131n\u0131 de\u011fi\u015ftirerek komutlar\u0131 kullanabilirsiniz. </p>"},{"location":"linux/iptables/#droplanms-paketlerin-loglanmas","title":"Droplanm\u0131\u015f Paketlerin Loglanmas\u0131","text":""},{"location":"linux/komut-satirina-giris/","title":"Komut Sat\u0131r\u0131na Giri\u015f","text":"<p>Komut sat\u0131r\u0131 kullanarak i\u015flemlerimizi ger\u00e7ekle\u015ftirmek bizi normalden \u00e7ok daha h\u0131zl\u0131 ve sistem \u00fczerinde daha \u00e7ok kontrol sahibi yapar. Kontrol sahibi yapt\u0131\u011f\u0131 inand\u0131r\u0131c\u0131 da ger\u00e7ekten bizi daha h\u0131zl\u0131 yap\u0131yor mu?</p> <p>Evet.</p> <p>K\u00fc\u00e7\u00fck bir \u00f6rnekle a\u00e7\u0131klayal\u0131m:</p> <p>Diyelim ki bir foto\u011fraf makinesi sahibisiniz ve elinizde foto\u011fraflarla dolu bir dizin var ve bu dizinin i\u00e7erisindeki  profile.jpg isimli bir foto\u011fraf\u0131 yeniden boyutland\u0131rmak istediniz. Yeniden boyutland\u0131rd\u0131ktan sonra da farkl\u0131 bir isimle tekrar kaydetmek istiyorsunuz.</p> <p>Herhangi bir resim d\u00fczenleme program\u0131nda a\u015fa\u011f\u0131 yukar\u0131 bu ad\u0131mlar\u0131 izlemeniz gerekir:</p> <p>1 \u2013 Uygulamalar men\u00fcs\u00fcnden resim d\u00fczenleme program\u0131n\u0131z\u0131 a\u00e7ars\u0131n\u0131z. 2 \u2013 Dosya \u2013 A\u00e7 3 \u2013 Gelen dosya a\u00e7ma ekran\u0131ndan foto\u011fraflar\u0131n oldu\u011fu dizine git. 4 \u2013  profile.jpg isimli dosyay\u0131 bulup se\u00e7tikten sonra A\u00e7 tu\u015funa bas. 5 \u2013 Resim \u2013 Boyutland\u0131r men\u00fcs\u00fcnden boyutland\u0131rma ayarlar\u0131n\u0131 a\u00e7. 6 \u2013 Foto\u011fraf\u0131n geni\u015fli\u011fini 300 piksel olarak ayarla. 7 \u2013 Dosya \u2013 Farkl\u0131 Kaydet men\u00fcs\u00fcnden kaydedilecek yeri se\u00e7. 8 \u2013 Dosya ismi olarak  profile_k\u00fc\u00e7\u00fck.jpg yaz ve Kaydet butonuna t\u0131kla.</p> <p></p> <p>Komut sat\u0131r\u0131n\u0131 kullanarak bu i\u015flemi tek bir sat\u0131rda halledebiliriz. Nas\u0131l m\u0131?</p> <pre><code>convert -resize 300 profile.jpg profile_k\u00fc\u00e7\u00fck.jpg\n</code></pre> <p>Komut sat\u0131r\u0131ndaki bir sat\u0131r, neredeyse resim d\u00fczenleme program\u0131ndaki sekiz i\u015fleme e\u015fit. \u015euan belki de bu i\u015flemi yaparken ge\u00e7en 15-20 saniyenizi \u00f6nemsemiyorsunuz fakat 30 farkl\u0131 foto\u011fraf\u0131 d\u00fczenlemeniz gerekseydi ne yapmak isterdiniz? 30 farkl\u0131 foto\u011fraf i\u00e7in yukar\u0131daki sekiz ad\u0131m\u0131 s\u00fcrekli tekrarlamak ister miydiniz? Totalde 240 ad\u0131m ediyor. Bunun yerine b\u00fct\u00fcn i\u015flerinizi tek sat\u0131rda halletmek isteyece\u011finizi varsay\u0131yorum.</p>"},{"location":"linux/komut-satirina-giris/#komut-satr-kullanmann-avantajlar","title":"Komut Sat\u0131r\u0131 Kullanman\u0131n Avantajlar\u0131","text":"<p>Komut sat\u0131r\u0131na bir kere \u015fans veren insanlar genellikle asla grafik aray\u00fcz kullanmaya geri d\u00f6nm\u00fcyorlar. Sebebi \u00e7ok basit, Komut sat\u0131r\u0131(Terminal) kullanmak grafik aray\u00fcz\u00fc kullanmaktan hem daha  h\u0131zl\u0131, daha  stabil, daha esnek, \u00e7ok daha  e\u011flenceli ve \u00e7ok farkl\u0131 bir  deneyim. Komut sat\u0131r\u0131 kullanarak bilgisayar\u0131n\u0131zla \u00e7ok dafa farkl\u0131 bir \u015fekilde ileti\u015fim kurabilirsiniz.</p> <p>G\u00fczel Bir \u00d6zellik Daha: Scripting</p> <p>Kulland\u0131\u011f\u0131n\u0131z komutlar\u0131 text dosyalar\u0131na d\u00f6n\u00fc\u015ft\u00fcrebilece\u011finizi biliyor muydunuz? Bu text dosyalar\u0131na  script denir ve genellikle her seferinde uzun komutlar yazmak yerine kullanmak istedi\u011fimiz komutlar\u0131 kaydederek s\u00fcrekli kullanmam\u0131z\u0131 sa\u011flarlar.</p> <p><code>komutlarim.sh</code></p> <p>.sh uzant\u0131l\u0131 bir dosyan\u0131n i\u00e7erisinde komutlar\u0131n\u0131z\u0131 kombine ederek kullanabilirsiniz! \u0130lk \u00f6nce komut sat\u0131r\u0131n\u0131 kullanmay\u0131 \u00f6\u011frendikten sonra Bash Scripting \u00f6\u011frenebilirsiniz.</p> <p>Grafik Aray\u00fcze Sahip Olmayan Uygulamalar</p> <p>Komut sat\u0131r\u0131 kullanman\u0131n en \u00e7ok gerekti\u011fi ve en \u00e7ok i\u015fe yarad\u0131\u011f\u0131 anlar grafik aray\u00fcze sahip olmayan uygulamalar\u0131 kullanmam\u0131z gerekti\u011finde ortaya \u00e7\u0131k\u0131yor. Diyelim ki bir network\u2019\u00fcm\u00fcz var, bu network\u2019teki bir bilgisayar\u0131 kapatmak istiyoruz. Bilgisayar\u0131n yan\u0131na kadar gidip kapatma tu\u015funa basmak yerine komut sat\u0131r\u0131ndan  shutdown komutunu \u00e7al\u0131\u015ft\u0131rmak g\u00fczel bir fikire benziyor. Tabi bu bilgisayar\u0131n kapatma d\u00fc\u011fmesine aya\u011f\u0131n\u0131z ile eri\u015febiliyorsan\u0131z farkl\u0131 bir se\u00e7im yapabilirsiniz. \ud83d\ude42</p> <p>Asl\u0131nda Grafik Aray\u00fcze Sahip Olan Programlar da Komutlarla \u00c7al\u0131\u015f\u0131r</p> <p>Grafik aray\u00fcze sahip programlar\u0131 kullan\u0131rken men\u00fclerden t\u0131klad\u0131\u011f\u0131m\u0131z se\u00e7enekler asl\u0131nda birer komuttur diyebiliriz. Bir program\u0131 \u00e7al\u0131\u015ft\u0131rmak i\u00e7in bir men\u00fcye veya bir ikona t\u0131klad\u0131\u011f\u0131n\u0131zda asl\u0131nda bir komut \u00e7al\u0131\u015ft\u0131rm\u0131\u015f olursunuz.</p> <p>Komut sat\u0131r\u0131n\u0131n faydalar\u0131ndan ve ne kadar e\u011flenceli bir \u015fey oldu\u011fundan yeterince bahsettik. Art\u0131k ba\u015flayabiliriz. \ud83d\ude42</p>"},{"location":"linux/libvirt-networking/","title":"Libvirt Networking","text":""},{"location":"linux/libvirt-networking/#libvirt-uzerinde-calisan-default-network","title":"Libvirt Uzerinde Calisan Default Network","text":"<p>Asagidaki komut ile libvirt ile birlikte calisan networkler listelenebilir.</p> <pre><code>virsh net-list --all\n</code></pre> <p>Libvirt kurulumu ile birlikte gelen varsayilan networkun adi defaultdur. Ilk kurulumda otomatik olarak baslamaz, el ile baslastilmasi ve duruma gore autostart hale getirilmesi gerekebilir.</p> <p>Bu network baslatildiktan sonra virbr0 adinda bir network interfaceinin olustugunu gorebiliriz. 4 numarali interface. Bu interface sanal bir switch gorevi gorur. Olusturulan sanal makineler bu switch'e bagliymis gibi davranir.</p> <pre><code>berk@berk-notebook:~/Documents/repos/docs$ ip a\n1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host noprefixroute \n       valid_lft forever preferred_lft forever\n2: enp4s0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc fq_codel state DOWN group default qlen 1000\n    link/ether 88:a4:c2:54:35:af brd ff:ff:ff:ff:ff:ff\n3: wlp0s20f3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000\n    link/ether cc:15:31:ea:8d:ff brd ff:ff:ff:ff:ff:ff\n    inet 192.168.1.178/24 brd 192.168.1.255 scope global dynamic noprefixroute wlp0s20f3\n       valid_lft 70988sec preferred_lft 70988sec\n    inet6 fd00::bdfb:aa4a:5494:e47d/64 scope global temporary dynamic \n       valid_lft 29sec preferred_lft 29sec\n    inet6 fd00::a54a:d2b6:a31e:cbc2/64 scope global dynamic mngtmpaddr noprefixroute \n       valid_lft 29sec preferred_lft 29sec\n    inet6 fe80::e6c3:321a:f4cc:d0c2/64 scope link noprefixroute \n       valid_lft forever preferred_lft forever\n4: virbr0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000\n    link/ether 52:54:00:91:e2:8d brd ff:ff:ff:ff:ff:ff\n    inet 192.168.122.1/24 brd 192.168.122.255 scope global virbr0\n       valid_lft forever preferred_lft forever\n</code></pre>"},{"location":"linux/libvirt-networking/#dhcp-ve-dnsmasq","title":"DHCP ve DNSMASQ","text":"<p>Libvirt kurulumu ile birlikte gelen, arkada calisan bir process mevcut. Adi dnsmasq.</p> <pre><code>berk@berk-notebook:~/Documents/repos/docs$ ps aux | grep -i dnsmasq\nlibvirt+    3777  0.0  0.0  11484  2348 ?        S    09:19   0:01 /usr/sbin/dnsmasq --conf-file=/var/lib/libvirt/dnsmasq/default.conf --leasefile-ro --dhcp-script=/usr/lib/libvirt/libvirt_leaseshelper\nroot        3778  0.0  0.0  11484  1708 ?        S    09:19   0:00 /usr/sbin/dnsmasq --conf-file=/var/lib/libvirt/dnsmasq/default.conf --leasefile-ro --dhcp-script=/usr/lib/libvirt/libvirt_leaseshelper\ndnsmasq     4765  0.7  2.9 2037796 470492 ?      Ssl  09:19   6:04 mysqld\nberk      911011  0.0  0.0   9144  2304 pts/0    S+   23:22   0:00 grep --color=auto -i dnsmasq\n</code></pre> <p>Dnsmasq, kucuk networkler icin tasarlanmis DNS ve DHCP sunucusudur. Genellikle local networklerde DNS isteklerini cozmek, ip adresleri atamak ve ag yonetimini kolaylastirmak amaciyla kullanilir. Yani libvirt'in default networkunu kullandigimizda aslinda ipleri dagitan yazilim dnsmasq diyebiliriz.</p> <p>Buradan dnsmasq'in configine bakarak dhcp-range'ini ogrenebiliriz. Bu ayarlar libvirt tarafindan otomatik olarak yapilir.</p> <pre><code>berk@berk-notebook:~/Documents/repos/docs$ sudo cat /var/lib/libvirt/dnsmasq/default.conf \n[sudo] password for berk: \n##WARNING:  THIS IS AN AUTO-GENERATED FILE. CHANGES TO IT ARE LIKELY TO BE\n##OVERWRITTEN AND LOST.  Changes to this configuration should be made using:\n##    virsh net-edit default\n## or other application using the libvirt API.\n##\n## dnsmasq conf file created by libvirt\nstrict-order\nuser=libvirt-dnsmasq\npid-file=/run/libvirt/network/default.pid\nexcept-interface=lo\nbind-dynamic\ninterface=virbr0\ndhcp-range=192.168.122.2,192.168.122.254,255.255.255.0\ndhcp-no-override\ndhcp-authoritative\ndhcp-lease-max=253\ndhcp-hostsfile=/var/lib/libvirt/dnsmasq/default.hostsfile\naddn-hosts=/var/lib/libvirt/dnsmasq/default.addnhosts\n</code></pre> <p>Linux bir makineye libvirt kurulumu yapildiginda ve default network aktif edildiginde otomatik olarak sanal bir bridge ve dhcp serveri otomatik olarak kuruluyor.</p>"},{"location":"linux/libvirt-networking/#sanal-makineler-ve-libvirtin-network-sistemi","title":"Sanal Makineler ve Libvirt'in Network Sistemi","text":"<p>Simdi sanal makinelerimizin durumlarini inceleyelim.</p> <pre><code>berk@berk-notebook:~/Documents/repos/docs$ virsh list --all\n Id   Name             State\n---------------------------------\n -    debian12-fresh   shut off\n -    ubuntu24.04      shut off\n</code></pre> <p>Goruldugu uzere 2 adet sanal makine var ve ikisi de kapali gozukuyor. <code>virsh dumpxml</code> komutu ile bu sanal makinelerin ayar dosyalarini terminal uzerinde gorunteleyebiliriz.</p> <pre><code>berk@berk-notebook:~/Documents/repos/docs$ virsh dumpxml debian12-fresh | grep 'network='\n      &lt;source network='default'/&gt;\n</code></pre> <p>debian12-fresh isimli sanal makine network olarak default isimli networku kullaniyor. Yani Hypervisor olarak gorev yapan ana makinemizin uzerindeki virbr0 isimli interface uzerinden baglanti sagliyor.</p> <p>Bu sanal makineyi calistirdiktan sonra gerceklesen degisiklikleri gozlemleyelim;</p> <pre><code>virsh start debian12-fresh\n</code></pre> <p>Sanal makinemizi baslattiktan sonra ip a komutu ile interfacelerimizi tekrar kontrol edelim:</p> <pre><code>14: vnet1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master virbr0 state UNKNOWN group default qlen 1000\n    link/ether fe:54:00:81:86:f7 brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::fc54:ff:fe81:86f7/64 scope link \n    valid_lft forever preferred_lft forever\n</code></pre> <p>Yeni bir network interface'in belirdigini gozlemleyebiliriz. Bu olusan interface sanal makinenin bagli oldugu interfacedir. Gercekte sanal makinenin bagli oldugu switch olarak dusunebiliriz. </p> <p>Ayrica Interface'in detaylarina baktigimizda <code>master virbr0 state UNKNOWN</code> yazdigini gorebiliriz. Yani bu interface <code>virbr0</code> isimli interface'e bagli. virbr0 da default isimli libvirt networkunun olusturdugu interface. Basitce asagidaki gibi gorsellestirebiliriz.</p> <p></p>"},{"location":"linux/libvirt-networking/#hypervisor-kvm-host-uzerindeki-routing-table","title":"Hypervisor (KVM Host) Uzerindeki Routing Table","text":"<p>Trafik host uzerindeki routing table kurallarina gore yonlenir. Host berkbal.com'a ulasmak istediginde gateway uzerinden yonlenir. Asagidaki komut ile routing table'a goz atabiliriz.</p> <pre><code>berk@berk-notebook:~/Documents/repos/docs$ route\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\ndefault         _gateway        0.0.0.0         UG    600    0        0 wlp0s20f3\n172.17.0.0      0.0.0.0         255.255.0.0     U     0      0        0 docker0\n172.18.0.0      0.0.0.0         255.255.0.0     U     0      0        0 br-970466c5d983\n172.19.0.0      0.0.0.0         255.255.0.0     U     0      0        0 br-4b58726a0486\n172.20.0.0      0.0.0.0         255.255.0.0     U     0      0        0 br-8fdaf0fbab2e\n192.168.1.0     0.0.0.0         255.255.255.0   U     600    0        0 wlp0s20f3\n192.168.122.0   0.0.0.0         255.255.255.0   U     0      0        0 virbr0\nberk@berk-notebook:~/Documents/repos/docs$ \n</code></pre> <p>default isimli kaynak <code>wlp0s20f3</code> isimli interface uzerinden internete cikis yapiyor.</p> <p>L\u0131bv\u0131rt'in varsay\u0131lan network yapisi bu sekilde calisiyor.</p>"},{"location":"linux/libvirt-networking/#bridge-olusturmak","title":"Bridge Olusturmak","text":"<p>Varsayilan bridge'i kullanmak istemiyorsak veya baska bir bridge ihtiyaci duyuyorsak yeni bir birdge olusturabiliriz.</p> <p><code>ip</code> isimli araci kullanarak yeni bir bridge aygiti ekleyebiliriz.</p> <pre><code>ip link add name br1 type bridge\n</code></pre> <p>Bu sekilde bir bridge tanimladiktan sonra bunu default libvirt network yapisinda oldugu gibi fiziksel ethernet cihazina baglamamiz gerekiyor.</p> <pre><code>ip link set eno1 master br1\n</code></pre> <p>Buradaki eno1 fiziksel cihazinizi temsil eden interface olmali.</p> <p>Simdi ekledigimiz bridge'e bir ip adresi verelim.</p> <pre><code>ip addr add 192.168.1.4/24 dev br1 brd 192.168.1.255\n</code></pre> <p><code>ip a</code> komutunun ciktisina baktigimizda bu interfacein bir ip adresine sahip oldugunu gorebiliriz. </p> <pre><code>18: br1: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN group default qlen 1000\n    link/ether 16:6f:bb:49:6a:09 brd ff:ff:ff:ff:ff:ff\n    inet 192.168.4.7/16 brd 192.168.255.255 scope global br1\n    valid_lft forever preferred_lft forever\n</code></pre> <p>interface'in state'i DOWN durumda. Ayaga kaldiralim:</p> <pre><code>ip link set up br1\n</code></pre> <p>Tekrar ip a komutu ile kontrol ettigimizde state UP olarak gormeliyiz.</p> <pre><code>18: br1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000\n    link/ether 16:6f:bb:49:6a:09 brd ff:ff:ff:ff:ff:ff\n    inet 192.168.4.7/16 brd 192.168.255.255 scope global br1\n       valid_lft forever preferred_lft forever\n    inet6 fd00::d287:2e0d:95f7:bee6/64 scope global temporary dynamic \n       valid_lft 30sec preferred_lft 30sec\n    inet6 fd00::146f:bbff:fe49:6a09/64 scope global dynamic mngtmpaddr \n       valid_lft 30sec preferred_lft 30sec\n    inet6 fe80::146f:bbff:fe49:6a09/64 scope link \n       valid_lft forever preferred_lft forever\n</code></pre> <p><code>route add default gw 192.168.1.1</code>&lt;&gt;</p>"},{"location":"linux/linux-komutlari/","title":"Ba\u015flamadan \u00d6nce","text":""},{"location":"linux/linux-komutlari/#linux-komutlar","title":"Linux Komutlar\u0131","text":"<p>YouTube kanal\u0131mda Linux komutlar\u0131 hakk\u0131nda T\u00fcrk\u00e7e rehber video haz\u0131rlamaya ba\u015flamadan \u00f6nce bu konuyu d\u00f6k\u00fcmante etmek istedim. G\u00fcn\u00fcm\u00fczde Linux terminal komutlar\u0131 hakk\u0131nda bolca e\u011fitim videosu var fakat T\u00fcrk\u00e7e d\u00f6k\u00fcmantasyon yok. Amac\u0131m hem bu eksi\u011fi kapatmak hem de YouTube kanal\u0131m\u0131n d\u00f6k\u00fcmante edilmi\u015f bir versiyonunu tutmak. Bu makaleleri yazarken  Flossmanuals\u2018da yay\u0131nlanan Introduction to Command Line kitab\u0131n\u0131 T\u00fcrk\u00e7e\u2019ye \u00e7evirdim. Makale serisi tamamen bittikten sonra kitaptaki b\u00fct\u00fcn konu ba\u015fl\u0131klar\u0131n\u0131, Linux komutlar\u0131 ve anlamlar\u0131, T\u00fcrk\u00e7e olarak Linux Komutlar\u0131 PDF ad\u0131 ile payla\u015f\u0131p bir kitap haline getirece\u011fim.</p> <p>\u201cKafa kar\u0131\u015f\u0131kl\u0131\u011f\u0131n\u0131 \u00f6nlemek i\u00e7in belirteyim;  Kali Linux  Komutlar\u0131, Unix komutlar\u0131 ve normal linux komutlar\u0131 aras\u0131nda herhangi bir fark yoktur. Temelde kullan\u0131lan \u015fey  bash oldu\u011fu i\u00e7in herhangi bir linux da\u011f\u0131t\u0131m\u0131nda bu komutlar\u0131 kullanabilirsiniz. Kali Linux\u2019un i\u00e7erisinde gelen siber g\u00fcvenlik ve pentesting ara\u00e7lar\u0131n\u0131n kullan\u0131m\u0131 ayr\u0131 bir konudur. \u0130lerleyen zamanlarda o konular hakk\u0131nda da T\u00fcrk\u00e7e dersler payla\u015faca\u011f\u0131m.\u201d</p> <p>A\u015fa\u011f\u0131daki listeden veya direkt Linux Komutlar\u0131 men\u00fcs\u00fcnden konu hakk\u0131nda yazd\u0131\u011f\u0131m b\u00fct\u00fcn derslere eri\u015febilirsiniz. Dersleri s\u0131ras\u0131yla okuyup uygulamal\u0131 bir \u015fekilde takip ettikten sonra Linux Terminal ile alakal\u0131 herhangi bir s\u0131k\u0131nt\u0131n\u0131z kalaca\u011f\u0131n\u0131 d\u00fc\u015f\u00fcnm\u00fcyorum.</p>"},{"location":"linux/linux-komutlari/#linux-komutlar_1","title":"Linux Komutlar\u0131","text":"<ol> <li>Komut Sat\u0131r\u0131na Giri\u015f</li> <li>Terminal Komutlar\u0131n\u0131n Kullan\u0131m\u0131(Syntax)</li> <li>Bilgisayar \u0130\u00e7erisinde Gezinmek</li> <li>Temel Linux Komutlar\u0131</li> <li>Standart Ak\u0131\u015flar</li> <li>Daha H\u0131zl\u0131 Terminal Kullanmak</li> <li>Root Kullan\u0131c\u0131s\u0131 ve Sudo Komutu</li> </ol>"},{"location":"linux/logrotate/","title":"Log Rotasyonu Nedir?","text":"<p>Log rotasyonu g\u00fcncel/yeni log dosyalar\u0131n\u0131 etkilemeden eski log dosyalar\u0131n\u0131 silme/yedekleme i\u015flemidir. Kullan\u0131ld\u0131\u011f\u0131 alana g\u00f6re her uygulama \u00f6nemli loglar \u00fcretir ve bu loglar\u0131 genelde kaybetmek istemeyiz. E\u011fer bu loglar\u0131 silmezsek kulland\u0131\u011f\u0131m\u0131z sunucunun disk kapasitesi k\u0131sa bir s\u00fcre sonra dolabilir.</p> <p>Loglar\u0131 silmek yerine bizim i\u00e7in otomatik olarak gzip format\u0131nda ar\u015fivleyen Logrotate ad\u0131nda bir yaz\u0131l\u0131m var.</p> <p>Logrotate, log dosyalar\u0131n\u0131 y\u00f6netmeye, s\u0131k\u0131\u015ft\u0131rmaya, kald\u0131rmaya ve hatta belirli bir zaman aral\u0131\u011f\u0131ndan sonra (\u00f6rne\u011fin g\u00fcnl\u00fck, haftal\u0131k, ayl\u0131k vb.) e-postayla bir yere g\u00f6ndermeye yard\u0131mc\u0131 olur.</p>"},{"location":"linux/logrotate/#kurulum","title":"Kurulum","text":"<p>\u00c7o\u011fu Linux da\u011f\u0131t\u0131m\u0131 varsay\u0131lan olarak Logrotate ile gelir. E\u011fer sisteminizde mevcut de\u011filse, a\u015fa\u011f\u0131daki komutlarla kolayca kurulabilir:</p>"},{"location":"linux/logrotate/#rhelcentos","title":"RHEL/CentOS","text":"<p><code>yum install logrotate</code></p>"},{"location":"linux/logrotate/#debianubuntu","title":"Debian/Ubuntu","text":"<p><code>apt-get install logrotate</code></p>"},{"location":"linux/logrotate/#fedora","title":"Fedora","text":"<p><code>dnf install logrotate</code></p>"},{"location":"linux/logrotate/#nasl-calsr","title":"Nas\u0131l \u00e7al\u0131\u015f\u0131r?","text":"<p>Logrotate, i\u015flem yapmak istedi\u011finiz t\u00fcm log dosyalar\u0131n\u0131 belirtebilece\u011finiz bir yap\u0131land\u0131rma dosyas\u0131na sahiptir. G\u00fcnl\u00fck, haftal\u0131k, ayl\u0131k vb. gibi bir zaman periyodu birimine ve her d\u00f6nd\u00fcrme i\u00e7in 3, 4, 5 gibi d\u00f6nd\u00fcrme say\u0131s\u0131na ihtiyac\u0131 vard\u0131r. Log dosyalar\u0131 kald\u0131r\u0131lmadan \u00f6nce d\u00f6nd\u00fcrme say\u0131s\u0131 kadar d\u00f6nd\u00fcr\u00fcl\u00fcr. Varsay\u0131lan d\u00f6nd\u00fcrme say\u0131s\u0131 0'd\u0131r, bu da eski g\u00fcnl\u00fck s\u00fcr\u00fcmlerinin d\u00f6nd\u00fcr\u00fclmek yerine kald\u0131r\u0131laca\u011f\u0131 anlam\u0131na gelir. Yani g\u00fcnl\u00fckleriniz my-application.log adl\u0131 bir dosyaya kaydediliyorsa, bir d\u00f6nd\u00fcrmeden sonra my-application.1.log adl\u0131 yeni bir dosya olu\u015fturulur.</p>"},{"location":"linux/logrotate/#ayar-dosyas","title":"Ayar Dosyas\u0131","text":"<p>Logrotate yap\u0131land\u0131rma dosyas\u0131 <code>/etc/logrotate.conf</code>'da bulunur. \u00d6rnek bir yap\u0131land\u0131rma dosyas\u0131 \u015funa benzer bloklar i\u00e7erir:</p> <pre><code>/var/lib/docker/containers/*/*.log {\n    rotate 5\n    copytruncate\n    missingok\n    notifempty\n    compress\n    maxsize 200M\n    daily\n}\n</code></pre> <p>\u015eimdi bu log dosyas\u0131n\u0131 ad\u0131m ad\u0131m inceleyelim:</p> <p><code>/var/lib/docker/containers/*/*.log</code></p> <p>Logrotate'in hangi dosyay\u0131 veya dosyalara i\u015flem uygulayaca\u011f\u0131n\u0131 g\u00f6steren yoldur.  <code>{ }</code> i\u00e7erisindeki kurallar\u0131 <code>/var/lib/docker/containers</code> dizinindeki b\u00fct\u00fcn dizinlerin i\u00e7erisindeki <code>.log</code> ile biten dosyalara a\u015fa\u011f\u0131daki kurallar\u0131 uygulayacak:</p> <p><code>rotate 5</code></p> <p>Loglari en fazla 5 kere saklar, yani i\u015flem yap\u0131ld\u0131\u011f\u0131nda en fazla 5 dosya eski g\u00fcnl\u00fck saklanacak ve halihaz\u0131rda 5 dosya oldu\u011funda en eski g\u00fcnl\u00fckler silinecek.</p> <p>\u00d6rnek: </p> <pre><code>my-application.log \nmy-application.log1 \nmy-application.log2 \nmy-application.log3 \nmy-application.log4 \nmy-application.log5\n</code></pre> <p><code>copytruncate</code></p> <p>Eski log dosyalar\u0131n\u0131 ta\u015f\u0131y\u0131p iste\u011fe ba\u011fl\u0131 olarak yenisini olu\u015fturmak yerine, bir kopya olu\u015fturduktan sonra orijinal log dosyas\u0131n\u0131 bulundu\u011fu yerde, 0 KB boyutuna k\u00fc\u00e7\u00fclt\u00fcr. Baz\u0131 uygulamalar\u0131n log dosyas\u0131n\u0131 kapatmas\u0131 m\u00fcmk\u00fcn olmad\u0131\u011f\u0131nda ve \u00f6nceki log dosyas\u0131na yazmaya devam edebilece\u011fi durumlarda kullan\u0131labilir. Dosyan\u0131n kopyalanmas\u0131 ve k\u00fc\u00e7\u00fclt\u00fclmesi aras\u0131nda \u00e7ok k\u00fc\u00e7\u00fck bir zaman dilimi oldu\u011fu i\u00e7in log kayb\u0131 olabilir.</p> <p><code>missingok</code></p> <p>E\u011fer log dosyas\u0131 eksikse, bir hata olu\u015fturmaz ve bir sonraki dosyaya ge\u00e7er.</p> <p><code>notifempty</code></p> <p>Log dosyas\u0131n\u0131n i\u00e7eri\u011fi bo\u015fsa log rotate i\u015flemi ger\u00e7ekle\u015ftirmez.</p> <p><code>compress</code></p> <p>Eski log dosyalar\u0131n\u0131 gzip format\u0131nda s\u0131k\u0131\u015ft\u0131r\u0131r.</p> <p><code>maxsize 200M</code></p> <p>Log dosyas\u0131, rotate kural\u0131ndan ba\u011f\u0131ms\u0131z olarak 200 MB boyutunu a\u015farsa rotate i\u015flemini ger\u00e7ekle\u015ftirir. Bu ayar ileride zgrep kullan\u0131larak s\u0131k\u0131\u015ft\u0131r\u0131lm\u0131\u015f dosyalar\u0131n i\u00e7erisinde bir log ararken dosyan\u0131n boyutunun fazla b\u00fcy\u00fck olmamas\u0131 sa\u011flan\u0131rsa avantaj sa\u011flar.</p> <p><code>daily</code></p> <p>Log rotate i\u015flemini g\u00fcnl\u00fck olarak ger\u00e7ekle\u015ftirir.</p>"},{"location":"linux/masaustu-ikon-olusturma/","title":"Masa\u00fcst\u00fcnde \u0130kon Olu\u015fturma ve Bir Uygulamaya Ba\u011flama","text":"<p>\u0130ste\u011fe g\u00f6re d\u00fczenlenebilir. Gnome ve KDE taraf\u0131ndan desteklenir.</p> <pre><code>[Desktop Entry]\nType=Application\nTerminal=false\nName=Uygulama Adi\nComment=Hover\nExec=bash -c \"cd /home/$USER/DIZIN/; bash /home/$USER/DIZIN/run.sh\"\nStartupNotify=true\nIcon=/home/USER/DIZIN/ICON.jpg\n</code></pre>"},{"location":"linux/nfs/","title":"NFS Nedir?","text":"<p>NFS, \"Network File System\" kelimelerinin k\u0131saltmas\u0131d\u0131r. Ad\u0131ndan da anla\u015f\u0131laca\u011f\u0131 gibi, a\u011f \u00fczerinden dosya payla\u015f\u0131m\u0131 sa\u011flayan bir protokold\u00fcr (ileti\u015fim kural\u0131). Yani bu bir program ya da bir i\u015fletim sistemi de\u011fil, iki bilgisayar\u0131n birbiriyle dosya payla\u015f\u0131rken konu\u015fmak i\u00e7in kulland\u0131\u011f\u0131 bir dildir.</p> <p>Temel amac\u0131, bir bilgisayardaki dosyalar\u0131n, a\u011fa ba\u011fl\u0131 ba\u015fka bir bilgisayar taraf\u0131ndan sanki kendi yerel diskiymi\u015f gibi eri\u015filebilir olmas\u0131n\u0131 sa\u011flamakt\u0131r. Bu sayede bir sunucuda merkezi bir depolama alan\u0131 olu\u015fturup, birden fazla istemcinin (istemci) bu alandaki dosyalara eri\u015fmesini, okumas\u0131n\u0131, yazmas\u0131n\u0131 ve d\u00fczenlemesi sa\u011flanabilir.</p>"},{"location":"linux/nfs/#nfs-kurulumu","title":"NFS Kurulumu","text":""},{"location":"linux/nfs/#host-sunucuda-yaplacak-islemler","title":"Host Sunucuda Yap\u0131lacak \u0130\u015flemler","text":""},{"location":"linux/nfs/#nfsin-kurulacag-sunucuda-gerekli-kurulumlar-yaplr","title":"NFS'in kurulaca\u011f\u0131 sunucuda gerekli kurulumlar yap\u0131l\u0131r.","text":"<pre><code># Gerekli paketi kurma\nsudo apt update\nsudo apt install nfs-kernel-server -y\n</code></pre>"},{"location":"linux/nfs/#paylasm-yaplacak-dizini-olusturup-ayarlamalarn-yaplmas","title":"Payla\u015f\u0131m yap\u0131lacak dizini olu\u015fturup ayarlamalar\u0131n yap\u0131lmas\u0131:","text":"<p>Dosya izinleri duruma ve kuruluma g\u00f6re de\u011fi\u015fiklik g\u00f6stermelidir. Mutlaka d\u00fczenkleyin.</p> <pre><code>sudo mkdir -p /var/nfs/data\nsudo chown nobody:nogroup /var/nfs/data\nsudo chmod 777 /var/nfs/data\n</code></pre> <p><code>vim /etc/exports</code> dosyas\u0131n\u0131n i\u00e7ine:</p> <ul> <li>Duruma g\u00f6re <code>no_root_squash</code> ayar\u0131 da yetki olarak eklenebilir fakat g\u00fcvenlik riskleri i\u00e7ermektedir.</li> <li>192.168.1.0/24 yerine spesifik ba\u011flanmas\u0131 istenen sunucular\u0131n ip adrselerinin eklenmesi \u00f6nerilir.</li> </ul> <pre><code>/var/nfs/data    192.168.1.0/24(rw,sync,no_subtree_check)\n</code></pre>"},{"location":"linux/nfs/#nfs-sisteminin-yeniden-baslatlmas","title":"NFS Sisteminin yeniden Ba\u015flat\u0131lmas\u0131","text":"<pre><code>systemctl restart nfs-kernel-server\n</code></pre>"},{"location":"linux/nfs/#2049-ve-111-portlarna-erisim-izni-gerekmektedir-sadece-baglanmas-beklenen-ip-adreslerine-izin-verilmersi-onerilir","title":"2049 ve 111 portlar\u0131na eri\u015fim izni gerekmektedir. Sadece ba\u011flanmas\u0131 beklenen ip adreslerine izin verilmersi \u00f6nerilir.","text":""},{"location":"linux/nfs/#client-tarafnda-yaplacak-islemler","title":"Client Taraf\u0131nda Yap\u0131lacak \u0130\u015flemler","text":""},{"location":"linux/nfs/#gerekli-paketlerin-kurulmas","title":"Gerekli Paketlerin Kurulmas\u0131","text":"<pre><code>apt update\napt install nfs-common -y\n</code></pre>"},{"location":"linux/nfs/#baglant-icin-dizin-olusturulmas","title":"Ba\u011flant\u0131 \u0130\u00e7in Dizin Olu\u015fturulmas\u0131","text":"<p>Dizinin ismi \u00f6nemli de\u011fil. </p> <pre><code>mkdir -p /mnt/k8s_storage\n</code></pre>"},{"location":"linux/nfs/#nfs-ile-uzaktaki-dizinin-mount-edilmesi","title":"NFS ile Uzaktaki Dizinin Mount Edilmesi","text":"<pre><code>mount 192.168.1.X:/var/nfs/data /mnt/k8s_storage\n</code></pre>"},{"location":"linux/nfs/#otomatik-mount-edilmesi-icin-etcfstab-dosyasnn-duzenlenmesi","title":"Otomatik Mount Edilmesi \u0130\u00e7in /etc/fstab/ Dosyas\u0131n\u0131n D\u00fczenlenmesi","text":"<p><code>vim /etc/fstab</code></p> <pre><code>192.168.1.X:/var/nfs/data /mnt/k8s_storage nfs defaults 0 0\n</code></pre>"},{"location":"linux/root-kullanicisi/","title":"Root Kullan\u0131c\u0131s\u0131 ve Sudo Komutu","text":"<p>Linux sistemimizin baz\u0131 k\u0131s\u0131mlar\u0131 \u00f6zel korumaya ihtiya\u00e7 duyar. E\u011fer her kullan\u0131c\u0131 <code>cat</code>, <code>less</code>, <code>cd</code>, <code>mkdir</code> gibi komutlar\u0131n i\u015flevini de\u011fi\u015ftirebiliyor olsayd\u0131(sadece siz de\u011fi\u015ftirebilirsiniz) ortada \u00e7ok b\u00fcy\u00fck bir g\u00fcvenlik zaafiyeti olurdu. Sadece internet \u00fczerinden indirdi\u011finiz bir program\u0131n <code>rm</code> komutunun i\u015flevini <code>cd</code> komutuna verdi\u011fini d\u00fc\u015f\u00fcn\u00fcn. Bilgisayar\u0131n\u0131zdaki dizinleri kendi elinizle silmi\u015f olurdunuz. Bu tarz \u00f6nemli de\u011fi\u015fiklikleri sadece root kullan\u0131c\u0131s\u0131 yapabilir.</p> <p></p>"},{"location":"linux/root-kullanicisi/#sudo-komutu-ve-root-kullancs","title":"Sudo komutu ve Root Kullan\u0131c\u0131s\u0131","text":"<p>Bilgisayarlar\u0131n bu kadar ula\u015f\u0131labilir olmad\u0131\u011f\u0131 d\u00f6nemlerde \u00e7o\u011funlukla bir bilgisayar\u0131 birden fazla ki\u015fi kullan\u0131yordu. Root kullan\u0131c\u0131s\u0131 da genellikle bilgisayar\u0131n ger\u00e7ek sahibine veya biraz daha tecr\u00fcbeli kullan\u0131c\u0131lara veriliyordu. Sebebini do\u011fru tahmin ediyorsunuz.</p> <p>G\u00fcn\u00fcm\u00fczde de hala GNU/Linux sistemlerde hassas/\u00f6nemli dosyalar\u0131n sahibini belirlemek i\u00e7in bir adet root kullan\u0131c\u0131s\u0131 bulunur.  </p> <p>Dipnot: Linux dosya sisteminde bulunan root dizininin(/) root kullan\u0131c\u0131s\u0131 ile asl\u0131nda bir alakas\u0131 yoktur.</p> <p>Root komutlar\u0131 maksimum yetkiye sahip oldu\u011fu i\u00e7in dikkatli kullan\u0131lmalar\u0131 gerekir. Fakat her ko\u015fulda bilgisayar\u0131n\u0131za bir yaz\u0131l\u0131m kurmak istedi\u011finizde bile bu yetkiye k\u0131sa bir s\u00fcreli\u011fine sahip olman\u0131z gerekir.</p>"},{"location":"linux/root-kullanicisi/#sudo-komutu","title":"Sudo Komutu","text":"<p>\u00c7o\u011fu modern sistemde \u00e7al\u0131\u015ft\u0131rmak istedi\u011finiz komutun root yetkileri ile \u00e7al\u0131\u015fmas\u0131n\u0131 istiyorsan\u0131z \u00e7al\u0131\u015ft\u0131rmak istedi\u011finiz komutun ba\u015f\u0131na sudo yazman\u0131z yeterli olacakt\u0131r.(Tabi bunun i\u00e7in sudo\u2019nun bilgisayar\u0131n\u0131zda kurulu olmas\u0131 gerekir)</p> <pre><code>$ sudo rm -r /silinmek_istenen_dizin\n</code></pre> <p>\u00d6rnekteki komutu sudo ile \u00e7al\u0131\u015ft\u0131rmak istedi\u011finizde sistem size root parolan\u0131z\u0131 soracakt\u0131r. Bu koruma y\u00f6ntemi sayesinde de her kullan\u0131c\u0131 istedi\u011fi komutu root yetkileri ile \u00e7al\u0131\u015ft\u0131ramayacakt\u0131r. Ayr\u0131ca sistem belli bir s\u00fcreli\u011fine sizin root parolan\u0131z\u0131 hat\u0131rlayacakt\u0131r, yani sudo komutunu her kulland\u0131\u011f\u0131n\u0131zda parolan\u0131z\u0131 tekrar girmek zorunda kalmazs\u0131n\u0131z.</p> <p>Baz\u0131 sistemler kullan\u0131c\u0131n\u0131n su komutunu kullanmas\u0131na da izin verir. Bu komut sizi yeni bir komut sat\u0131r\u0131na g\u00f6ndererek root kullan\u0131c\u0131s\u0131 ile otomatik giri\u015f yapar.  </p> <p>Bu \u00f6zelli\u011fe varsay\u0131lan olarak her sistemin izin vermemesinin sebebi genellikle kullan\u0131c\u0131lar\u0131n dalg\u0131nl\u0131kla root kullan\u0131c\u0131s\u0131nda oldu\u011funu farketmeyip g\u00fcndelik i\u015flerini root kullan\u0131c\u0131s\u0131 ile yapmalar\u0131. \u00d6rne\u011fin kendi masa\u00fcst\u00fcn\u00fczde root kullan\u0131c\u0131s\u0131 ile bir dizin olu\u015fturursan\u0131z bu dizin root kullan\u0131c\u0131s\u0131na ait olacak ve bu dizine kendi kullan\u0131c\u0131 hesab\u0131n\u0131zla eri\u015femeyeceksiniz. Tabii ki bunu d\u00fczeltmenin yollar\u0131 var fakat neden ekstra bir\u015fey ile u\u011fra\u015fal\u0131m ki?</p> <p>Uzun laf\u0131n k\u0131sas\u0131 sisteminizde root olarak gezinmeyin, root parolan\u0131z\u0131 da kimseyle payla\u015fmay\u0131n. \ud83d\ude00 B\u00fcy\u00fck g\u00fc\u00e7, b\u00fcy\u00fck sorumluluk gerektirir.</p>"},{"location":"linux/routing-tablosu-nedir/","title":"Routing Tablosu","text":"<p>Routing tablosu (y\u00f6nlendirme tablosu), bir a\u011f cihaz\u0131n\u0131n (genellikle bir router ya da i\u015fletim sistemi a\u011f katman\u0131) gelen/verilecek IP paketlerini hangi a\u011f aray\u00fcz\u00fc veya sonraki adrese (next hop) y\u00f6nlendirmesi gerekti\u011fini belirlemek i\u00e7in kulland\u0131\u011f\u0131 bir tablodur.</p>"},{"location":"linux/routing-tablosu-nedir/#temel-gorevi","title":"Temel G\u00f6revi:","text":"<p>Routing tablosu, \"bu paketi nereye g\u00f6ndereyim?\" sorusuna cevap verir. Hedef IP adresine g\u00f6re en uygun yolu se\u00e7er.</p>"},{"location":"linux/routing-tablosu-nedir/#routing-tablosu-bilesenleri","title":"\ud83e\udde9 Routing Tablosu Bile\u015fenleri:","text":"<p>Her sat\u0131r (kay\u0131t) genellikle a\u015fa\u011f\u0131daki bile\u015fenlerden olu\u015fur:</p> Alan A\u00e7\u0131klama Destination (Hedef) Hedef a\u011f\u0131n IP adresi ve netmask\u2019i (\u00f6rnek: <code>192.168.1.0/24</code>) Gateway (A\u011f Ge\u00e7idi) Hedefe ula\u015fmak i\u00e7in verinin g\u00f6nderilece\u011fi bir sonraki IP adresi Interface (Aray\u00fcz) Paketin g\u00f6nderilece\u011fi fiziksel ya da sanal a\u011f aray\u00fcz\u00fc (\u00f6rnek: <code>eth0</code>) Metric Yolun maliyeti (k\u00fc\u00e7\u00fck olan daha cok tercih edilir) Flags Yolun aktif olup olmad\u0131\u011f\u0131 gibi baz\u0131 ek bilgiler"},{"location":"linux/routing-tablosu-nedir/#routing-tablosu-nasl-goruntulenir","title":"\ud83d\udd27 Routing Tablosu Nas\u0131l G\u00f6r\u00fcnt\u00fclenir?","text":""},{"location":"linux/routing-tablosu-nedir/#linuxta","title":"Linux\u2019ta:","text":"<pre><code>ip route show\n</code></pre> <p>ya da eski sistemlerde:</p> <pre><code>route -n\n</code></pre>"},{"location":"linux/routing-tablosu-nedir/#ornek-ckt","title":"\u00d6rnek \u00c7\u0131kt\u0131:","text":"<pre><code>default via 192.168.1.1 dev eth0\n192.168.1.0/24 dev eth0 proto kernel scope link src 192.168.1.100\n</code></pre>"},{"location":"linux/routing-tablosu-nedir/#anlam","title":"Anlam\u0131:","text":"<ul> <li><code>default via 192.168.1.1 dev eth0</code>: Hedef ba\u015fka bir kay\u0131ta uymuyorsa, t\u00fcm trafi\u011fi <code>192.168.1.1</code> router'\u0131na g\u00f6nder (<code>default route</code>).</li> <li><code>192.168.1.0/24 dev eth0</code>: 192.168.1.0 a\u011f\u0131na gitmek i\u00e7in do\u011frudan <code>eth0</code> aray\u00fcz\u00fcn\u00fc kullan.</li> </ul>"},{"location":"linux/routing-tablosu-nedir/#routing-turleri","title":"Routing T\u00fcrleri:","text":"<ol> <li>Statik Routing: Elle ayarlan\u0131r.</li> <li>Dinamik Routing: Protokoller (OSPF, BGP, RIP vb.) arac\u0131l\u0131\u011f\u0131yla otomatik \u00f6\u011frenilir.</li> <li>Default Routing: Bilinmeyen a\u011flara \u00e7\u0131k\u0131\u015f i\u00e7in kullan\u0131lan genel yol (<code>default route</code>).</li> </ol>"},{"location":"linux/routing-tablosu-nedir/#neden-onemlidir","title":"Neden \u00d6nemlidir?","text":"<ul> <li>Do\u011fru yap\u0131land\u0131r\u0131lmazsa paketler hedefe ula\u015famaz.</li> <li>Karma\u015f\u0131k a\u011flarda y\u00f6nlendirmenin otomatik veya optimize olmas\u0131 gerekir.</li> </ul>"},{"location":"linux/rsync/","title":"Rsync Nedir?","text":"<pre><code>man rsync\nrsync - a fast, versatile, remote (and local) file-copying tool\n</code></pre> <p>rsync (Remote Sync), dosya ve dizinleri yerel veya uzak sistemler aras\u0131nda senkronize etmek i\u00e7in kullan\u0131lan h\u0131zl\u0131 ve verimli bir ara\u00e7t\u0131r. Diferansiyel (art\u0131ml\u0131) senkronizasyon yaparak yaln\u0131zca de\u011fi\u015fen dosyalar\u0131 kopyalar, bu da onu h\u0131zl\u0131 ve bant geni\u015fli\u011fi dostu bir \u00e7\u00f6z\u00fcm haline getirir.</p>"},{"location":"linux/rsync/#rsync-nasl-kullanlr","title":"Rsync Nas\u0131l Kullan\u0131l\u0131r?","text":"<ol> <li>Temel Kopyalama</li> </ol> <pre><code>rsync -av kaynak_dizin hedef_dizin\n</code></pre> <ol> <li>Uzak Sunucuya Dosya G\u00f6nderme</li> </ol> <pre><code>rsync -av dosya user@remote_host:/hedef_dizin/\n</code></pre>"},{"location":"linux/rsync/#ssh-uzerinden-dosya-gondermek-icin","title":"SSH Uzerinden Dosya Gondermek Icin","text":"<pre><code>rsync -av -e ssh dosya user@remote_host:/hedef_dizin/\n</code></pre> <ol> <li>Uzak Sunucudan Dosya Alma</li> </ol> <pre><code>rsync -av user@192.168.1.10:/backup/proje/ /home/user/proje/\n</code></pre> <p>Bu komut, uzak sunucudan /backup/proje/ dizinini yerel /home/user/proje/ dizinine indirir.</p>"},{"location":"linux/sftp/","title":"SFTP Nedir?","text":"<p>SFTP, SSH \u00fczerinden g\u00fcvenli olarak dosya aktar\u0131m\u0131 yapan protokold\u00fcr.  SFTP sadece dosya aktarmakla kalmaz, dizin listeleme, dizin olu\u015fturma, dizin ve dosya silme, dizinleri yeniden isimlendirme gibi \u00f6zellikleri de b\u00fcnyesinde bar\u0131nd\u0131r\u0131r.</p>"},{"location":"linux/sftp/#sftp-baglants-nasl-kurulur","title":"SFTP Ba\u011flant\u0131s\u0131 Nas\u0131l Kurulur?","text":"<p>\u0130\u015fletim sistemi farketmeksizin <code>sftp kullanici-adi@sunucu-adresi</code> \u015feklinde ba\u011flant\u0131 sa\u011flanabilir.</p>"},{"location":"linux/sftp/#sftp-komutlar","title":"SFTP Komutlar\u0131","text":""},{"location":"linux/sftp/#dizin-komutlar","title":"Dizin Komutlar\u0131","text":"<ol> <li>pwd: SFTP ile ba\u011flan\u0131lan sunucuda bulunulan dizini ekrana yazd\u0131r\u0131r.</li> <li>lpwd: kendi makinenizde bulundu\u011funuz dizini ekrana yazd\u0131r\u0131r.</li> <li>lcd: Kendi makinenizde bulunulan dizini de\u011fi\u015ftirir.</li> <li>lls: Kendi makinenizde bulundu\u011funuz dizindeki dosyalar\u0131 listeler.</li> </ol>"},{"location":"linux/sftp/#dosya-transferleri","title":"Dosya Transferleri","text":"<ol> <li>put: Dosya y\u00fckler.</li> <li>get: Dosya indirir.</li> </ol>"},{"location":"linux/ss/","title":"SS Komutu","text":"<p><code>ss</code> komutu ile linux sunucumuzun nerelerden ba\u011flant\u0131 ald\u0131\u011f\u0131n\u0131 \u00f6\u011frenebiliriz. A\u00e7\u0131k portlar ve soketler <code>ss</code> komutu ile kontrol edilebilir. Hangi portlar\u0131n dinlenildi\u011fi de ss ile kontrol edilebilir.</p> <p>soket, iki program aras\u0131nda veri al\u0131\u015fveri\u015fini sa\u011flayan bir haberle\u015fme mekanizmas\u0131d\u0131r. Soketler, bir a\u011f ba\u011flant\u0131s\u0131 ya da ayn\u0131 sistemde \u00e7al\u0131\u015fan iki uygulama aras\u0131nda veri aktar\u0131m\u0131 i\u00e7in kullan\u0131labilir. Genellikle bir istemci ve bir sunucu uygulamas\u0131 aras\u0131nda veri al\u0131\u015fveri\u015fi sa\u011flamak amac\u0131yla kullan\u0131l\u0131r.</p>"},{"location":"linux/ss/#ss-komutu-nasl-kullanlr","title":"SS Komutu Nas\u0131l Kullan\u0131l\u0131r?","text":"<pre><code>ss\n</code></pre> <p>Bu komutun \u00e7\u0131kt\u0131s\u0131 sistemdeki b\u00fct\u00fcn ba\u011flant\u0131lar\u0131 g\u00f6sterir.</p>"},{"location":"linux/ss/#tcp-baglantlarn-gorme","title":"TCP Ba\u011flant\u0131lar\u0131n\u0131 G\u00f6rme","text":"<pre><code>ss -t\n</code></pre> <p>Bu komut ile sadece TCP ba\u011flant\u0131lar\u0131 izlenebilir.</p>"},{"location":"linux/ss/#listening-tcp-baglantlran-gorme","title":"Listening TCP Ba\u011flant\u0131lra\u0131n\u0131 G\u00f6rme","text":"<pre><code>ss -tl\n</code></pre> <p>Bu komut ile sadece TCP ve sunucunun dinledi\u011fi ba\u011flant\u0131lar g\u00f6r\u00fcnt\u00fclenebilir.</p>"},{"location":"linux/ss/#sadece-ipv4-baglantlarn-gorme","title":"Sadece ipv4 Ba\u011flant\u0131lar\u0131n\u0131 G\u00f6rme","text":"<pre><code>ss -4\n</code></pre>"},{"location":"linux/standart-akislar/","title":"Standart Ak\u0131\u015flar","text":"<p>Ak\u0131\u015flar(pipelar) nas\u0131l \u00e7al\u0131\u015f\u0131r? \u00c7al\u0131\u015ft\u0131r\u0131lan her komut \u00fc\u00e7 ileti\u015fim kanal\u0131n\u0131(ak\u0131\u015flar\u0131) kullan\u0131r.</p>"},{"location":"linux/standart-akislar/#stdin","title":"stdin","text":"<p>(standard input) varsay\u0131lan olarak klavyeniz ile ne yaz\u0131yorsan\u0131z bu kanala aktar\u0131l\u0131r. \"&lt;\" i\u015fareti kullan\u0131ld\u0131ktan sonra dosya ad\u0131 verilerek bir komutun/program\u0131n i\u00e7erisine veri almas\u0131 sa\u011flanabilir.</p>"},{"location":"linux/standart-akislar/#stdout","title":"stdout","text":"<p>(standard output) varsay\u0131lan olarak terminal ekran\u0131nda g\u00f6rd\u00fc\u011f\u00fcn\u00fcz her yaz\u0131 bu kanaldan aktar\u0131l\u0131r. \"&gt;\" i\u015faretini kullanarak ekrandaki yaz\u0131lar\u0131 bir dosyaya aktarabiliriz. Bu i\u015faret kullan\u0131larak output bir dosyaya aktar\u0131l\u0131rsa dosyanun i\u00e7eri\u011fini tamamen silerek yeniden olu\u015fturacakt\u0131r. \"&gt;&gt;\" i\u015faretini kullanarak var olan dosyan\u0131n i\u00e7eri\u011fini silmeden dosyan\u0131n sonuna ekrandaki yaz\u0131lar\u0131 ekleyebiliriz.</p>"},{"location":"linux/standart-akislar/#stderr","title":"stderr","text":"<p>(standard error) Komutlar\u0131n/programlar\u0131n hata mesaj\u0131 g\u00f6ndermek i\u00e7in kulland\u0131\u011f\u0131 kanald\u0131r. Sadece kar\u015f\u0131la\u015ft\u0131\u011f\u0131m\u0131z hatalar \u00fczerinden i\u015flem yapmak istedi\u011fimiz zamanlarda i\u015fimize yarayacakt\u0131r.</p> <p>\u00d6rnek:</p> <pre><code>$ ls *.bak &gt; listfile\nls: *.bak: No such file or directory\n</code></pre> <p>Yukar\u0131daki \u00f6rnekte .bak ile biten t\u00fcm dosyalar\u0131n bir listesini istedik. Ancak bu dizinde b\u00f6yle bir dosya yok. E\u011fer ls hata mesaj\u0131n\u0131 standart \u00e7\u0131kt\u0131ya g\u00f6nderseydi (bu durumda komutun \u00e7\u0131kt\u0131s\u0131 listfile isimli dosyaya aktar\u0131lacakt\u0131), listfile'\u0131n i\u00e7eri\u011fine bakmadan bir sorun oldu\u011funu anlayamayacakt\u0131k. Ancak ls mesaj\u0131n\u0131 standart hataya g\u00f6nderdi\u011fi i\u00e7in bunu ekranda g\u00f6rebiliyoruz.</p>"},{"location":"linux/standart-akislar/#pipe","title":"Pipe (|)","text":"<p>Pipe i\u015fareti (|) kulland\u0131\u011f\u0131m\u0131z komutun \u00e7\u0131kt\u0131s\u0131n\u0131(stdout) di\u011fer program\u0131n standart input (stdin) kanal\u0131na y\u00f6nlendirir.</p> <pre><code>$ ls -lR / | more\n</code></pre> <p>more komutu bir dosyan\u0131n i\u00e7eri\u011fini terminal \u00fczerinde sayfa sayfa g\u00f6r\u00fcnt\u00fclemeye yarayan bir linux komutudur. \u00c7\u0131kt\u0131s\u0131 \u00e7ok uzun olan komutlarla birlikte kullan\u0131labilir.</p> <p>E\u011fer <code>ls -lR /</code> komutunu more komutuna pipelamasayd\u0131k komutun \u00e7\u0131kt\u0131s\u0131n\u0131 okumam\u0131z neredeyse imkans\u0131z olacakt\u0131. Kendi terminalinizde deneyebilirsiniz.</p> <p>Bazen bir komutun \u00e7\u0131kt\u0131s\u0131n\u0131 bir dosyaya y\u00f6nlendirmek isteyebiliriz fakat komut \u00e7al\u0131\u015f\u0131rken \u00e7\u0131kt\u0131y\u0131 da g\u00f6rmek isteyebiliriz. <code>tee</code> komutu tam olarak bunu yapar:</p> <pre><code>$ ls -lR / | tee allMyFiles\n</code></pre> <p>\u00c7\u0131kt\u0131s\u0131 uzun s\u00fcren komutlar\u0131 tee ile bir dosyaya yazarak \u00e7\u0131kt\u0131y\u0131 canl\u0131 olarak izleyebiliriz. Ayr\u0131ca komutun hala \u00e7al\u0131\u015f\u0131p \u00e7al\u0131\u015fmad\u0131\u011f\u0131n\u0131 da g\u00f6zlemlememizi sa\u011flar.</p>"},{"location":"linux/standart-akislar/#standart-akslar-yonlendirmek","title":"Standart Ak\u0131\u015flar\u0131 Y\u00f6nlendirmek","text":"<p>Stdout'u yukar\u0131daki \u015fekilde y\u00f6nlendirdik. \u015eimdi di\u011ferlerini inceleyelim.</p> Ak\u0131\u015f Numara stdin 0 stdout 1 stderr 2 <p>Yukar\u0131daki tablodan hangi ak\u0131\u015f\u0131n hangi kanal numaras\u0131na sahip oldu\u011funu \u00f6\u011frenebilirsiniz.</p>"},{"location":"linux/standart-akislar/#standart-error-yonlendirmesi-stderr","title":"Standart Error Y\u00f6nlendirmesi (stderr)","text":"<p>Yukar\u0131da yapt\u0131\u011f\u0131m\u0131z gibi stdin'i y\u00f6nlendirdi\u011fimizde hata mesajlar\u0131 hala ekrana gelecektir. \u00d6rne\u011fin:</p> <pre><code>$ ls /boyle-bir-dizin-yok &gt; /dev/null\nls: /boyle-bir-dizin-yok: No such file or directory\n</code></pre> <p>Stderr'i tamamen y\u00f6nlendirmek i\u00e7in, yukar\u0131daki tabloda belirtilen kanal numaralar\u0131n\u0131 kullanabiliriz.</p> <pre><code>ls /boyle-bir-dizin-yok 2&gt;/tmp/errors\n$\n</code></pre> <p>Bu \u015fekilde bir y\u00f6nlendirme 2 numaral\u0131 kanal\u0131(stderr) tamamen farkl\u0131 bir dosyaya y\u00f6nlendirecektir ve komut sat\u0131r\u0131n\u0131n \u00e7\u0131kt\u0131s\u0131nda hatalar g\u00f6z\u00fckmeyecektir.</p> <p>Shell scriptleri yazarken kullan\u0131\u015fl\u0131 olabilir.</p> <p>\u015eimdi stdout ve stderr'i ayn\u0131 dosyaya y\u00f6nlendiren daha karma\u015f\u0131k bir y\u00f6nlendirmeyi test edelim:</p> <pre><code>$ ls *.bak &gt; listfile 2&gt;&amp;1\n</code></pre> <p>Buradaki &amp; i\u015fareti komutu arkaplanda \u00e7al\u0131\u015f\u0131rma amac\u0131 ile kar\u0131\u015ft\u0131r\u0131lmamal\u0131d\u0131r. <code>&amp;</code> i\u015fareti bu i\u015flemde MUTLAKA <code>&gt;</code> i\u015faretine biti\u015fik olmal\u0131d\u0131r. </p> <p>Buradaki yaz\u0131m \u015fekli, 2 numaral\u0131 kanal\u0131 1 numaral\u0131 kanala y\u00f6nlendirecektir. 1 numaral\u0131 kanal <code>stdout</code> oldu\u011fu i\u00e7in komutun \u00e7\u0131kt\u0131s\u0131 <code>listfile</code> isimli dosyaya yaz\u0131lacakt\u0131r. Yani hem hata mesajlar\u0131n\u0131 hem komutun \u00e7\u0131kt\u0131s\u0131n\u0131 listfile isimli dosyaya yazd\u0131rm\u0131\u015f oluyoruz.</p> <p>\u00c7al\u0131\u015ft\u0131rmak istedi\u011finiz linux komutunu arkaplanda \u00e7al\u0131\u015ft\u0131rmak i\u00e7in <code>komut &amp;</code> \u015feklinde \u00e7al\u0131\u015ft\u0131rabilirsiniz.</p> <p>Bu i\u015flemleri pipe ile birle\u015ftirmek istedi\u011fimizde ise komutun sonuna pipe koyarak \u00e7\u0131kt\u0131y\u0131 ba\u015fka bir komuta y\u00f6nlendirebiliriz.</p> <p>\u00d6rnek: </p> <pre><code>$ ls *.bak 2&gt;&amp;1 | more\n</code></pre>"},{"location":"linux/swaks/","title":"Swaks (Swiss Army Knife for SMTP)","text":""},{"location":"linux/swaks/#swaks-nedir","title":"Swaks Nedir?","text":"<p>Swaks (Swiss Army Knife for SMTP), Linux sistemlerde e-posta sunucular\u0131n\u0131 test etmek ve SMTP protokol\u00fc \u00fczerinden e-posta g\u00f6nderme i\u015flemlerini incelemek i\u00e7in kullan\u0131lan bir komut sat\u0131r\u0131 arac\u0131d\u0131r. Olduk\u00e7a esnek ve kullan\u0131m\u0131 kolayd\u0131r, bu sayede SMTP, SMTPS (TLS ve STARTTLS), ve di\u011fer protokollerle ilgili sorunlar\u0131 tespit etmek i\u00e7in yayg\u0131n olarak kullan\u0131l\u0131r.</p>"},{"location":"linux/swaks/#kurulum","title":"Kurulum","text":"<pre><code>sudo apt install swaks\n</code></pre>"},{"location":"linux/swaks/#swaks-kullanm","title":"Swaks Kullan\u0131m\u0131","text":"<p>En basit hali ile bir test maili g\u00f6ndermek i\u00e7in:</p> <pre><code>swaks --to recipient@example.com\n</code></pre> <p>Belirli bir SMTP sunucusuna ba\u011flanarak mail g\u00f6ndermek i\u00e7in:</p> <pre><code>swaks --to recipient@example.com --server smtp.example.com\n</code></pre> <p>TLS ile bir sunucuya ba\u011flanmak i\u00e7in</p> <pre><code>swaks --to recipient@example.com --server smtp.example.com --tls\n</code></pre> <p>Kimlik do\u011frulamas\u0131 yaparak bir sunucuya ba\u011flanmak i\u00e7in</p> <pre><code>swaks --to recipient@example.com --server smtp.example.com --auth LOGIN --auth-user username --auth-password password\n</code></pre> <p>Bir mail 2 adet par\u00e7adan olu\u015fur.(Header ve Body) Bu k\u0131s\u0131mlar\u0131 \u00f6zelle\u015ftirerek bir mail g\u00f6ndermek i\u00e7in swaks komutu a\u015fa\u011f\u0131daki gibi kullan\u0131l\u0131r:</p> <pre><code>swaks --to recipient@example.com --from sender@example.com --header \"Subject: Test Email\" --body \"This is a test email.\"\n</code></pre> <p>Genel anlamda swaks'\u0131n nas\u0131l kullan\u0131ld\u0131\u011f\u0131n\u0131 anlad\u0131ktan sonra parametrelere ve \u00f6zelliklerini inceleyebiliriz.</p>"},{"location":"linux/swaks/#swaks-parametreleri","title":"Swaks Parametreleri","text":"<ol> <li><code>--to [email_address]:</code></li> </ol> <p>G\u00f6nderilecek e-postan\u0131n al\u0131c\u0131 adresini belirtir.</p> <p>\u00d6rnek: <code>--to mail@testsunucusu.com.tr</code></p> <ol> <li><code>--from [email_address]:</code></li> </ol> <p>G\u00f6nderici e-posta adresini belirtir. Varsay\u0131lan olarak sistemin hostname\u2019i kullan\u0131l\u0131r.</p> <p>\u00d6rnek: <code>--from relay-test@testsunucusu.com.tr</code></p> <ol> <li><code>--server [hostname]:</code></li> </ol> <p>SMTP sunucusunun adresini belirtir. Sunucuya ba\u011flanmak i\u00e7in kullan\u0131lan IP adresi veya hostname olabilir.</p> <p>\u00d6rnek: <code>--server docker.testsunucusu.com.tr</code></p> <ol> <li><code>--port [port_number]:</code></li> </ol> <p>SMTP sunucusuna ba\u011flanmak i\u00e7in kullan\u0131lan port numaras\u0131n\u0131 belirtir. Varsay\u0131lan olarak 25\u2019tir, ancak SMTPS i\u00e7in genelde 465, STARTTLS i\u00e7in 587 gibi portlar kullan\u0131l\u0131r.</p> <p>\u00d6rnek: <code>--port 2527</code></p> <ol> <li><code>--helo [domain_name]:</code></li> </ol> <p>SMTP sunucusuna g\u00f6nderilen HELO veya EHLO komutunda kullan\u0131lan domain ad\u0131n\u0131 belirtir. SMTP sunucusuna kendinizi tan\u0131tmak i\u00e7in kullan\u0131l\u0131r.</p> <p>\u00d6rnek: <code>--helo mail.berkbal.tr</code></p> <ol> <li><code>--auth [auth_type]:</code></li> </ol> <p>SMTP kimlik do\u011frulamas\u0131 i\u00e7in kullan\u0131lan y\u00f6ntemdir. Desteklenen y\u00f6ntemler aras\u0131nda PLAIN, LOGIN, CRAM-MD5 gibi se\u00e7enekler vard\u0131r.</p> <p>\u00d6rnek: <code>--auth LOGIN</code></p> <ol> <li><code>--auth-user [username]:</code></li> </ol> <p>SMTP kimlik do\u011frulamas\u0131 i\u00e7in kullan\u0131lan kullan\u0131c\u0131 ad\u0131n\u0131 belirtir. --auth parametresi ile birlikte kullan\u0131l\u0131r.</p> <p>\u00d6rnek: <code>--auth-user username</code></p> <ol> <li><code>--auth-password [password]:</code></li> </ol> <p>SMTP kimlik do\u011frulamas\u0131 i\u00e7in kullan\u0131lan \u015fifreyi belirtir. --auth ve --auth-user ile birlikte kullan\u0131l\u0131r.</p> <p>\u00d6rnek: <code>--auth-password password</code></p> <ol> <li><code>--tls:</code></li> </ol> <p>SMTP sunucusuna TLS (SMTPS) \u00fczerinden ba\u011flanmak i\u00e7in kullan\u0131l\u0131r. SMTPS genellikle 465 numaral\u0131 portta \u00e7al\u0131\u015f\u0131r.</p> <p>\u00d6rnek: <code>--tls</code></p> <ol> <li><code>--tls-starttls:</code></li> </ol> <p>Ba\u011flant\u0131 kurulduktan sonra STARTTLS komutu kullanarak ba\u011flant\u0131y\u0131 \u015fifrelemek i\u00e7in kullan\u0131l\u0131r. STARTTLS genellikle 587 numaral\u0131 portta \u00e7al\u0131\u015f\u0131r.</p> <p>\u00d6rnek: <code>--tls-starttls</code></p> <ol> <li><code>--header [header]:</code></li> </ol> <p>E-posta ba\u015fl\u0131klar\u0131n\u0131 manuel olarak ayarlamak i\u00e7in kullan\u0131l\u0131r. Bu ba\u015fl\u0131klar e-posta mesaj\u0131na eklenir.</p> <p>\u00d6rnek: <code>--header \"Subject: Test Email\"</code></p> <ol> <li><code>--body [message]:</code></li> </ol> <p>G\u00f6nderilecek e-posta mesaj\u0131n\u0131n i\u00e7eri\u011fini belirtir.</p> <p>\u00d6rnek: <code>--body \"This is a test message\"</code></p> <ol> <li><code>--quit-after [smtp_command]:</code></li> </ol> <p>Belirtilen SMTP komutundan sonra sunucuya QUIT komutunu g\u00f6nderip ba\u011flant\u0131y\u0131 kapat\u0131r. SMTP oturumunu tamamlama zorunlulu\u011fu olmayan testler i\u00e7in kullan\u0131l\u0131r.</p> <p>\u00d6rnek: <code>--quit-after DATA</code></p> <ol> <li><code>--timeout [seconds]:</code></li> </ol> <p>Sunucuya ba\u011flant\u0131 kurarken kullan\u0131lacak zaman a\u015f\u0131m\u0131 s\u00fcresini belirtir.</p> <p>\u00d6rnek: <code>--timeout 10</code></p> <ol> <li><code>--suppress-data:</code></li> </ol> <p>E-posta i\u00e7eri\u011fiyle ilgili \u00e7\u0131kt\u0131y\u0131 bast\u0131r\u0131r. Sunucuyla ilgili geri bildirim g\u00f6rmek istiyorsan\u0131z ancak i\u00e7erik k\u0131sm\u0131n\u0131 g\u00f6rmek istemiyorsan\u0131z kullan\u0131l\u0131r.</p> <p>\u00d6rnek: <code>--suppress-data</code></p> <ol> <li><code>--add-header [header]:</code></li> </ol> <p>E-postaya ek bir ba\u015fl\u0131k (header) eklemek i\u00e7in kullan\u0131l\u0131r. \u00d6rnek: --add-header \"X-Custom-Header: CustomValue\"</p> <ol> <li><code>--dump:</code></li> </ol> <p>SMTP sunucusuna g\u00f6nderilen ve sunucudan al\u0131nan her bir komutu ve cevab\u0131 ekran\u0131n\u0131za yazd\u0131r\u0131r. Debug ama\u00e7l\u0131 kullan\u0131l\u0131r.</p> <p>\u00d6rnek: <code>--dump</code></p> <ol> <li><code>--force-getpwuid:</code></li> </ol> <p>Kendi kullan\u0131c\u0131 ad\u0131n\u0131z\u0131 otomatik olarak belirlemek i\u00e7in getpwuid() fonksiyonunu zorlar. Bu genellikle default davran\u0131\u015ft\u0131r, ancak baz\u0131 sistemlerde elle belirtilmesi gerekebilir.</p> <ol> <li><code>--verbose:</code></li> </ol> <p>Komutun daha ayr\u0131nt\u0131l\u0131 bilgi d\u00f6nd\u00fcrmesini sa\u011flar. SMTP sunucusuyla olan ileti\u015fimin daha detayl\u0131 bir \u00e7\u0131kt\u0131s\u0131n\u0131 verir.</p> <p>\u00d6rnek: <code>--verbose</code></p> <ol> <li><code>--debug:</code></li> </ol> <p>Komutun debug modunda \u00e7al\u0131\u015fmas\u0131n\u0131 sa\u011flar ve detayl\u0131 hata \u00e7\u0131kt\u0131lar\u0131 verir.</p> <p>\u00d6rnek: <code>--debug</code></p> <ol> <li><code>--attach</code></li> </ol> <p>\u00d6rnek: <code>--attach /path/to/your/file.txt</code></p>"},{"location":"linux/swaks/#testler-icin-ornek-komut","title":"Testler \u0130\u00e7in \u00d6rnek Komut:","text":"<pre><code>swaks --to mail@x.com --from relay-test@berkbal.com.tr --server mail.testsunucusu.com --port 2527 --helo mail.berkbal.com.tr\n</code></pre>"},{"location":"linux/swapfile/","title":"Swapfile Nedir?","text":"<p>Swapfile, Linux i\u015fletim sisteminde bellek yetersiz kald\u0131\u011f\u0131nda kullan\u0131lmak \u00fczere ayr\u0131lm\u0131\u015f bir dosya alan\u0131d\u0131r. Swap, bellek y\u00f6netimi a\u00e7\u0131s\u0131ndan \u00f6nemli bir rol oynar ve RAM yetersiz kald\u0131\u011f\u0131nda aktif bellekte kullan\u0131lmayan verilerin disk \u00fczerinde depolanmas\u0131n\u0131 sa\u011flar. E\u011fer swap alan\u0131 olmad\u0131\u011f\u0131 zaman makinenin ram kullan\u0131m\u0131 %100'e ula\u015f\u0131rsa bilgisayar eri\u015filmez hale gelecektir, donacakt\u0131r. Bunun \u00f6n\u00fcne ge\u00e7mek i\u00e7in swap alan\u0131 mutlaka olu\u015fturulmal\u0131d\u0131r.</p> <p>Linux'ta swap, ya ayr\u0131 bir disk b\u00f6l\u00fcm\u00fc (swap partition) olarak ya da bir dosya olarak (swapfile) olu\u015fturulabilir. Swapfile normal swap alan\u0131na g\u00f6re daha kullan\u0131\u015fl\u0131d\u0131r. Swapfile, herhangi bir dosya sistemi \u00fczerinde, bir b\u00f6l\u00fcm\u00fc yeniden yap\u0131land\u0131rmadan kolayca olu\u015fturulabilir ve kald\u0131r\u0131labilir. Swap partition kullan\u0131rken disk b\u00f6l\u00fcmlendirmesi gerekir, bu da sistemde de\u011fi\u015fiklik yapmak istedi\u011finizde yeniden b\u00f6l\u00fcmlendirme gibi zaman al\u0131c\u0131 i\u015flemler gerektirebilir.</p> <p>Swap partition ise, disk \u00fczerindeki belirlenmi\u015f bir b\u00f6l\u00fcm oldu\u011fundan biraz daha h\u0131zl\u0131 olabilir \u00e7\u00fcnk\u00fc dosya sistemi \u00fczerinden de\u011fil, do\u011frudan donan\u0131mla \u00e7al\u0131\u015f\u0131r. Ancak, modern sistemlerde swapfile performans kayb\u0131 genellikle minimum d\u00fczeydedir ve kullan\u0131m kolayl\u0131\u011f\u0131 a\u00e7\u0131s\u0131ndan swapfile tercih edilmektedir.</p>"},{"location":"linux/swapfile/#swapfile-nasl-olusturulur","title":"Swapfile Nas\u0131l Olu\u015fturulur?","text":"<ol> <li>A\u015fa\u011f\u0131daki komut ile 5GB boyutunda bir swap alan\u0131 olu\u015fturabiliriz.</li> </ol> <pre><code>fallocate -l 5G /swapfile\n</code></pre> <p>E\u011fer fallocate komutunu kullanam\u0131yorsan\u0131z, dd komutuyla da swap dosyas\u0131 olu\u015fturabilirsiniz.</p> <ol> <li>Olu\u015fturdu\u011fumuz swap dosyas\u0131n\u0131n izinlerini g\u00fcvenlik nedenleri ile ayarlamam\u0131z gerekmektedir.</li> </ol> <pre><code>chmod 600 /swapfile\n</code></pre> <ol> <li>Olu\u015fturdu\u011fumuz dosyay\u0131 swap alan\u0131 olarak bi\u00e7imlendirmemiz gerekmektedir.</li> </ol> <pre><code>mkswap /swapfile\n</code></pre> <ol> <li>Olu\u015fturdu\u011fumuz swap dosyas\u0131n\u0131 etkinle\u015ftirelim</li> </ol> <pre><code>swapon /swapfile\n</code></pre> <ol> <li>Sistemi yeniden ba\u015flatt\u0131\u011f\u0131m\u0131zda swap alan\u0131n\u0131n otomatik olarak mount edilmesi i\u00e7in /etc/fstab dosyas\u0131n\u0131 d\u00fczenlemek gerekmektedir. A\u015fa\u011f\u0131daki komut ile fstab dosyas\u0131na bu ayarlar\u0131 gireblirsiniz</li> </ol> <pre><code>echo '/swapfile none swap sw 0 0' | tee -a /etc/fstab\n</code></pre> <ol> <li>Swap Durumunu kontrol etmek i\u00e7in <code>swapon --show</code> veya <code>free -h</code> komutunu kullanabilirsiniz. Fstab dosyas\u0131n\u0131 da g\u00fcncelledi\u011fimiz i\u00e7in sistemimiz reboot oldu\u011funda swap dosyas\u0131 otomatik olarak swap alan\u0131 olarak mount edilecektir.</li> </ol>"},{"location":"linux/tcpdump/","title":"TcpDump Nedir?","text":"<p>tcpdump, a\u011f trafi\u011fini analiz etmek i\u00e7in kullan\u0131lan bir komut sat\u0131r\u0131 arac\u0131d\u0131r. Network kart\u0131 \u00fczerinden ge\u00e7en TCP/IP paketlerini yakalar ve detayl\u0131 bilgi sunar. A\u011f trafi\u011finin analiz edilmesi, sorunlar\u0131n tespiti veya g\u00fcvenlik denetimleri gibi durumlarda s\u0131kl\u0131kla kullan\u0131l\u0131r. Ayr\u0131ca, yaln\u0131zca TCP paketleri de\u011fil, UDP, ICMP gibi di\u011fer protokol paketlerini de izleyebilir.</p>"},{"location":"linux/tcpdump/#tcpdump-nasl-kullanlr","title":"TcpDump Nas\u0131l Kullan\u0131l\u0131r?","text":"<p>tcpdump komutuna verilebilecek en gerekli 3 option su sekilde:</p> <ol> <li>-i [interface-adi] hangi interface'e gelen paketlerin dinlenecegini bu sekilde secebiliriz. Eger -i ile belirtmezsek cok fazla paket gozukecegi icin aradigimiz paketleri bulamayabiliriz. Bu sekilde gormek istedigimiz paketleri bu sekilde gorebiliriz.</li> <li>-src [IP] Gelen paketin 'source' k\u0131sm\u0131nda hangi ip adresinin yazmas\u0131 gerekti\u011fini belirtebiliriz. Sadece belirli bir makineden gelen paketleri izlemek istiyorsak oldukca faydali. </li> <li>-dst [IP] Gelen paketin 'destination' kisminda hangi ip adresinin yazmasi gerektigini belirtebiliriz. Sadece belirli bir ip adresine route edilen veya giden paketleri izlemek icin kullanilabilir. NAT islemlerinde oldukca kullanisli.</li> </ol>"},{"location":"linux/tcpdump/#ornek-komut","title":"\u00d6rnek Komut","text":"<p>Asagidaki komut eno1 interface'inden gecen source ip adresi 192.168.1.170 olup destination'u 192.168.1.180 olan paketleri listeleyecektir.</p> <pre><code>tcpdump -i eno1 src 192.168.1.170 dst 192.168.1.180\n</code></pre>"},{"location":"linux/temel-linux-komutlari/","title":"Temel Linux Komutlar\u0131","text":"<p>Art\u0131k dizinler ve dosyalar hakk\u0131nda temel bir bilgiye sahibiz. Ayr\u0131ca komut sat\u0131r\u0131 arac\u0131l\u0131\u011f\u0131yla bilgisayar\u0131m\u0131z arac\u0131l\u0131\u011f\u0131yla ileti\u015fime ge\u00e7ebilir seviyeye geldik. Bu b\u00f6l\u00fcmde ise \u201cen \u00e7ok\u201d kullanaca\u011f\u0131m\u0131z komutlar\u0131n birka\u00e7\u0131ndan bahsetmek istiyorum.</p>"},{"location":"linux/temel-linux-komutlari/#ls-komutu","title":"Ls komutu","text":"<p>Bir dizin i\u00e7erisinde dosya/dizin olu\u015fturmadan \u00f6nce bilmemiz gereken \u015feylerden birisi de \u201cAceba bu dizinin i\u00e7erisinde ne var?\u201d sorusunun cevab\u0131d\u0131r diye d\u00fc\u015f\u00fcn\u00fcyorum. Grafik aray\u00fcz arac\u0131l\u0131\u011f\u0131 ile bunu \u00e7ok basit bir \u015fekilde klas\u00f6r\u00fc a\u00e7arak ger\u00e7ekle\u015ftirebiliriz. Komut sat\u0131r\u0131ndan da ls program\u0131n\u0131, veya komutunu kullanarak bir dizinin i\u00e7erisinde neler oldu\u011funu g\u00f6rebiliriz.</p> <pre><code>$ ls\nDesktop Documents Music Photos\n</code></pre> <p>ls komutu olduk\u00e7a kompakt bir \u00e7\u0131kt\u0131 verir. \u00c7o\u011fu terminal/terminal emulatoru dizinleri, alt dizinleri ve belirli dosya tiplerini renkli bir \u00e7\u0131kt\u0131 \u015feklinde bize g\u00f6sterir. Standart dosyalar herhangi bir renk ayar\u0131na sahip de\u011fildir. Ls komutunu kendi bilgisayar\u0131n\u0131z \u00fczerinde deneyerek bunu g\u00f6rebilirsiniz. Bir taraftan grafik aray\u00fcz\u00fcn\u00fcz\u00fc a\u00e7\u0131p bir di\u011fer taraftan da terminal ile ls komutunu kullanarak kar\u015f\u0131n\u0131za gelen \u00e7\u0131kt\u0131ya bakarak bunu g\u00f6zlemlemenizi tavsiye ederim. E\u011fer sizin \u00e7\u0131kt\u0131n\u0131z renkli de\u011filse ls komutuna \u2013color optionunu g\u00f6ndermeyi deneyebilirsiniz.</p> <pre><code>$ ls --color\n</code></pre>"},{"location":"linux/temel-linux-komutlari/#man-info-ve-apropos","title":"Man, info ve apropos","text":"<p>Linux komutlar\u0131 hakk\u0131ndaki bir makalede bu komutlar\u0131 size g\u00f6steriyor olmam garip olsa da linux komutlar\u0131n\u0131n(asl\u0131nda bunlar birer program) birlikte \u00e7al\u0131\u015fabilece\u011fi optionlar hakk\u0131nda bilgi almak i\u00e7in bu komutlar\u0131n manual sayfalar\u0131na bakabilirsiniz.</p> <pre><code>$ man ls\n</code></pre> <p>Burada man komutu i\u00e7erisine ls arg\u00fcman\u0131n\u0131 alarak bize ls komutunun manual sayfas\u0131n\u0131 getirecek. Ok tu\u015flar\u0131 ile gelen ekran i\u00e7erisinde gezinebilirsiniz. Q tu\u015fu ile bu ekrandan \u00e7\u0131k\u0131\u015f yapabilirsiniz. Kullan\u0131c\u0131 d\u00f6k\u00fcmantasyonunu farkl\u0131 bir \u015fekilde almak istiyorsak info komutunu kullanabiliriz.</p> <pre><code>$ info ls\n</code></pre> <p>Bu y\u00f6ntem olduk\u00e7a kompleks GNU Programlar\u0131n\u0131n nas\u0131l kullan\u0131laca\u011f\u0131n\u0131 \u00f6\u011frenmek i\u00e7in olduk\u00e7a etkilidir. Ayr\u0131ca bu d\u00f6k\u00fcmantasyonlar\u0131 emacs isimli text edit\u00f6r\u00fcnde okuyabilirsiniz. Okunabilirli\u011fi kesinlikle artt\u0131r\u0131yor.</p> <p>Az \u00f6nce size bahsetti\u011fim komutlardan sonra \u201cbunlar bu kadar da \u00f6nemli de\u011filmi\u015f\u201d dedi\u011finizi hissedebiliyorum. \u015eimdi bilgi almak konusunda hayat\u0131m\u0131z\u0131 kurtar\u0131cak olan bir komuttan bahsetmek istiyorum.</p>"},{"location":"linux/temel-linux-komutlari/#apropos-komutu","title":"Apropos komutu","text":"<p>Apropos komutu ne yapmak istedi\u011fimizi bildi\u011fimiz ama hangi komut ile yapaca\u011f\u0131m\u0131z\u0131 bilmedi\u011fimiz zaman olduk\u00e7a i\u015fimize yarar. Biraz garip bir c\u00fcmle oldu fakat bunu ba\u015fka t\u00fcrl\u00fc a\u00e7\u0131klayamazd\u0131m. \ud83d\ude42 Diyelim ki bir dosyan\u0131n ad\u0131n\u0131 de\u011fi\u015ftirmek istiyoruz fakat bunu hangi komutun yapt\u0131\u011f\u0131n\u0131 bilmiyoruz. Bu komutu \u00f6\u011frenmek i\u00e7in apropos komutunu kullanabiliriz.</p> <pre><code>$ apropos rename\n...\nmv (1) - move (rename) files\nprename (1) - renames multiple files\nrename (2) - change the name or location of a file\n\u2026\n</code></pre> <p>Komutumuzu bu \u015fekilde kulland\u0131\u011f\u0131m\u0131z zaman apropos bizim i\u00e7in b\u00fct\u00fcn manual sayfalar\u0131n\u0131 taray\u0131p i\u00e7erisinde \u201crename\u201d yani isim de\u011fi\u015ftirme ile alakal\u0131 olan k\u0131s\u0131mlar\u0131 bizim \u00f6n\u00fcm\u00fcze getiriyor. Ayr\u0131ca evet, Google\u2019da aramaktan daha h\u0131zl\u0131 bir \u00e7\u00f6z\u00fcm oldu\u011fu do\u011fru. \ud83d\ude42</p> <p>Burada dikkatinizi \u00e7ekmek istedi\u011fim bir konu var. Apropos komutundan kar\u015f\u0131m\u0131za gelen \u00e7\u0131kt\u0131ya dikkatli bakt\u0131\u011f\u0131m\u0131zda baz\u0131 komutlar\u0131n yan\u0131nda baz\u0131 numaralar\u0131n oldu\u011funu farkedebiliriz. Bu numara kar\u015f\u0131m\u0131za gelen komutlar\u0131n hangi section\u2019da oldu\u011funu belirtir. yinelde section\u2019u \u201c1\u201d olan programlar komut sat\u0131r\u0131nda kullan\u0131labilir. Biz sadece komut sat\u0131r\u0131nda kullanabilece\u011fimiz programlar\u0131 listelemek istiyorsak apropos\u2019a bir option g\u00f6ndererek sadece section\u2019u 1 olan programlar\u0131 bize g\u00f6stermesini sa\u011flayabiliriz.</p> <pre><code>$ apropos -s 1 rename\n...\nmv (1) - move (rename) files\nprename (1) - renames multiple files\n...\n</code></pre> <p>Section numaras\u0131 kesinlikle \u00c7OK \u00d6NEML\u0130?! De\u011fil fakat section 1\u2019deki manual sayfalar\u0131 genellikle komut sat\u0131r\u0131nda kullanabilece\u011fimiz programlar/komutlar.</p>"},{"location":"linux/temel-linux-komutlari/#mv-komutu","title":"mv komutu","text":"<p>Apropos \u00e7\u0131kt\u0131m\u0131zdan \u00f6\u011frendi\u011fimiz \u00fczere mv komutu ile dosyalar\u0131m\u0131z\u0131n isimlerini bu komut ile de\u011fi\u015ftirebiliriz. Fakat bu komut asl\u0131nda \u201cmove\u201d anlam\u0131nda. Yani dosyalar\u0131m\u0131z\u0131 bir dizinden farkl\u0131 bir dizine ta\u015f\u0131maya yar\u0131yor. Fakat mv komutunu a\u015fa\u011f\u0131daki \u015fekilde kullanarak dosyalar\u0131m\u0131z\u0131 tekrar isimlendirebiliriz.</p> <pre><code>$ mv eski_isim yeni_isim\n</code></pre> <p>Sistem ayarlar\u0131n\u0131za ba\u011fl\u0131 olarak dosyan\u0131z\u0131 tekrar isimlendirirken herhangi bir uyar\u0131 ile kar\u015f\u0131la\u015fmazs\u0131n\u0131z. Yani e\u011fer bulundu\u011funuz dizinde dosyan\u0131za verece\u011finiz yeni isime sahip ba\u015fka bir dosya varsa bu bir problem olabilir. Bunun i\u00e7in mv komutuna -i option\u2019unu g\u00f6ndererek kullanmakta kesinlikle fayda var.</p> <pre><code>$ mv -i eski_isim yeni_isim\n</code></pre> <p>Ayr\u0131ca az \u00f6nce yukar\u0131da da bahsetti\u011fim gibi mv komutunun ger\u00e7ek i\u015flevi dosyalar\u0131m\u0131z\u0131 bir dizinden al\u0131p ba\u015fka bir dizine ta\u015f\u0131mak. E\u011fer mv komutunun son arg\u00fcman\u0131 bulunulan dizinden farkl\u0131 bir dizini g\u00f6steriyorsa komutumuz ta\u015f\u0131ma i\u015flemi ger\u00e7ekle\u015ftirecektir.</p> <pre><code>$ mv herhangi_bir_dosya bir_tane_daha_dosya ucuncu_farkli_bir_dosya ~/belgelerim\n</code></pre> <p>E\u011fer belgelerim ad\u0131nda bir dizinimiz varsa mv komutu dosyalar\u0131m\u0131z\u0131 bu dizine ta\u015f\u0131yacakt\u0131r. E\u011fer b\u00f6yle bir dizin yoksa a\u015fa\u011f\u0131daki \u015fekilde bir hata mesaj\u0131 alabiliriz.</p> <pre><code>$ mv herhangi_bir_dosya bir_tane_daha_dosya ucuncu_farkli_bir_dosya ~/belgelerim\nmv: target \u2018belgelerim\u2019 is not a directory\n</code></pre>"},{"location":"linux/temel-linux-komutlari/#mkdir-komutu","title":"mkdir Komutu","text":"<p>Eee, dizin/klas\u00f6r nas\u0131l olu\u015fturuyoruz? Mkdir komutu ile!</p> <pre><code>$ mkdir ~/belgelerim\n</code></pre> <p>Var olan bir dizini nas\u0131l siliyoruz? Rmdir komutu ile. \ud83d\ude42</p> <pre><code>$ rmdir ~/belgelerim\n</code></pre> <p>E\u011fer bir dizinin i\u00e7erisinde alt bir dizin olu\u015fturmak istiyorsak (diyelim ki bu halihaz\u0131rda var olan dizinin ad\u0131 foo) mkdir komutunu a\u015fa\u011f\u0131daki gibi kullanabiliriz.</p> <pre><code>$ mkdir -p ~/foo/bar\n</code></pre> <p>E\u011fer rmdir komutu ile silmek istedi\u011fimiz dizin i\u00e7erisinde dosyalar bar\u0131nd\u0131r\u0131yorsa rmdir komutu bize hata vericektir. \u0130\u00e7erisinde dosya olan bir klas\u00f6r\u00fc nas\u0131l silebiliriz? Rmdir komutuna -R optionunu g\u00f6ndererek. Hadi bunu test edelim! Ilk \u00f6nce alistirma ad\u0131nda bir dizin olu\u015fturup bu dizinin i\u00e7erisine girelim.</p> <pre><code>$ mkdir ~/alistirma\n$ cd ~/alistirma\n</code></pre>"},{"location":"linux/temel-linux-komutlari/#cp-rm-ve-rmdir-komutlar","title":"cp, rm ve rmdir komutlar\u0131","text":"<p>Cp komutumuzu kullanarak olu\u015fturdu\u011fumuz dizinlerin i\u00e7erisine dosya kopyalayabiliriz! Bilgisayar\u0131m\u0131zda hali haz\u0131rda bulunan baz\u0131 dosyalar\u0131 kullanarak bu testi ger\u00e7ekle\u015ftirebiliriz. Cd komutu ile alistirma isimli dizinimize az \u00f6nce girdik.</p> <pre><code>$ cp /etc/fstab /etc/hosts /etc/issue /etc/motd .\n$ ls\nfstab hosts issue motd\n</code></pre> <p>Dizinler ile alakal\u0131 yazd\u0131\u011f\u0131m bir \u00f6nceki makalede sizlere . ve .. i\u015faretlerinden bahsetmi\u015ftim. . \u015faretini komutunuzun sonuna koymay\u0131 unutmay\u0131n! E\u011fer hat\u0131rlarsan\u0131z . i\u015faretinin komut sat\u0131r\u0131nda \u201cbu dizin\u201d anlam\u0131na geldi\u011fini s\u00f6ylemi\u015ftim. Bu i\u015fareti cp komutuna bir arg\u00fcman olarak g\u00f6nderdikten sonra belirtti\u011fimiz dizinleri bulundu\u011fumuz dizine kopyalayabiliriz. Veya i\u00e7erisinde bulundu\u011fumuz dizinin i\u00e7erisindei b\u00fct\u00fcn dizinleri/ve dosyalar\u0131 farkl\u0131 bir yere kopyalayabiliriz.</p> <pre><code>$ cp -R . ~/hedef_dizin\n</code></pre> <p>Hadi \u015fimdi olu\u015fturdu\u011fumuz alistirma isimli dizini ve i\u00e7erdi\u011fi alt dizinleri silelim.</p> <pre><code>$ cd ~\n$ rmdir alistirma\nrmdir: failed to remove \u2018alistirma\u2019: Directory not empty\n</code></pre> <p>G\u00f6rd\u00fc\u011f\u00fcn\u00fcz \u00fczere rmdir komutu ile i\u00e7erisinde dosya bulunan dizinleri direkt silemiyoruz. Fakat rm komutuna -R optionunu g\u00f6nderek bunu yapmam\u0131z m\u00fcmk\u00fcn.</p> <pre><code>$ rmdir -R alistirma\n</code></pre>"},{"location":"linux/temel-linux-komutlari/#cat-ve-less-komutu","title":"Cat ve Less Komutu","text":"<p>Bir dosyan\u0131n i\u00e7eri\u011fini g\u00f6r\u00fcnt\u00fclemek i\u00e7in her zaman text edit\u00f6r\u00fcne ihtiya\u00e7 duymay\u0131z. E\u011fer amac\u0131m\u0131m\u0131z sadece dosyan\u0131n i\u00e7eri\u011fini g\u00f6r\u00fcnt\u00fclemek ise cat komutunu kullanabiliriz.</p> <pre><code>$ cat herhangi_bir_metin_dosyasi.txt\nEeeeeeeeey! Terminal kullanmay\u0131 en iyi biz biliriz!\n</code></pre> <p>E\u011fer i\u00e7eri\u011fini g\u00f6r\u00fcnt\u00fclemek istedi\u011fimiz dosya \u00e7ok uzunsa less komutunu kullanmam\u0131z daha mant\u0131kl\u0131 olabilir. Less komutu ile metin dosyam\u0131z\u0131 g\u00f6r\u00fcnt\u00fcleme ekran\u0131nda ok tu\u015flar\u0131yla gezinip q tu\u015fu ile bu ekrandan \u00e7\u0131kabiliriz.</p> <pre><code>$ less herhangi_bir_metin_dosyasi.txt\n</code></pre> <p>An itibariyle dosya silme, dosya kopyalama, dizin/klas\u00f6r olu\u015fturma, dosya ismi de\u011fi\u015ftirme, dosya silme, komutlar\u0131n manual sayfalar\u0131na eri\u015fme ve bulunulan dizini g\u00f6r\u00fcnt\u00fcleyebiliyoruz! Hen\u00fcz bu komutlar\u0131 ezberlemedi\u011finizi d\u00fc\u015f\u00fcnerek a\u015fa\u011f\u0131ya k\u00fc\u00e7\u00fck bir liste \u00e7\u0131kart\u0131yorum, bu listeden faydalanabilirsiniz!</p> <p>Bu derste \u00f6\u011frendi\u011fimiz komutlar: ls komutu : dizin i\u00e7eri\u011fi g\u00f6r\u00fcnt\u00fclemeye yarar. man komutu : komutar\u0131n/programlar\u0131n manual sayfalar\u0131na eri\u015fmemize yarar. info komutu : komutlar/programlar hakk\u0131nda bilgi almam\u0131za yarar. apropos komutu : manual sayfalar\u0131 i\u00e7erisinde i\u00e7erisine g\u00f6nderdi\u011fimiz arg\u00fcman\u0131 arar. cp komutu : dosya kopyalamaya yarar. mv komutu : dosyalar\u0131/dizinleri ta\u015f\u0131maya ve yeniden adland\u0131rmaya(isim de\u011fi\u015ftirme) yarar. rmdir komutu : dizinleri silmemize yarar. mkdir komutu : dizin olu\u015fturmam\u0131za yarar. cat komutu : dosyalar\u0131n text i\u00e7eri\u011fini g\u00f6r\u00fcnt\u00fclememize yarar. less komutu : uzun text dosyalar\u0131n\u0131 g\u00f6r\u00fcnt\u00fclememizde daha kullan\u0131\u015fl\u0131d\u0131r.</p>"},{"location":"linux/terminal-komutlarinin-kullanimi-%28syntax%29/","title":"Terminal Komutlar\u0131n\u0131n Kullan\u0131m\u0131(Syntax)","text":"<p>Genellikle terminale yazd\u0131\u011f\u0131n\u0131z ilk kelime \u00e7al\u0131\u015ft\u0131rmak istedi\u011fimiz komuttur. Ba\u015flamadan \u00d6nce isimli yaz\u0131mda sizlere date komutundan bahsetmi\u015ftim. Bu komut bize komutun \u00e7al\u0131\u015ft\u0131r\u0131ld\u0131\u011f\u0131 zaman\u0131n tarihini ve zaman\u0131n\u0131 g\u00f6steriyordu.</p>"},{"location":"linux/terminal-komutlarinin-kullanimi-%28syntax%29/#arguments-argumanlar","title":"Arguments \u2013 Arg\u00fcmanlar","text":"<p>Kullanabilece\u011fimiz di\u011fer bir komut ise belirtilen bilgileri kullan\u0131c\u0131ya geri g\u00f6steren echo komutu. Echo komutunu tek ba\u015f\u0131na \u00e7al\u0131\u015ft\u0131rd\u0131\u011f\u0131m\u0131zda herhangi bir \u015fey olmayacakt\u0131r \u00e7\u00fcnk\u00fc echo komutu bir arg\u00fcman ile birlikte \u00e7al\u0131\u015fan bir komuttur. Echo komutu, kendisine verdi\u011fimiz arg\u00fcman\u0131(bilgiyi) bize geri d\u00f6nd\u00fcr\u00fcr.</p> <pre><code>$ **echo foo** \nfoo\n</code></pre> <p>Yukar\u0131daki \u00f6rnekte g\u00f6rd\u00fc\u011f\u00fcm\u00fcz \u00fczere arg\u00fcman\u0131m\u0131z foo oldu\u011fu i\u00e7in bilgisayar\u0131m\u0131z bize foo diyerek cevap verdi.</p> <p>Echo komutuna istedi\u011fimiz kadar arg\u00fcman g\u00f6nderebiliriz. Echo komutundan sonra ne yazarsak yazal\u0131m bilgisayar\u0131m\u0131z bunlar\u0131 arg\u00fcman olarak alg\u0131layacakt\u0131r. E\u011fer birden fazla kelime yazd\u0131rmak istiyorsak echo komutunu bu \u015fekilde kullanabiliriz.</p> <pre><code>$echo foo bar\nfoo bar\n</code></pre> <p>Arg\u00fcmanlar genelde aralar\u0131nda bo\u015fluklar b\u0131rak\u0131larak birbirlerinden ayr\u0131l\u0131r. Ekstra bo\u015fluklar g\u00f6rmezden gelinir ve iki arg\u00fcman bir adet bo\u015fluk i\u00e7ererek bize yans\u0131t\u0131l\u0131r. Fakat Terminale(Komut Sat\u0131r\u0131) bu bo\u015fluklar\u0131n da bir arg\u00fcman oldu\u011funu s\u00f6ylemek istersek \u201c i\u015fareti ile bunu belirtmemiz gerekir.</p> <pre><code>$echo\"foo\" \"bar\"\nfoo bar\n</code></pre> <p>Options \u2013 Se\u00e7enekler</p> <p>Daha \u00f6nceden g\u00f6rd\u00fc\u011f\u00fcm\u00fcz date komutunu hat\u0131rl\u0131yor musunuz? Bu komut varsay\u0131lan haliyle bize komutun kullan\u0131ld\u0131\u011f\u0131 tarihi ve saati s\u00f6yl\u00fcyor fakat ya biz UTC format\u0131nda bir bilgi istiyorsak? Bunun i\u00e7in date komutunu \u2013utc option\u0131 ile birlikte kullanabiliriz. Komutu bu \u015fekilde kulland\u0131\u011f\u0131m\u0131z zaman bilgisayar bizim UTC format\u0131ndaki zaman\u0131 istedi\u011fimizi bilerek bize buna uygun bir sonu\u00e7 g\u00f6nderiyor.</p> <pre><code>$ date --utc\nTue 12 Oct 2021 12:38:44 PM UTC\n</code></pre> <p>Genelde komut se\u00e7eneklerini k\u0131saltarak kullan\u0131r\u0131z. Bir se\u00e7ene\u011fin(option) k\u0131sa versiyonu tek \u00e7izgi ile yaz\u0131lan versiyonudur. Date komutunu date -u \u015feklinde kulland\u0131\u011f\u0131m\u0131zda da ayn\u0131 \u015fekilde sonu\u00e7 ald\u0131\u011f\u0131m\u0131z\u0131 g\u00f6rebiliriz. Kendi terminalinizde bunu deneyebilirsiniz.</p> <p>Diyelim ki date komutundan bug\u00fcn\u00fcn verileri yerine bir \u00f6nceki g\u00fcn\u00fcn verilerini istiyoruz. Bunu nas\u0131l yapabiliriz? Bunun i\u00e7in date komutuna \u2013date, k\u0131sa haliyle -d se\u00e7ene\u011fini g\u00f6nderebiliriz. Bu se\u00e7ene\u011fe de bir arg\u00fcman g\u00f6ndererek bilgilerini istedi\u011fimiz tarihi belirtebiliriz. Kafa kar\u0131\u015f\u0131kl\u0131\u011f\u0131n\u0131 \u00f6nlemek i\u00e7in olu\u015fturdu\u011fumuz komutu par\u00e7alara b\u00f6lerek g\u00f6stereyim:</p> <ol> <li>date  </li> <li>date \u2013date  </li> <li>date \u2013date yesterday -u</li> </ol> <p>Birinci ad\u0131mda \u00e7al\u0131\u015ft\u0131rmak istedi\u011fimiz komutu girdik. \u0130kinci ad\u0131mda \u00e7al\u0131\u015ft\u0131rmak istedi\u011fimiz komuta bir se\u00e7enek g\u00f6nderdik. \u00dc\u00e7\u00fcnc\u00fc ad\u0131mda ise komuta g\u00f6nderdi\u011fimiz se\u00e7ene\u011fe(option) bir adet arg\u00fcman g\u00f6nderdik.(yesterday) -u ise yukar\u0131da da belirtti\u011fim \u00fczere \u2013utc se\u00e7ene\u011finin k\u0131salt\u0131lm\u0131\u015f hali.</p> <pre><code>$ date --date yesterday -u\nMon 11 Oct 2021 12:50:40 PM UTC\n</code></pre> <p>Yukar\u0131daki \u00f6rnekte de g\u00f6rd\u00fc\u011f\u00fcn\u00fcz \u00fczere baz\u0131 optionlar \u00e7al\u0131\u015fmak i\u00e7in arg\u00fcmanlara ihtiya\u00e7 duyarlar.</p> <p>Daha \u00f6nce \u00e7al\u0131\u015ft\u0131rd\u0131\u011f\u0131n\u0131z bir komutu tekrar h\u0131zl\u0131ca almak i\u00e7in Yukar\u0131 Ok tu\u015funu kullanabilirsiniz. Daha \u00f6nceki ve sonraki komutlar\u0131 almak i\u00e7in de ok tu\u015flar\u0131n\u0131 kullanarak yukar\u0131 ve a\u015fa\u011f\u0131 hareket edebilirsiniz.</p> <p>Ayr\u0131ca Sol ok ve Sa\u011f ok tu\u015flar\u0131, tek bir komut i\u00e7inde hareket etmenizi sa\u011flar. Geri tu\u015fu(backspace) ile birlikte bu tu\u015flar komutumuzun b\u00f6l\u00fcmlerini de\u011fi\u015ftirmenize ve onu iste\u011fimize g\u00f6re yeni bir komuta d\u00f6n\u00fc\u015ft\u00fcrmemize olanak tan\u0131r. Enter tu\u015funa her bast\u0131\u011f\u0131n\u0131zda, de\u011fi\u015ftirilen komutu terminale g\u00f6nderirsiniz ve tam olarak s\u0131f\u0131rdan yazm\u0131\u015fs\u0131n\u0131z gibi \u00e7al\u0131\u015f\u0131r.</p>"},{"location":"linux/tmux/","title":"Tmux Nedir?","text":"<p>Tmux, Screen'in modern bir alternatifidir. Birden fazla terminal oturumunu ayn\u0131 anda y\u00f6netmenizi sa\u011flar. .tmux.conf dosyas\u0131 ile \u00f6zelle\u015ftirilenbilir. Daha moderndir. Adamd\u0131r.</p>"},{"location":"linux/tmux/#nasil-kurulur","title":"Nasil Kurulur?","text":"<pre><code>apt-get install tmux\n</code></pre>"},{"location":"linux/tmux/#tmux-ksayollar","title":"Tmux K\u0131sayollar\u0131","text":"<ol> <li>Ctrl+b c ile yeni bir pencere a\u00e7ar.</li> <li>Ctrl+b , ile bulunan pencereye isim verir(kullan\u0131c\u0131dan isim i\u00e7in input al\u0131r)</li> <li>Ctrl+b ID ile olu\u015fturulan pencereler aras\u0131nda ge\u00e7i\u015f yap\u0131l\u0131r. Pencerelerin isimleri ve idleri terminalin alt\u0131nda yazar.</li> </ol>"},{"location":"linux/tmux/#ekran-bolme","title":"Ekran B\u00f6lme","text":"<ol> <li>Ctrl + b ve \" ile ekran\u0131 yatay olarak b\u00f6ler.</li> <li>Ctrl + b ve % ile ekran\u0131 dikey olarak b\u00f6ler.</li> </ol>"},{"location":"linux/tmux/#bolmeler-arasnda-gezinme","title":"B\u00f6lmeler Aras\u0131nda Gezinme","text":"<ul> <li>Ctrl + b ve ok tu\u015flar\u0131 ile b\u00f6lmeler de\u011fi\u015ftirilebilir.</li> </ul>"},{"location":"linux/tmux/#onerilen-tmux-ayarlar","title":"\u00d6nerilen Tmux Ayarlar\u0131","text":"<ol> <li><code>set -g mouse on</code> Tmux \u00fczerinde fare kullan\u0131m\u0131n\u0131 m\u00fcmk\u00fcn k\u0131lar.</li> </ol>"},{"location":"linux/truncate/","title":"Truncate nedir?","text":"<p>Linux'ta 'truncate' komutu, bir dosyan\u0131n boyutunu de\u011fi\u015ftirmek i\u00e7in kullan\u0131l\u0131r. En \u00f6nemli \u00f6zelli\u011fi, dosyay\u0131 silmeden i\u00e7eri\u011fini bo\u015faltabilmesidir. Yani dosya yerinde kal\u0131r ama i\u00e7i bo\u015fal\u0131r.</p> <p>Bu \u00f6zellikle log dosyalar\u0131 veya \u00e7al\u0131\u015fan uygulamalar\u0131n kulland\u0131\u011f\u0131 dosyalarla u\u011fra\u015f\u0131rken hayat kurtar\u0131c\u0131 olabilir. Dosyay\u0131 silsem, uygulama hata verebilir. Ama bo\u015falt\u0131rsam, hem yer a\u00e7ar\u0131m hem de yap\u0131 bozulmaz.</p>"},{"location":"linux/truncate/#temel-kullanm","title":"Temel kullan\u0131m\u0131","text":"<p>Temel kullan\u0131m\u0131 olduk\u00e7a basit:</p> <pre><code>truncate -s BOYUT DOSYA_ADI\n</code></pre> <p>Burada <code>-s</code> parametresi \"size\" yani boyut anlam\u0131na gelir. Boyut i\u00e7in \u00e7e\u015fitli birimler kullan\u0131labilir.</p>"},{"location":"linux/truncate/#pratik-ornekler","title":"Pratik \u00f6rnekler","text":"<p>En yayg\u0131n kullan\u0131m, bir dosyay\u0131 tamamen bo\u015faltmakt\u0131r:</p> <pre><code>truncate -s 0 buyuk_log_dosyasi.log\n</code></pre> <p>Bu komut, dosyan\u0131n i\u00e7eri\u011fini s\u0131f\u0131rlar ama dosya hala vard\u0131r. Uygulama \u00e7al\u0131\u015fmaya devam eder ve yeni loglar bu dosyaya yaz\u0131l\u0131r.</p> <p>Belirli bir boyuta da ayarlayabilirsiniz:</p> <pre><code>truncate -s 1M veritabani.dat\n</code></pre> <p>Bu, dosyay\u0131 1 megabayta keser.</p> <p>Mevcut boyuta g\u00f6re ayarlama da yapabilirsiniz:</p> <pre><code>truncate -s +500K dosya.txt    # 500 KB ekle\ntruncate -s -2M dosya.txt      # 2 MB \u00e7\u0131kar\n</code></pre>"},{"location":"linux/truncate/#ne-zaman-kullanmal","title":"Ne zaman kullanmal\u0131?","text":"<p>\u015eu durumlarda truncate kullanmak mant\u0131kl\u0131d\u0131r:</p> <ul> <li>Log dosyalar\u0131 birikti\u011finde</li> <li>Docker konteynerlerinde silme yetkisi olmad\u0131\u011f\u0131nda</li> <li>\u00c7al\u0131\u015fan bir sistemi bozmadan yer a\u00e7mak gerekti\u011finde</li> <li>Dosya yap\u0131s\u0131n\u0131 korumak ama i\u00e7eri\u011fi temizlemek istedi\u011finizde</li> </ul> <p>Ge\u00e7en haftaki sorunumda, konteyner i\u00e7indeki 8GB'l\u0131k log dosyas\u0131n\u0131 <code>truncate -s 0</code> ile an\u0131nda temizledim ve sistem \u00e7al\u0131\u015fmaya devam etti.</p> <p>Bu basit ama g\u00fc\u00e7l\u00fc komut, sistem y\u00f6neticisinin alet \u00e7antas\u0131nda bulunmas\u0131 gereken ara\u00e7lardan biridir.</p>"},{"location":"linux/websocket/","title":"WebSocket Nedir?","text":"<p>WebSocket, istemci (genellikle bir web taray\u0131c\u0131s\u0131) ile sunucu aras\u0131nda iki y\u00f6nl\u00fc (full-duplex) ve s\u00fcrekli a\u00e7\u0131k bir ba\u011flant\u0131 sa\u011flayan bir protokold\u00fcr. HTTP\u2019ye alternatif olarak de\u011fil, tamamlay\u0131c\u0131 bir teknoloji olarak geli\u015ftirilmi\u015ftir ve ger\u00e7ek zamanl\u0131 ileti\u015fim gerektiren uygulamalarda kullan\u0131l\u0131r.</p>"},{"location":"linux/websocket/#websocketin-calsma-mantg","title":"WebSocket'in \u00c7al\u0131\u015fma Mant\u0131\u011f\u0131","text":""},{"location":"linux/websocket/#1-ilk-baglant-handshake","title":"1. \u0130lk Ba\u011flant\u0131 (Handshake)","text":"<ul> <li>WebSocket ba\u011flant\u0131s\u0131, HTTP \u00fczerinden ba\u015flat\u0131l\u0131r.</li> <li>\u0130stemci (taray\u0131c\u0131) sunucuya WebSocket ba\u011flant\u0131s\u0131 a\u00e7mak istedi\u011fini belirten \u00f6zel bir HTTP iste\u011fi (Upgrade Request) g\u00f6nderir.</li> <li>Sunucu bunu kabul ederse, \"101 Switching Protocols\" yan\u0131t\u0131n\u0131 d\u00f6nd\u00fcrerek WebSocket ba\u011flant\u0131s\u0131n\u0131 ba\u015flat\u0131r.</li> </ul>"},{"location":"linux/websocket/#2-surekli-ack-ve-iki-yonlu-baglant","title":"2. S\u00fcrekli A\u00e7\u0131k ve \u0130ki Y\u00f6nl\u00fc Ba\u011flant\u0131","text":"<ul> <li>HTTP\u2019den farkl\u0131 olarak WebSocket ba\u011flant\u0131s\u0131 s\u00fcrekli a\u00e7\u0131k kal\u0131r.</li> <li>\u0130stemci ve sunucu birbirine do\u011frudan veri g\u00f6nderebilir (ger\u00e7ek zamanl\u0131 veri ak\u0131\u015f\u0131).</li> <li>Her yeni veri i\u00e7in tekrar HTTP iste\u011fi g\u00f6ndermeye gerek kalmaz.</li> </ul>"},{"location":"linux/websocket/#3-baglanty-kapatma","title":"3. Ba\u011flant\u0131y\u0131 Kapatma","text":"<ul> <li>Taray\u0131c\u0131 veya sunucu ba\u011flant\u0131y\u0131 kapatabilir.</li> <li>Kapatma i\u015flemi normal bir kapan\u0131\u015f (close frame) veya hata nedeniyle olabilir.</li> </ul>"},{"location":"linux/wopi/","title":"Wopi","text":""},{"location":"linux/wopi/#wopi-web-application-open-platform-interface-nedir","title":"WOPI (Web Application Open Platform Interface) Nedir?","text":"<p>WOPI, Microsoft taraf\u0131ndan geli\u015ftirilmi\u015f, bir dosya bar\u0131nd\u0131rma hizmeti (\u00f6rne\u011fin: Nextcloud) ile bir web tabanl\u0131 belge d\u00fczenleyici (\u00f6rne\u011fin: Collabora Online veya OnlyOffice) aras\u0131nda g\u00fcvenli ileti\u015fimi sa\u011flayan bir RESTful API protokol\u00fcd\u00fcr.</p>"},{"location":"linux/wopi/#temel-amac","title":"Temel Ama\u00e7:","text":"<ul> <li>Kullan\u0131c\u0131lar\u0131n web tabanl\u0131 aray\u00fczler \u00fczerinden dosya g\u00f6r\u00fcnt\u00fcleme ve d\u00fczenleme i\u015flemlerini g\u00fcvenli bir \u015fekilde yapabilmesini sa\u011flamak.</li> <li>Belge sunucusu (Nextcloud) ile d\u00fczenleme motoru (Collabora) aras\u0131ndaki belge eri\u015fimini ve i\u015flemlerini standardize etmek.</li> </ul>"},{"location":"linux/wopi/#wopi-bilesenleri","title":"WOPI Bile\u015fenleri","text":""},{"location":"linux/wopi/#1-wopi-host","title":"1. WOPI Host","text":"<ul> <li>\u00d6rn: Nextcloud</li> <li>Belgeleri fiziksel olarak bar\u0131nd\u0131ran ve WOPI API'yi sunan sunucu.</li> <li>Sorumluluklar\u0131:</li> <li>Token do\u011frulama</li> <li>Dosya i\u00e7eri\u011fi sa\u011flama (<code>/wopi/files/&lt;id&gt;/contents</code>)</li> <li>Metadata sa\u011flama (<code>/wopi/files/&lt;id&gt;</code>)</li> <li>Kaydetme i\u015flemleri</li> </ul>"},{"location":"linux/wopi/#2-wopi-client","title":"\ud83e\udde0 2. WOPI Client","text":"<ul> <li>\u00d6rn: Collabora Online</li> <li>Kullan\u0131c\u0131ya belge d\u00fczenleme aray\u00fcz\u00fcn\u00fc sunan uygulama.</li> <li>Taray\u0131c\u0131 \u00fczerinden iframe ile \u00e7al\u0131\u015f\u0131r.</li> <li>WOPI host'tan belgeyi al\u0131r, i\u015fler, render eder, kullan\u0131c\u0131 etkile\u015fimini y\u00f6netir.</li> </ul>"},{"location":"linux/wopi/#tipik-iletisim-sureci-wopi-ile","title":"\ud83d\udd04 Tipik \u0130leti\u015fim S\u00fcreci (WOPI ile)","text":"<ol> <li>Nextcloud, istemciden bir belge d\u00fczenleme iste\u011fi al\u0131r.</li> <li>Nextcloud, bir WOPI Access Token \u00fcretir ve Collabora Online i\u00e7in uygun bir iframe URL'si olu\u015fturur.</li> <li>Taray\u0131c\u0131, bu iframe \u00fczerinden do\u011frudan Collabora sunucusuna ba\u011flan\u0131r.</li> <li>Collabora, belge i\u00e7eri\u011fini almak i\u00e7in Nextcloud\u2019un WOPI API'sine istek g\u00f6nderir:</li> <li><code>GET /wopi/files/&lt;file_id&gt;</code></li> <li><code>GET /wopi/files/&lt;file_id&gt;/contents</code></li> <li>Kullan\u0131c\u0131 belgeyi d\u00fczenledik\u00e7e, Collabora:</li> <li><code>POST /wopi/files/&lt;file_id&gt;/contents</code> ile belgeyi kaydeder.</li> </ol>"},{"location":"linux/wopi/#guvenlik-unsurlar","title":"\ud83d\udee1\ufe0f G\u00fcvenlik Unsurlar\u0131","text":"<ul> <li>WOPI eri\u015fimi sadece ge\u00e7ici, zaman k\u0131s\u0131tlamal\u0131 access token'larla m\u00fcmk\u00fcnd\u00fcr.</li> <li>Collabora sadece belirtilmi\u015f domainlerden gelen iframe isteklerine izin verir (\u00f6rne\u011fin: <code>domain=nextcloud\\\\.example\\\\.com</code>).</li> <li>\u0130stemciler Collabora\u2019ya do\u011frudan HTTPS ba\u011flant\u0131s\u0131 kurar, Collabora da sadece valid WOPI token ile belgeleri i\u015fleme al\u0131r.</li> </ul>"},{"location":"linux/wopi/#kritik-nokta-senin-sorunun-cevab","title":"\u26a0\ufe0f Kritik Nokta (Senin Sorunun Cevab\u0131):","text":"<p>WOPI mimarisinde taray\u0131c\u0131 (istemci), Collabora sunucusuna do\u011frudan ba\u011flanmak zorundad\u0131r. Bu, protokol\u00fcn tasar\u0131m\u0131 gere\u011fidir \u00e7\u00fcnk\u00fc iframe i\u00e7inde Collabora UI do\u011frudan \u00e7al\u0131\u015f\u0131r ve istemci taray\u0131c\u0131s\u0131 belge d\u00fczenleme motoru ile etkile\u015fime girer.</p>"},{"location":"linux/wopi/#yani","title":"\u2192 Yani:","text":"<p>\u201cT\u00fcm trafik Nextcloud \u00fczerinden ge\u00e7sin, istemciler Collabora sunucusuna do\u011frudan ba\u011flanmas\u0131n.\u201d gibi bir yap\u0131, WOPI standard\u0131 ile uyumlu de\u011fildir.</p>"},{"location":"linux/wopi/#resmi-kaynaklar","title":"\ud83d\udcda Resmi Kaynaklar","text":"<ul> <li>Microsoft WOPI Specification (v12.2)</li> <li>Collabora WOPI Overview (GitHub)</li> <li>Nextcloud Collabora Integration Docs</li> </ul> <p>\u0130stersen bu bilgileri, patronuna sunmak \u00fczere PDF veya e-posta format\u0131nda teknik bir \u00f6zet olarak haz\u0131rlayabilirim.</p>"},{"location":"linux/yonlendirme%28operatorler%29/","title":"Y\u00f6nlendirme ve Operat\u00f6rler","text":"<p>Linux komutlar\u0131n\u0131 kullan\u0131rken ve shell scriptleri yazarken en \u00e7ok kullan\u0131lan etmenlerden birisi y\u00f6nlendirmelerdir.(Redirection) Ayr\u0131ca y\u00f6nlendirmeler linux terminalinin en g\u00fc\u00e7l\u00fc ama en \u00e7ok yanl\u0131\u015f anla\u015f\u0131lan konseptlerinden birisidir. Bu y\u00fczden bu konuyu en temele inerek anlatmak istiyorum.</p> <p>&gt; operat\u00f6r\u00fc (genellikle baz\u0131 sembolleri operat\u00f6r olarak adland\u0131r\u0131r\u0131z. &gt;,&lt;,-,+) komutlardan ald\u0131\u011f\u0131m\u0131z \u00e7\u0131kt\u0131y\u0131(output) y\u00f6nlendirmeye yarar. Bunu \u00e7ok basit bir \u015fekilde \u00f6rneklendirecek olursak;</p> <p>Daha \u00f6nceden \u00f6\u011frendi\u011fimiz temel linux komutlar\u0131ndan birisi olan ls, bulunulan dizindeki dosyalar\u0131 listelemeye yarar. Bunu biliyoruz. Komutu \u00e7al\u0131\u015ft\u0131rd\u0131\u011f\u0131m\u0131zda ekrana gelen yaz\u0131lar\u0131n hepsi birer \u00e7\u0131kt\u0131d\u0131r.(output)</p> <p>Y\u00f6nlendirmeler de tam olarak burada devreye giriyor. Baz\u0131 durumlarda ls komutunun \u00e7\u0131kt\u0131s\u0131n\u0131 ekrana yazd\u0131rmak yerine bir dosya i\u00e7erisinde saklamak isteyebiliriz. Bunu da operat\u00f6rler sayesinde ger\u00e7ekle\u015ftiriyoruz. A\u015fa\u011f\u0131daki \u00f6rne\u011fe bakal\u0131m;</p> <pre><code>$ ls &gt; dosyalarin_listesi\n</code></pre> <p>Dosyalarin_listesi isimli dosyam\u0131zda art\u0131k ls komutunun \u00e7\u0131kt\u0131s\u0131, yani bulunan dosyalar\u0131m\u0131z\u0131n listesi var.</p> <p>Fakat &gt; operat\u00f6r\u00fc ezici?!(clobbering) bir operat\u00f6rd\u00fcr. E\u011fer \u00e7\u0131kt\u0131y\u0131 i\u00e7erisinde yaz\u0131 olan bir dosyaya y\u00f6nlendiriyorsak dosyan\u0131n i\u00e7erisindeki her\u015feyi silerek yeni \u00e7\u0131kt\u0131y\u0131 dosyaya y\u00f6nlendirecektir. \u00d6zellikle log dosyas\u0131 tutarken bu problemle s\u00fcrekli kar\u015f\u0131 kar\u015f\u0131ya kalabilirsiniz. Bu durumu \u00f6nlemek i\u00e7in de &gt; yerine &gt;&gt; operat\u00f6r\u00fcn\u00fc kullanabilirsiniz. Her ikisi de birebir ayn\u0131 \u015fekilde \u00e7al\u0131\u015f\u0131yor fakat tahmin edebilece\u011finiz \u00fczere &gt;&gt; operat\u00f6r\u00fc gelen \u00e7\u0131kt\u0131y\u0131 var olan dosyan\u0131n sonuna ekliyor, \u00fczerine yazm\u0131yor.</p> <p>Baz\u0131 programlar da kullan\u0131c\u0131dan veya komut sat\u0131r\u0131 \u00fczerinden input ile \u00e7al\u0131\u015f\u0131yor olabilir. Az \u00f6nce test etti\u011fimiz operat\u00f6r\u00fcn tersi olan &lt; operat\u00f6r\u00fc ile de bu durumu sa\u011flayabiliriz. Diyelim ki mail_icerigi.txt ad\u0131nda bir dosyam\u0131z var ve bu dosyan\u0131n i\u00e7erisindeki b\u00fct\u00fcn yaz\u0131lar\u0131 birine mail olarak g\u00f6ndermek istiyoruz;</p> <pre><code>$ mail berkbal94@gmail.com &lt; mail_icerigi.txt\n</code></pre> <p>Bu operat\u00f6r\u00fc kullanarak programlara veya baz\u0131 komutlara d\u0131\u015far\u0131dan girdi(input) g\u00f6nderebiliriz. \u0130lerleyen zamanlarda https://www.shellscript.sh/ yazarken bu konuya s\u00fcrekli de\u011finece\u011fiz. \u015eimdilik bu kadar\u0131n\u0131 biliyor olmam\u0131z yeterli.</p>"},{"location":"linux/zram/","title":"Zram Nedir?","text":"<p>Bilgisayar\u0131n RAM'inin bir b\u00f6l\u00fcm\u00fcn\u00fc s\u0131k\u0131\u015ft\u0131r\u0131p depolama birimi gibi kullanmay\u0131 sa\u011flayan teknoloji. Bu sayede fiziksel ramin kapasitesi art\u0131r\u0131lm\u0131\u015f olur.</p> <p>Bu olu\u015fturulan s\u0131k\u0131\u015ft\u0131r\u0131lm\u0131\u015f blok ayg\u0131t\u0131, genellikle takas alan\u0131 (swap space) olarak kullan\u0131l\u0131r. \u0130lk \u00e7\u0131kt\u0131\u011f\u0131nda ad\u0131 \"compcache\" (compressed cache - s\u0131k\u0131\u015ft\u0131r\u0131lm\u0131\u015f \u00f6nbellek) idi ve temel amac\u0131 buydu. Ancak art\u0131k genel ama\u00e7l\u0131 bir RAM diski olarak da kullan\u0131l\u0131yor.</p> <p>Avantajlar\u0131n\u0131 anlayabilmek i\u00e7in normal swap alan\u0131 ile zram'i kar\u015f\u0131la\u015ft\u0131rabiliriz.</p>"},{"location":"linux/zram/#normal-swap-alan-nasl-calsr","title":"Normal Swap Alan\u0131 Nas\u0131l \u00c7al\u0131\u015f\u0131r?","text":"<p>Normal swap, sabit diskinizin (HDD veya SSD) bir b\u00f6l\u00fcm\u00fcn\u00fc veya tamam\u0131n\u0131 kullanan bir t\u00fcr sanal bellektir. Sistemde fiziksel RAM bitti\u011finde, az kullan\u0131lan veriler veya programlar swap alan\u0131na ta\u015f\u0131n\u0131r. Bu sayede fiziksel RAM'de yer a\u00e7\u0131l\u0131r ve sistem daha fazla uygulama \u00e7al\u0131\u015ft\u0131rabilir.</p> <p>Avantajlar\u0131:</p> <ul> <li>Veri kal\u0131c\u0131l\u0131\u011f\u0131: Elektrik kesilse bile takas alan\u0131ndaki veriler diskinizde kal\u0131r.</li> <li>Daha b\u00fcy\u00fck kapasite: Sabit diskinizdeki alan kadar b\u00fcy\u00fck olabilir.</li> </ul> <p>Dezavantajlar\u0131:</p> <ul> <li> <p>Yava\u015fl\u0131k: Sabit diskler RAM'den \u00e7ok daha yava\u015ft\u0131r. Bu y\u00fczden swapa veri yazmak veya okumak performansta d\u00fc\u015f\u00fc\u015flere neden olur. \u00d6zellikle \u00e7ok fazla takas kullan\u0131m\u0131 varsa sistem donmu\u015f gibi hissedilebilir.</p> </li> <li> <p>Disk y\u0131pranmas\u0131: \u00d6zellikle SSD'ler i\u00e7in s\u0131k s\u0131k takas alan\u0131 kullan\u0131m\u0131, diskin \u00f6mr\u00fcn\u00fc k\u0131saltabilir.</p> </li> </ul> <p>Sysadm Custom Gem Zram ve Swap Kar\u015f\u0131la\u015ft\u0131rmas\u0131</p> <p>\u015eimdi zram ile geleneksel takas alan\u0131 (swap space) aras\u0131ndaki farklara ve zram'\u0131n sundu\u011fu avantajlara bakal\u0131m. Geleneksel Takas Alan\u0131 (Swap Space)</p> <p>Geleneksel takas alan\u0131, sabit diskinizin (HDD veya SSD) bir b\u00f6l\u00fcm\u00fcn\u00fc veya tamam\u0131n\u0131 kullanan bir t\u00fcr sanal bellektir. Sisteminizde fiziksel RAM bitti\u011finde, az kullan\u0131lan veriler veya programlar takas alan\u0131na ta\u015f\u0131n\u0131r. Bu sayede fiziksel RAM'de yer a\u00e7\u0131l\u0131r ve sistem daha fazla uygulama \u00e7al\u0131\u015ft\u0131rabilir. Avantajlar\u0131:</p> <pre><code>Veri kal\u0131c\u0131l\u0131\u011f\u0131: Elektrik kesilse bile takas alan\u0131ndaki veriler diskinizde kal\u0131r.\nDaha b\u00fcy\u00fck kapasite: Sabit diskinizdeki alan kadar b\u00fcy\u00fck olabilir.\n</code></pre> <p>Dezavantajlar\u0131:</p> <pre><code>Yava\u015fl\u0131k: Sabit diskler, RAM'den \u00e7ok daha yava\u015ft\u0131r. Bu y\u00fczden takas alan\u0131na veri yazmak veya okumak, performansta ciddi d\u00fc\u015f\u00fc\u015flere neden olur. \u00d6zellikle \u00e7ok fazla takas kullan\u0131m\u0131 varsa sistem donmu\u015f gibi hissedilebilir.\nDisk y\u0131pranmas\u0131: \u00d6zellikle SSD'ler i\u00e7in s\u0131k s\u0131k takas alan\u0131 kullan\u0131m\u0131, diskin \u00f6mr\u00fcn\u00fc k\u0131saltabilir.\n</code></pre>"},{"location":"linux/zram/#zramin-avantajlar-ve-dezavantajlar","title":"Zram'in Avantajlar\u0131 ve Dezavantajlar\u0131","text":"<p>Zram yukar\u0131da bahsedilen gibi RAM \u00fczerinde s\u0131k\u0131\u015ft\u0131r\u0131lm\u0131\u015f bir blok ayg\u0131t\u0131d\u0131r. Geleneksel swap alan\u0131ndan temel fark\u0131 verileri fiziksel diske de\u011fil RAM i\u00e7inde s\u0131k\u0131\u015ft\u0131rarak depolamas\u0131d\u0131r.</p> <p>Avantajlar\u0131:</p> <ul> <li> <p>H\u0131z: Zram RAM \u00fczerinde \u00e7al\u0131\u015ft\u0131\u011f\u0131 i\u00e7in disk tabanl\u0131 swap alan\u0131ndan \u00e7ok daha h\u0131zl\u0131. Veri okuma ve yazma i\u015flemleri neredeyse RAM h\u0131z\u0131nda ger\u00e7ekle\u015fir. Bu sistemin h\u0131z\u0131n\u0131 art\u0131r\u0131r ve takas kullan\u0131m\u0131ndan kaynaklanan performans d\u00fc\u015f\u00fc\u015flerini en aza indirir.</p> </li> <li> <p>Disk \u00f6mr\u00fc: Veriler diske yaz\u0131lmad\u0131\u011f\u0131 i\u00e7in SSD'lerin \u00f6mr\u00fcn\u00fc uzat\u0131r. </p> </li> <li> <p>Verimli RAM kullan\u0131m\u0131: Verileri s\u0131k\u0131\u015ft\u0131rarak depolad\u0131\u011f\u0131 i\u00e7in, mevcut RAM kapasitenizi sanal olarak art\u0131r\u0131r. \u00d6rne\u011fin, 1GB veriyi s\u0131k\u0131\u015ft\u0131rarak 500MB alana s\u0131\u011fd\u0131rabilir ve b\u00f6ylece RAM'de daha fazla bo\u015f yer kalmas\u0131n\u0131 sa\u011flar.</p> </li> </ul> <p>Dezavantajlar\u0131:</p> <ul> <li> <p>CPU kullan\u0131m\u0131: Verilerin s\u0131k\u0131\u015ft\u0131r\u0131lmas\u0131 ve a\u00e7\u0131lmas\u0131 i\u015flemci (CPU) kullan\u0131m\u0131 gerektirir. Ancak g\u00fcn\u00fcm\u00fcz modern i\u015flemcileri i\u00e7in bu genellikle ihmal edilebilir bir y\u00fckt\u00fcr.</p> </li> <li> <p>Ge\u00e7ici veri: Zram'daki veriler RAM'de oldu\u011fu i\u00e7in, elektrik kesintisi veya sistem kapanmas\u0131 durumunda kaybolur. Bu nedenle kal\u0131c\u0131 depolama i\u00e7in uygun de\u011fildir.</p> </li> <li> <p>S\u0131n\u0131rl\u0131 kapasite: Zram'\u0131n boyutu, fiziksel RAM'inizin bir k\u0131sm\u0131yla s\u0131n\u0131rl\u0131d\u0131r. Disk tabanl\u0131 takas alan\u0131 gibi s\u0131n\u0131rs\u0131z b\u00fcy\u00fcyemez.</p> </li> </ul>"},{"location":"linux/zram/#zram-nasil-kurulur-ve-kullanlr","title":"Zram Nasil Kurulur ve Kullan\u0131l\u0131r?","text":"<p>Zram en kolay \u015fekilde zram-generator ile ayarlan\u0131r. Di\u011fer y\u00f6ntemlere Arch Wiki'den g\u00f6z at\u0131labilir. \u0130\u015flemler da\u011f\u0131t\u0131m g\u00f6zetmeksizin ayn\u0131d\u0131r. Ubuntu vs i\u00e7in de zram-generator paketini kurarak i\u015flem yap\u0131labilir.</p> <pre><code>sudo pacman -S zram-generator\n</code></pre> <p>sudo vim /etc/systemd/zram-generator.conf</p> <pre><code>[zram0]\nzram-size = min(ram / 2, 4096)\ncompression-algorithm = zstd\n</code></pre> <pre><code>systemctl daemon-reload\n</code></pre> <pre><code>sudo systemctl restart systemd-zram-setup@zram0.service\n</code></pre>"},{"location":"mail/mailu/","title":"Mailu Nedir?","text":"<p>Mailu, g\u00fcvenli, \u00f6zelle\u015ftirilebilir ve a\u00e7\u0131k kaynakl\u0131 bir e-posta sunucu \u00e7\u00f6z\u00fcm\u00fcd\u00fcr. Modern teknolojilerle geli\u015ftirilen Mailu, bireyler ve i\u015fletmeler i\u00e7in ba\u011f\u0131ms\u0131z e-posta sunucusu i\u015fletimini kolayla\u015ft\u0131r\u0131r. Docker konteynerlerinde \u00e7al\u0131\u015farak kolay kurulum ve bak\u0131m imkan\u0131 sa\u011flar. Mailu, kullan\u0131c\u0131 dostu bir aray\u00fczle e-posta y\u00f6netimini basitle\u015ftirir, spam ve vir\u00fcs korumas\u0131 gibi geli\u015fmi\u015f g\u00fcvenlik \u00f6zellikleri sunar. IMAP, SMTP ve Webmail gibi yayg\u0131n e-posta protokollerini destekler. Ayr\u0131ca, y\u00fcksek \u00f6l\u00e7eklenebilirli\u011fi sayesinde k\u00fc\u00e7\u00fck i\u015fletmelerden b\u00fcy\u00fck organizasyonlara kadar geni\u015f bir kullan\u0131c\u0131 yelpazesi i\u00e7in idealdir. Mailu, a\u00e7\u0131k kaynak toplulu\u011fundan gelen katk\u0131larla s\u00fcrekli geli\u015fir ve g\u00fcncellenir, bu da onu esnek ve g\u00fcvenilir bir e-posta \u00e7\u00f6z\u00fcm\u00fc haline getirir.</p> <p>Docker Compose dosyas\u0131n\u0131 generate etmek i\u00e7in bu adresi kullanabilirsiniz.</p>"},{"location":"mail/mailu/#mailu-kurulumu","title":"Mailu Kurulumu","text":"<p>Mailu en g\u00fcncel Docker ve Docker Compose teknolojilerini kulland\u0131\u011f\u0131 i\u00e7in bu kurulumlar\u0131n Docker\u2019\u0131n resmi repolar\u0131ndan yap\u0131lmas\u0131 gerekmektedir. Muhtemelen kulland\u0131\u011f\u0131n\u0131z Linux da\u011f\u0131t\u0131m\u0131n\u0131n repolar\u0131nda bulunan Docker Engine ve Docker Compose Mailu i\u00e7in uygun olmayacakt\u0131r. Mailu\u2019nun sistem gereksinimleri ve kullan\u0131lacak Docker ve Docker Compose versiyonlar\u0131 hakk\u0131nda bilgi almak i\u00e7in resmi sitesini ziyaret edebilirsiniz.</p> <p></p> <ol> <li> <p>Mailu Storage Path: Mailu\u2019nun verilerini depolayaca\u011f\u0131 dizini belirtir. Mailu'nun docker volume dosyalar\u0131n\u0131n, gerekli env dosyas\u0131n\u0131n ve docker compose dosyas\u0131n\u0131n bulunaca\u011f\u0131 dizini buraya girin. \u00d6rne\u011fin <code>/mailu.</code></p> </li> <li> <p>Main Mail Domain and Server Display Name: Ana mail domaini ve sunucu ad\u0131 bu alana girilmelidir. \u00d6rne\u011fin, <code>berkbal.com.tr.</code></p> </li> <li> <p>Postmaster Local Part: Postmaster e-posta adresinin yerel k\u0131sm\u0131n\u0131 belirtir. Genellikle admin olarak kullan\u0131l\u0131r.</p> </li> <li> <p>TLS Sertifikalar\u0131: TLS sertifikalar\u0131n\u0131 nas\u0131l y\u00f6netmek istedi\u011finizi se\u00e7in. letsencrypt gibi bir se\u00e7enek belirleyebilirsiniz.</p> </li> <li> <p>Giri\u015f Denemesi Limitleri: Belirli bir IP adresinden yap\u0131lan ba\u015far\u0131s\u0131z giri\u015f denemeleri i\u00e7in saatlik limit. \u00d6rne\u011fin, 5/saat. Kullan\u0131c\u0131 ba\u015f\u0131na g\u00fcnl\u00fck giri\u015f deneme limiti. \u00d6rne\u011fin, <code>50/g\u00fcn.</code></p> </li> <li> <p>G\u00f6nderim Limitleri: Kullan\u0131c\u0131 ba\u015f\u0131na g\u00fcnl\u00fck g\u00f6nderilebilecek mesaj limiti. \u00d6rne\u011fin, <code>200/g\u00fcn.</code></p> </li> <li> <p>Anonim \u0130statistikler: Anonimle\u015ftirilmi\u015f istatistiklere kat\u0131lmak isteyip istemedi\u011finizi belirleyin.</p> </li> <li> <p>Website Name: Web sitesinin ad\u0131n\u0131 girin. \u00d6rne\u011fin, <code>Berk Bal.</code></p> </li> <li> <p>Linked Website URL: Ba\u011flant\u0131l\u0131 web sitesinin URL\u2019sini girin. \u00d6rne\u011fin, <code>https://berkbal.com.tr</code></p> </li> <li> <p>Y\u00f6netim Aray\u00fcz\u00fc: Y\u00f6netim aray\u00fcz\u00fcn\u00fc etkinle\u015ftirin. Bu se\u00e7enek, Mailu\u2019nun y\u00f6netim ara\u00e7lar\u0131na eri\u015fim sa\u011flar.</p> </li> <li> <p>API: API\u2019yi etkinle\u015ftirin. Mailu\u2019nun yap\u0131land\u0131rmas\u0131n\u0131 de\u011fi\u015ftirmek i\u00e7in RESTful API\u2019yi kullanabilirsiniz. API\u2019yi etkinle\u015ftirdi\u011finizde size bir TOKEN \u00fcretip verecektir.</p> </li> </ol>"},{"location":"mail/mailu/#ekstra-tercihler","title":"Ekstra Tercihler","text":"<p>Mailu, bir y\u00f6netici aray\u00fcz\u00fc, web e-posta istemcileri, antispam, antivir\u00fcs gibi birden fazla temel \u00f6zellik ile birlikte gelir. Bu b\u00f6l\u00fcmde, tercihlerinize g\u00f6re servisleri etkinle\u015ftirebilirsiniz:</p> <ol> <li> <p>Web E-posta \u0130stemcisi: Bu se\u00e7enek, kullan\u0131c\u0131lar\u0131n web \u00fczerinden posta kutular\u0131na eri\u015fmelerini sa\u011flar. <code>Roundcube</code>, veya <code>rainloop</code> se\u00e7eneklerinden birini se\u00e7ebilirsiniz.</p> </li> <li> <p>Antivir\u00fcs Hizmeti: ClamAV kullanarak b\u00fcy\u00fck \u00f6l\u00e7ekli vir\u00fcs yay\u0131lma kampanyalar\u0131na kar\u015f\u0131 koruma sa\u011flar. Bu hizmeti etkinle\u015ftirmek i\u00e7in en az 1GB bellek gereklidir.</p> </li> <li> <p>Webdav Hizmeti: Kullan\u0131c\u0131lar\u0131n HTTP \u00fczerinden takvim ve rehber gibi bilgileri depolamalar\u0131n\u0131 sa\u011flar.</p> </li> <li> <p>Fetchmail: Kullan\u0131c\u0131lar\u0131n harici bir mail sunucusundan <code>IMAP/POP3</code> ile posta \u00e7ekip gelen kutular\u0131na yerle\u015ftirmelerini sa\u011flar.</p> </li> <li> <p>Oletools: E-posta eklerindeki belgeleri k\u00f6t\u00fc ama\u00e7l\u0131 makrolara kar\u015f\u0131 tarar. Tam te\u015fekk\u00fcll\u00fc bir antivir\u00fcs program\u0131na g\u00f6re daha d\u00fc\u015f\u00fck bellek kullan\u0131r.</p> </li> <li> <p>Tika: Tika\u2019y\u0131 etkinle\u015ftirir. E-posta ekleri i\u00e7inde arama yapma i\u015flevini sa\u011flar. Tika, e-posta eklerindeki belgeleri tarar, i\u015fler (OCR, anahtar kelime \u00e7\u0131kar\u0131m\u0131) ve verimli bir \u015fekilde aranabilir hale getirir. Bu i\u015flem \u00f6nemli miktarda kaynak (RAM, CPU ve depolama) gerektirir.</p> </li> </ol>"},{"location":"mail/mailu/#sunucu-ayarlar","title":"Sunucu Ayarlar\u0131","text":"<p>Mail sunucusunun e-posta alabilmesi, g\u00f6nderebilmesi ve kullan\u0131c\u0131lar\u0131n posta kutular\u0131na eri\u015febilmesi i\u00e7in d\u00fcnyaya a\u00e7\u0131lmas\u0131 gerekmektedir. Mailu, bu i\u015flemi \u00e7e\u015fitli yollarla yapabilir:</p> <ol> <li> <p>IPv4 Listen Address: IPv4 listen address alan\u0131na sat\u0131n ald\u0131\u011f\u0131n\u0131z sunucunun IP adresini yazmal\u0131s\u0131n\u0131z. \u00d6rne\u011fin, 192.168.1.50.</p> </li> <li> <p>Subnet of the Docker Network: Docker a\u011f\u0131n\u0131n alt a\u011f\u0131n\u0131 belirtin. Bu a\u011f, sisteminizin ba\u011fl\u0131 oldu\u011fu herhangi bir a\u011f ile \u00e7ak\u0131\u015fmamal\u0131d\u0131r. Genellikle format ..*.0/24 \u015feklindedir. \u00d6rne\u011fin, 192.168.203.0/24.</p> </li> <li> <p>IPv6: Bu, Mailu\u2019nun DNSSEC do\u011frulamas\u0131n\u0131 yapmas\u0131na, DNS k\u00f6k sorgular\u0131n\u0131 ve \u00f6nbelleklemesini ger\u00e7ekle\u015ftirmesine olanak tan\u0131r.</p> </li> <li> <p>Internal DNS Resolver (Unbound): Bu se\u00e7enek, antispam hizmetinin genel veya ISS DNS sunucular\u0131 taraf\u0131ndan engellenmemesine yard\u0131mc\u0131 olur.</p> </li> <li> <p>Public Hostnames: Sunucunun bar\u0131nd\u0131raca\u011f\u0131 genel ana bilgisayar adlar\u0131n\u0131 girin. Bu alan adlar\u0131, e-posta alan adlar\u0131n\u0131n MX kay\u0131tlar\u0131nda belirtilmelidir. Ana bilgisayar adlar\u0131 virg\u00fclle ayr\u0131lmal\u0131d\u0131r. \u00d6rne\u011fin: mail.berkbal.com.tr.</p> </li> </ol> <p>Bu ad\u0131mlar\u0131 tamamlad\u0131ktan sonra, <code>docker-compose.yml</code> ve <code>mailu.env</code> dosyalar\u0131n\u0131 olu\u015fturup wget ile sisteme indirip kullanabileceksiniz.</p>"},{"location":"openvpn/openvpn-server-kurulumu/","title":"Openvpn server kurulumu","text":"<p>Homelab projemdeki uygulamalara ve sisteme uzaktan erisebilmek icin kendime bir adet OpenVPN serveri kurdum. Bazi sebeplerden dolayi OpenVPN tercih ediyorum, bu tarz bir senaryoda sizlere WireGuard tavsiye ederim.</p> <p>Kurulum islemlerini Debian 12 uzerinde gerceklestiriyorum.(LXC Container)</p>"},{"location":"openvpn/openvpn-server-kurulumu/#openvpn-server-kurulumu","title":"OpenVPN Server Kurulumu","text":"<ol> <li>OpenVPN ve EasyRSA kurulumlari yapilir.</li> </ol> <pre><code>apt update &amp;&amp; apt upgrade -y\n</code></pre> <pre><code>apt install openvpn easy-rsa -y\n</code></pre> <ol> <li>OpenVPN baglantilar icin sertifikalara ihtiyac duydugu icin rasy rsa ile bir sertifika olusturmamiz gerekecek. Bunun icin once CA(Sertifika Otoritesi) olusturmamiz gerekiyor.</li> </ol> <pre><code>make-cadir /etc/openvpn/easy-rsa\ncd /etc/openvpn/easy-rsa\n</code></pre> <p>Bu dizinde <code>vars</code> adinda bir dosya olusturup ayarlamalari ekleyelim:</p> <pre><code>vim vars\n</code></pre> <pre><code>set_var EASYRSA_REQ_COUNTRY    \"TR\"\nset_var EASYRSA_REQ_PROVINCE   \"Ankara\"\nset_var EASYRSA_REQ_CITY       \"Ankara\"\nset_var EASYRSA_REQ_ORG        \"MyVPN\"\nset_var EASYRSA_REQ_EMAIL      \"ben@berkbal.com.tr\"\nset_var EASYRSA_REQ_OU         \"IT\"\nset_var EASYRSA_KEY_SIZE       2048\n</code></pre>"},{"location":"openwrt/openwrt-WAP-kurulumu/","title":"OpenWRT WAP Kurulumu","text":""},{"location":"openwrt/openwrt-WAP-kurulumu/#gerekli-paketlerin-yuklenmesi","title":"Gerekli Paketlerin Yuklenmesi","text":"<ol> <li> <p>Modeme SSH ile baglanilir: <code>bash    ssh root@192.168.1.1</code></p> </li> <li> <p>wpad-basic-mbedtls paketini sil:     wolf-ssl ile conflict olan paketi onceden silmek gerekiyor.    <code>bash    opkg remove wpad-basic-mbedtls</code></p> </li> <li> <p>wpad-wolfssl ve usteer paketlerini yukle: <code>bash    opkg update    opkg install wpad-wolfssl    opkg install usteer</code></p> </li> </ol>"},{"location":"openwrt/openwrt-WAP-kurulumu/#openwrt-arayuzunde-yapilan-islemler","title":"OpenWRT Arayuzunde Yapilan Islemler","text":"<ol> <li>Hostname degistirme:</li> <li>OpenWRT GUI'ye gir.</li> <li>System &gt; System sekmesine git.</li> <li>Hostname alanina yeni ismi yaz.</li> <li> <p>Save &amp; Apply butonuna bas.</p> </li> <li> <p>LAN DHCP'yi kapatma:</p> </li> <li>Network &gt; Interfaces sekmesine git.</li> <li>LAN arayuzunu sec ve Edit butonuna bas.</li> <li>DHCP Server sekmesine git, Disable DHCP secenegini sec.</li> <li> <p>Save &amp; Apply butonuna bas.</p> </li> <li> <p>WAN arayuzunu sil ve WAN portunu bridge arayuzune ekle:</p> </li> <li>Network &gt; Interfaces sekmesine git.</li> <li>WAN arayuzunu sec ve Remove butonuna tikla.</li> <li>Network &gt; Switch sekmesine git.</li> <li>WAN portunu br-lan ile bagla.</li> <li> <p>Save &amp; Apply butonuna bas.</p> </li> <li> <p>Wireless Security Ayarlar\u0131</p> </li> </ol> <p></p> <ol> <li>Roaming Ayarlari</li> </ol> <p></p>"},{"location":"openwrt/openwrt-WAP-kurulumu/#yuklenen-eklentilerin-ayarlar","title":"Y\u00fcklenen Eklentilerin Ayarlar\u0131","text":""},{"location":"openwrt/openwrt-WAP-kurulumu/#usteer","title":"Usteer","text":"<ul> <li>Asagidaki ayarlar AP1 icin yapilmistir. AP2'de usteer ayarlanirken ap1,ap3 ve varsa diger AP lerin ip adreslerinin verilmesi gerekmektedir.</li> <li>option key ayari her cihazda ayni olmalidir.</li> </ul> <pre><code>config usteer\n    option 'network' 'lan'\n    option 'syslog' '1'\n    option local_mode '0'\n    option 'ipv6' '0'\n    option 'debug_level' '2'\n    option signal_diff_threshold '15'\n    option load_balancing_threshold '30'\n    option local_sta_limit '30'\n    option remote_update '1'\n\nconfig node\n    option host '192.168.1.40'  # AP2'nin IP adresi\n    option key 'BUTUN-ROUTERLARDA-AYNI-OLACAK-OZEL-BIR-PAROLA (32 karakter olmas\u0131 onerilir)'\n\nconfig node\n    option host '192.168.1.50' # AP3'un IP Adresi\n    option key 'BUTUN-ROUTERLARDA-AYNI-OLACAK-OZEL-BIR-PAROLA (32 karakter olmas\u0131 onerilir)'\n</code></pre>"},{"location":"openwrt/openwrt-kurulumu/","title":"OpenWRT Kurulumu","text":""},{"location":"openwrt/openwrt-kurulumu/#openwrt-kurulumu","title":"OpenWRT Kurulumu","text":""},{"location":"openwrt/openwrt-kurulumu/#web-arayuzu-ile-kurulum","title":"Web arayuzu ile kurulum","text":"<p>Cihaz cloud uzerinden yonetiliyor ama gizli bir firmware guncelleme sayfasi var. Bu sayfaya kayit olmadan erisilebilir. Eger calismazsa, cloud kaydi ile denenebilir.</p> <p>Cihazda iki firmware var ve hangisinin aktif oldugunu anlamak mumkun degil. Bu yuzden once -initramfs surumu yuklenmeli.</p>"},{"location":"openwrt/openwrt-kurulumu/#adimlar","title":"Adimlar:","text":"<ol> <li>OEM web arayuzune giris yap (Bekleyerek de devam edebilirsin).</li> <li>Gizli guncelleme sayfasina git: <code>http://192.168.212.1/gui/#/main/debug/firmwareupgrade</code></li> <li>Sayfa 1 dakika boyunca yuklenir (yenilemek bir pop-up gosterir ama ise yaramaz). Bir sure sonra Upload butonu gorunur ve aktif olur.</li> <li>-initramfs-kernel.bin dosyasini yukleyip flashla.</li> <li>Modemin yeniden baslamasini bekle ve OpenWrt arayuzune gir (<code>192.168.1.1</code>). (IP degistigi icin ethernet kablosunu cikarip takabilirsin).</li> <li>Go to firmware upgrade... butonuna tikla.</li> <li>Sayfayi asagi kaydir ve Flash new firmware image bolumunde Flash Image butonuna tikla.</li> <li>squashfs-sysupgrade.bin dosyasini sec ve Upload butonuna bas.</li> <li>Keep Setting... seceneginin isaretini kaldir.</li> <li>Continue butonuna bas ve yeni firmware'i flashla.</li> </ol> <p>Firmware yuklenirken LED yaklasik 10 saniye boyunca kirmizi yanar. Sonra yesil olur. Ardindan beyaz renkte hizli yanip soner, sonra yavaslar. LED beyaz sabit yaninca OpenWRT yuklenmis olur.</p>"},{"location":"sanallastirma/libvirt-gercek-ip/","title":"Libvirt KVM'ye Gercek Ip Adresi Ekleme Islemi","text":"<p>Bu i\u015flemi ger\u00e7ekle\u015ftirmek i\u00e7in <code>virsh edit</code> komutu ile olusturulan sanal makineye yeni bir interface ekleyip bu interface uzerinden ip adresini tanimlayabiliriz.</p>"},{"location":"sanallastirma/libvirt-gercek-ip/#dikkat-edilmesi-gerekenler","title":"Dikkat Edilmesi Gerekenler","text":"<ol> <li> <p>Sunucuya verilmek istenen ip adresinin ba\u015fka bir yerde kullan\u0131mda olmamas\u0131 gerekmektedir. Hypervisor \u00fczerindeki iptables kurallar\u0131 ve ayn\u0131 yerde olan di\u011fer makinelerdeki iptables kurallar\u0131 kontrol edilmelidir.</p> </li> <li> <p>Sunucunun bu ip adresini kullanabilmesi i\u00e7in \u00f6ntan\u0131ml\u0131 gateway olarak yeni eklenen interface gatewayi kullan\u0131lmal\u0131d\u0131r.</p> </li> </ol>"},{"location":"sanallastirma/libvirt-gercek-ip/#sanal-makineye-yeni-bir-interface-eklenmesi","title":"Sanal Makineye yeni bir Interface Eklenmesi","text":"<pre><code>virsh edit python\n</code></pre> <p>A\u015fa\u011f\u0131daki sat\u0131rlar makinede var olan interface tan\u0131m\u0131n\u0131n alt\u0131na eklenmelidir.</p> <pre><code>&lt;interface type='bridge'&gt;\n    &lt;mac address='00:50:56:00:ad:dc'/&gt;\n    &lt;source bridge='br0'/&gt;\n    &lt;model type='virtio'/&gt;\n    &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x08' function='0x0'/&gt;\n&lt;/interface&gt;\n</code></pre> <p>Not: Eger sorun cikarsa address kismini silerek dosyaya eklenebilir. Address kismi verilmezse libvirt otomatik olarak bunlari belirleyecektir.</p> <p>Bu i\u015flem ger\u00e7ekle\u015ftirildikten sonra sanal makine reboot edilmelidir. Reboot edildikten sonra makine \u00fczerinde yeni bir interface olu\u015fmu\u015f olmal\u0131. Bu interface i\u00e7in bir ip adresi tan\u0131mlamas\u0131 yap\u0131lmas\u0131 gerekiyor.</p> <pre><code>auto ens?\niface ens? inet static\n        address IP ADRESI\n        gateway GATEWAY?\n        netmask Subnet\n        hwaddress ether MAC-ADRESI(Makineye bu interface eklenirken kullanilan mac adresi)\n</code></pre>"},{"location":"sanallastirma/libvirt-gercek-ip/#ornek-interfaces-dosyas","title":"\u00d6rnek interfaces dosyas\u0131","text":"<pre><code>auto ens3\niface ens3 inet static\n    address LOCAL-STATIK\n    netmask 255.255.255.0\n    #gateway LOCAL-GATEWAY # Gateway tanimini ip adresini verdigimiz interface icin yapiyoruz.\n\n\nauto ens11\niface ens11 inet static\n    address VERMEK ISTEDIGIMIZ IP /?\n    netmask SUBNET\n    gateway GATEWAY\n    hwaddress ether MAC-ADRESI(Makineye bu interface eklenirken kullanilan mac adresi)\nroot@python:~# \n</code></pre> <p>Sunucunun public ip adresini test etmek i\u00e7in a\u015fa\u011f\u0131daki komut kullan\u0131labilir.</p> <pre><code>dig +short myip.opendns.com @resolver1.opendns.com\n</code></pre>"},{"location":"sanallastirma/libvirt-networking/","title":"Libvirt'in Network Sistemi","text":""},{"location":"sanallastirma/libvirt-networking/#libvirt-uzerinde-calisan-default-network","title":"Libvirt Uzerinde Calisan Default Network","text":"<p>Asagidaki komut ile libvirt ile birlikte calisan networkler listelenebilir.</p> <pre><code>virsh net-list --all\n</code></pre> <p>Libvirt kurulumu ile birlikte gelen varsayilan networkun adi defaultdur. Ilk kurulumda otomatik olarak baslamaz, el ile baslastilmasi ve duruma gore autostart hale getirilmesi gerekebilir.</p> <p>Bu network baslatildiktan sonra virbr0 adinda bir network interfaceinin olustugunu gorebiliriz. 4 numarali interface. Bu interface sanal bir switch gorevi gorur. Olusturulan sanal makineler bu switch'e bagliymis gibi davranir.</p> <pre><code>berk@berk-notebook:~/Documents/repos/docs$ ip a\n1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host noprefixroute \n       valid_lft forever preferred_lft forever\n2: enp4s0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc fq_codel state DOWN group default qlen 1000\n    link/ether 88:a4:c2:54:35:af brd ff:ff:ff:ff:ff:ff\n3: wlp0s20f3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000\n    link/ether cc:15:31:ea:8d:ff brd ff:ff:ff:ff:ff:ff\n    inet 192.168.1.178/24 brd 192.168.1.255 scope global dynamic noprefixroute wlp0s20f3\n       valid_lft 70988sec preferred_lft 70988sec\n    inet6 fd00::bdfb:aa4a:5494:e47d/64 scope global temporary dynamic \n       valid_lft 29sec preferred_lft 29sec\n    inet6 fd00::a54a:d2b6:a31e:cbc2/64 scope global dynamic mngtmpaddr noprefixroute \n       valid_lft 29sec preferred_lft 29sec\n    inet6 fe80::e6c3:321a:f4cc:d0c2/64 scope link noprefixroute \n       valid_lft forever preferred_lft forever\n4: virbr0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000\n    link/ether 52:54:00:91:e2:8d brd ff:ff:ff:ff:ff:ff\n    inet 192.168.122.1/24 brd 192.168.122.255 scope global virbr0\n       valid_lft forever preferred_lft forever\n</code></pre>"},{"location":"sanallastirma/libvirt-networking/#dhcp-ve-dnsmasq","title":"DHCP ve DNSMASQ","text":"<p>Libvirt kurulumu ile birlikte gelen, arkada calisan bir process mevcut. Adi dnsmasq.</p> <pre><code>berk@berk-notebook:~/Documents/repos/docs$ ps aux | grep -i dnsmasq\nlibvirt+    3777  0.0  0.0  11484  2348 ?        S    09:19   0:01 /usr/sbin/dnsmasq --conf-file=/var/lib/libvirt/dnsmasq/default.conf --leasefile-ro --dhcp-script=/usr/lib/libvirt/libvirt_leaseshelper\nroot        3778  0.0  0.0  11484  1708 ?        S    09:19   0:00 /usr/sbin/dnsmasq --conf-file=/var/lib/libvirt/dnsmasq/default.conf --leasefile-ro --dhcp-script=/usr/lib/libvirt/libvirt_leaseshelper\ndnsmasq     4765  0.7  2.9 2037796 470492 ?      Ssl  09:19   6:04 mysqld\nberk      911011  0.0  0.0   9144  2304 pts/0    S+   23:22   0:00 grep --color=auto -i dnsmasq\n</code></pre> <p>Dnsmasq, kucuk networkler icin tasarlanmis DNS ve DHCP sunucusudur. Genellikle local networklerde DNS isteklerini cozmek, ip adresleri atamak ve ag yonetimini kolaylastirmak amaciyla kullanilir. Yani libvirt'in default networkunu kullandigimizda aslinda ipleri dagitan yazilim dnsmasq diyebiliriz.</p> <p>Buradan dnsmasq'in configine bakarak dhcp-range'ini ogrenebiliriz. Bu ayarlar libvirt tarafindan otomatik olarak yapilir.</p> <pre><code>berk@berk-notebook:~/Documents/repos/docs$ sudo cat /var/lib/libvirt/dnsmasq/default.conf \n[sudo] password for berk: \n##WARNING:  THIS IS AN AUTO-GENERATED FILE. CHANGES TO IT ARE LIKELY TO BE\n##OVERWRITTEN AND LOST.  Changes to this configuration should be made using:\n##    virsh net-edit default\n## or other application using the libvirt API.\n##\n## dnsmasq conf file created by libvirt\nstrict-order\nuser=libvirt-dnsmasq\npid-file=/run/libvirt/network/default.pid\nexcept-interface=lo\nbind-dynamic\ninterface=virbr0\ndhcp-range=192.168.122.2,192.168.122.254,255.255.255.0\ndhcp-no-override\ndhcp-authoritative\ndhcp-lease-max=253\ndhcp-hostsfile=/var/lib/libvirt/dnsmasq/default.hostsfile\naddn-hosts=/var/lib/libvirt/dnsmasq/default.addnhosts\n</code></pre> <p>Linux bir makineye libvirt kurulumu yapildiginda ve default network aktif edildiginde otomatik olarak sanal bir bridge ve dhcp serveri otomatik olarak kuruluyor.</p>"},{"location":"sanallastirma/libvirt-networking/#sanal-makineler-ve-libvirtin-network-sistemi","title":"Sanal Makineler ve Libvirt'in Network Sistemi","text":"<p>Simdi sanal makinelerimizin durumlarini inceleyelim.</p> <pre><code>berk@berk-notebook:~/Documents/repos/docs$ virsh list --all\n Id   Name             State\n---------------------------------\n -    debian12-fresh   shut off\n -    ubuntu24.04      shut off\n</code></pre> <p>Goruldugu uzere 2 adet sanal makine var ve ikisi de kapali gozukuyor. <code>virsh dumpxml</code> komutu ile bu sanal makinelerin ayar dosyalarini terminal uzerinde gorunteleyebiliriz.</p> <pre><code>berk@berk-notebook:~/Documents/repos/docs$ virsh dumpxml debian12-fresh | grep 'network='\n      &lt;source network='default'/&gt;\n</code></pre> <p>debian12-fresh isimli sanal makine network olarak default isimli networku kullaniyor. Yani Hypervisor olarak gorev yapan ana makinemizin uzerindeki virbr0 isimli interface uzerinden baglanti sagliyor.</p> <p>Bu sanal makineyi calistirdiktan sonra gerceklesen degisiklikleri gozlemleyelim;</p> <pre><code>virsh start debian12-fresh\n</code></pre> <p>Sanal makinemizi baslattiktan sonra ip a komutu ile interfacelerimizi tekrar kontrol edelim:</p> <pre><code>14: vnet1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master virbr0 state UNKNOWN group default qlen 1000\n    link/ether fe:54:00:81:86:f7 brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::fc54:ff:fe81:86f7/64 scope link \n    valid_lft forever preferred_lft forever\n</code></pre> <p>Yeni bir network interface'in belirdigini gozlemleyebiliriz. Bu olusan interface sanal makinenin bagli oldugu interfacedir. Gercekte sanal makinenin bagli oldugu switch olarak dusunebiliriz. </p> <p>Ayrica Interface'in detaylarina baktigimizda <code>master virbr0 state UNKNOWN</code> yazdigini gorebiliriz. Yani bu interface <code>virbr0</code> isimli interface'e bagli. virbr0 da default isimli libvirt networkunun olusturdugu interface. Basitce asagidaki gibi gorsellestirebiliriz.</p> <p></p>"},{"location":"sanallastirma/libvirt-networking/#hypervisor-kvm-host-uzerindeki-routing-table","title":"Hypervisor (KVM Host) Uzerindeki Routing Table","text":"<p>Trafik host uzerindeki routing table kurallarina gore yonlenir. Host berkbal.com'a ulasmak istediginde gateway uzerinden yonlenir. Asagidaki komut ile routing table'a goz atabiliriz.</p> <pre><code>berk@berk-notebook:~/Documents/repos/docs$ route\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\ndefault         _gateway        0.0.0.0         UG    600    0        0 wlp0s20f3\n172.17.0.0      0.0.0.0         255.255.0.0     U     0      0        0 docker0\n172.18.0.0      0.0.0.0         255.255.0.0     U     0      0        0 br-970466c5d983\n172.19.0.0      0.0.0.0         255.255.0.0     U     0      0        0 br-4b58726a0486\n172.20.0.0      0.0.0.0         255.255.0.0     U     0      0        0 br-8fdaf0fbab2e\n192.168.1.0     0.0.0.0         255.255.255.0   U     600    0        0 wlp0s20f3\n192.168.122.0   0.0.0.0         255.255.255.0   U     0      0        0 virbr0\nberk@berk-notebook:~/Documents/repos/docs$ \n</code></pre> <p>default isimli kaynak <code>wlp0s20f3</code> isimli interface uzerinden internete cikis yapiyor.</p> <p>L\u0131bv\u0131rt'in varsay\u0131lan network yapisi bu sekilde calisiyor.</p>"},{"location":"sanallastirma/libvirt-networking/#bridge-olusturmak","title":"Bridge Olusturmak","text":"<p>Varsayilan bridge'i kullanmak istemiyorsak veya baska bir bridge ihtiyaci duyuyorsak yeni bir birdge olusturabiliriz.</p> <p><code>ip</code> isimli araci kullanarak yeni bir bridge aygiti ekleyebiliriz.</p> <pre><code>ip link add name br1 type bridge\n</code></pre> <p>Bu sekilde bir bridge tanimladiktan sonra bunu default libvirt network yapisinda oldugu gibi fiziksel ethernet cihazina baglamamiz gerekiyor.</p> <pre><code>ip link set eno1 master br1\n</code></pre> <p>Buradaki eno1 fiziksel cihazinizi temsil eden interface olmali.</p> <p>Simdi ekledigimiz bridge'e bir ip adresi verelim.</p> <pre><code>ip addr add 192.168.1.4/24 dev br1 brd 192.168.1.255\n</code></pre> <p><code>ip a</code> komutunun ciktisina baktigimizda bu interfacein bir ip adresine sahip oldugunu gorebiliriz. </p> <pre><code>18: br1: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN group default qlen 1000\n    link/ether 16:6f:bb:49:6a:09 brd ff:ff:ff:ff:ff:ff\n    inet 192.168.4.7/16 brd 192.168.255.255 scope global br1\n    valid_lft forever preferred_lft forever\n</code></pre> <p>interface'in state'i DOWN durumda. Ayaga kaldiralim:</p> <pre><code>ip link set up br1\n</code></pre> <p>Tekrar ip a komutu ile kontrol ettigimizde state UP olarak gormeliyiz.</p> <pre><code>18: br1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000\n    link/ether 16:6f:bb:49:6a:09 brd ff:ff:ff:ff:ff:ff\n    inet 192.168.4.7/16 brd 192.168.255.255 scope global br1\n       valid_lft forever preferred_lft forever\n    inet6 fd00::d287:2e0d:95f7:bee6/64 scope global temporary dynamic \n       valid_lft 30sec preferred_lft 30sec\n    inet6 fd00::146f:bbff:fe49:6a09/64 scope global dynamic mngtmpaddr \n       valid_lft 30sec preferred_lft 30sec\n    inet6 fe80::146f:bbff:fe49:6a09/64 scope link \n       valid_lft forever preferred_lft forever\n</code></pre> <pre><code>route add default gw 192.168.1.1 dev br1\n</code></pre>"},{"location":"sanallastirma/libvirt-networking/#libvirte-olusturdugumuz-bridgei-entegre-etmek","title":"Libvirt'e Olu\u015fturdu\u011fumuz Bridge'i Entegre Etmek","text":"<p>Manuel olarak olu\u015fturdu\u011fumuz br1 isimli k\u00f6pr\u00fcy\u00fc Libvirt'in tan\u0131mas\u0131 ve kullanabilmesi i\u00e7in bir Libvirt a\u011f tan\u0131m\u0131 (network definition) olu\u015fturmam\u0131z gerekiyor.</p> <p>\u00d6ncelikle, yeni k\u00f6pr\u00fcm\u00fcz i\u00e7in bir XML tan\u0131m dosyas\u0131 olu\u015ftural\u0131m. \u00d6rne\u011fin, br1-network.xml ad\u0131nda bir dosya yaratabiliriz:</p> <pre><code>&lt;network&gt;\n  &lt;name&gt;br1-network&lt;/name&gt;\n  &lt;forward mode='bridge'/&gt;\n  &lt;bridge name='br1'/&gt;\n  &lt;ip address='192.168.4.1' netmask='255.255.255.0'&gt;\n    &lt;dhcp&gt;\n      &lt;range start='192.168.4.100' end='192.168.4.200'/&gt;\n    &lt;/dhcp&gt;\n  &lt;/ip&gt;\n&lt;/network&gt;\n</code></pre> <p>XML dosyas\u0131n\u0131 olu\u015fturduktan sonra, bu tan\u0131m\u0131 Libvirt'e eklemeliyiz.</p> <pre><code>virsh net-define br1-network.xml\n</code></pre> <p>Tan\u0131mlad\u0131\u011f\u0131m\u0131z a\u011f\u0131 ba\u015flatmak i\u00e7in:</p> <pre><code>virsh net-start br1-network\n</code></pre> <p>Sistem yeniden ba\u015flat\u0131ld\u0131\u011f\u0131nda bu a\u011f\u0131n otomatik olarak ba\u015flamas\u0131n\u0131 istersek:</p> <pre><code>virsh net-autostart br1-network\n</code></pre> <p>Art\u0131k <code>virsh net-list --all</code> komutuyla yeni br1-network a\u011f\u0131n\u0131 listede g\u00f6rebiliriz.</p>"},{"location":"sanallastirma/libvirt-networking/#sanal-makineleri-yeni-bridgee-baglamak","title":"Sanal Makineleri Yeni Bridge'e Ba\u011flamak","text":"<p>Sanal makinelerimizi bu bridge yap\u0131s\u0131na ba\u011flamak istersek sanal makinenin XML dosyas\u0131n\u0131 d\u00fczenlemem\u015fiz gerekmektedir.</p> <p>\u00d6rne\u011fin, virsh edit debian12-fresh komutunu kullanarak sanal makinenin XML dosyas\u0131n\u0131 a\u00e7 ve a\u011f aray\u00fcz\u00fc (network interface) tan\u0131m\u0131n\u0131 a\u015fa\u011f\u0131daki gibi g\u00fcncelle:</p> <p> <p></p> <p>Bu de\u011fi\u015fikli\u011fi yapt\u0131ktan sonra sanal makineyi kapat\u0131p tekrar ba\u015flatmak gerekecek:</p> <pre><code>virsh shutdown debian12-fresh\nvirsh start debian12-fresh\n</code></pre> <p>Sanal makine ba\u015flad\u0131\u011f\u0131nda, art\u0131k br1 k\u00f6pr\u00fcs\u00fc \u00fczerinden ba\u011flanacak.</p>"},{"location":"sanallastirma/lvm-disk-genisletme-islemi/","title":"Linux LVM Disk Geni\u015fletme \u0130\u015flemi","text":"<p>Ba\u015flamadan \u00f6nce sanal makinenin yede\u011fi mutlaka al\u0131nmal\u0131.</p>"},{"location":"sanallastirma/lvm-disk-genisletme-islemi/#sanal-disk-boyutunu-artrma-host-uzerinde","title":"Sanal Disk Boyutunu Art\u0131rma (Host \u00dczerinde)","text":"<p>Sanal makinenin ana disk dosyas\u0131n\u0131n toplam boyutunu host (ana makine) \u00fczerinden b\u00fcy\u00fct\u00fclmesi gerekmektedir.</p>"},{"location":"sanallastirma/lvm-disk-genisletme-islemi/#1-sanal-makine-kapatlr","title":"1. Sanal Makine Kapat\u0131l\u0131r","text":"<pre><code>virsh shutdown sanal_makine_ad\u0131\n</code></pre>"},{"location":"sanallastirma/lvm-disk-genisletme-islemi/#2-sanal-disk-dosyasnn-boyutunu-artrma","title":"2. Sanal Disk Dosyas\u0131n\u0131n Boyutunu Art\u0131rma","text":"<pre><code>qemu-img resize /vm/disk/disk.qcow2 +10G\n</code></pre> <p>Bu komut diskin toplam boyutuna 10 GB ekler (\u00f6rne\u011fin 20G'den 30G'ye \u00e7\u0131kar\u0131r).</p>"},{"location":"sanallastirma/lvm-disk-genisletme-islemi/#1-disk-bolumlerini-duzenleme-sanal-makine-icinde","title":"1. Disk B\u00f6l\u00fcmlerini D\u00fczenleme (Sanal Makine \u0130\u00e7inde)","text":"<p>Sanal makineyi ba\u015flat\u0131p i\u00e7indeki partition tablosunun d\u00fczenlenmesi gerekmektedir. <code>qemu-img resize</code> ile eklenen 10 GB'l\u0131k alan \u015fu an \"bo\u015f\" durumda. K\u00f6k b\u00f6l\u00fcm (<code>/dev/vda1</code>) ile bu bo\u015f alan aras\u0131nda <code>vda2</code> ve <code>vda5</code> gibi ba\u015fka b\u00f6l\u00fcmler varsa bunlar kald\u0131r\u0131l\u0131p <code>vda1</code> geni\u015fletilir.</p>"},{"location":"sanallastirma/lvm-disk-genisletme-islemi/#1-sanal-makineyi-baslatma","title":"1.  Sanal Makineyi Ba\u015flatma","text":"<p>Host \u00fczerinden sanal makine ba\u015flat\u0131l\u0131r.</p> <p>```bash virsh start sanal_makine_ad\u0131</p> <pre><code>\n### 2.  lsblk ile Disk Alan\u0131 Do\u011frulan\u0131r\n\nSanal makine i\u00e7ine girince `lsblk` komutu \u00e7al\u0131\u015ft\u0131r\u0131l\u0131r. `vda` diskinin yeni boyutu (30G) do\u011frulan\u0131r. Eski b\u00f6l\u00fcmler hala g\u00f6r\u00fcnmeli. \u00d6rnek \u00e7\u0131kt\u0131:\n\n```bash\nroot@python:~# lsblk\nNAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS\nsr0     11:0    1 1024M  0 rom  \nvda    254:0    0   30G  0 disk \n\u251c\u2500vda1 254:1    0   19G  0 part /\n\u251c\u2500vda2 254:2    0    1K  0 part \n\u2514\u2500vda5 254:5    0  975M  0 part [SWAP]\n</code></pre>"},{"location":"sanallastirma/lvm-disk-genisletme-islemi/#3-swap-alann-devre-ds-brakma","title":"3. Swap Alan\u0131n\u0131 Devre D\u0131\u015f\u0131 B\u0131rakma","text":"<p>Sistemde swap alan\u0131 olarak kullan\u0131lan bir b\u00f6l\u00fcm varsa (\u00f6rne\u011fin <code>/dev/vda5</code>), <code>fdisk</code> i\u015flemleri \u00f6ncesinde devre d\u0131\u015f\u0131 b\u0131rak\u0131lmal\u0131. Diski sa\u011fa do\u011fru geni\u015fletilece\u011fi i\u00e7in sa\u011f taraf\u0131n\u0131n bo\u015f olmas\u0131 \u00f6nemli. Sonras\u0131nda disk b\u00f6l\u00fcm\u00fc yerine <code>swapfile</code> (takas dosyas\u0131) kullan\u0131labilir.</p> <pre><code>swapoff SWAP-ALANININ-BULUNDUGU-PARTITION\n# \u00d6rne\u011fin: swapoff /dev/vda5\n</code></pre> <p>Swap'\u0131n devre d\u0131\u015f\u0131 kald\u0131\u011f\u0131 <code>free -h</code> komutuyla teyit edilir.</p>"},{"location":"sanallastirma/lvm-disk-genisletme-islemi/#4-disk-bolumlerini-silme-ve-yeniden-olusturma","title":"4. Disk B\u00f6l\u00fcmlerini Silme ve Yeniden Olu\u015fturma","text":"<p><code>fdisk</code> arac\u0131n\u0131 kullanarak disk \u00fczerindeki eski b\u00f6l\u00fcmler (<code>vda1</code>, <code>vda2</code>, <code>vda5</code>) silinir. <code>vda1</code> b\u00f6l\u00fcm\u00fc t\u00fcm diski kaplayacak \u015fekilde yeniden olu\u015fturulur. B\u00f6ylece diskin ba\u015f\u0131ndaki veriler korunur. Sonundaki yeni alan da <code>vda1</code>'e dahil edilir.</p> <pre><code>fdisk /dev/vda\n</code></pre> <p><code>fdisk</code> komut isteminde \u015funlar yap\u0131l\u0131r. \u00d6rnek \u00e7\u0131kt\u0131 a\u015fa\u011f\u0131daki gibidir:</p> <pre><code>    root@python:~# fdisk /dev/vda\n\n    Welcome to fdisk (util-linux 2.38.1).\n    Changes will remain in memory only, until you decide to write them.\n    Be careful before using the write command.\n\n    This disk is currently in use - repartitioning is probably a bad idea.\n    It's recommended to umount all file systems, and swapoff all swap\n    partitions on this disk.\n\n\n    Command (m for help): p\n\n    Disk /dev/vda: 30 GiB, 32212254720 bytes, 62914560 sectors\n    Units: sectors of 1 * 512 = 512 bytes\n    Sector size (logical/physical): 512 bytes / 512 bytes\n    I/O size (minimum/optimal): 512 bytes / 512 bytes\n    Disklabel type: dos\n    Disk identifier: 0x4d8a8227\n\n    Device     Boot    Start      End  Sectors  Size Id Type\n    /dev/vda1  * 2048 39942143 39940096   19G 83 Linux\n    /dev/vda2       39944190 41940991  1996802  975M  5 Extended\n    /dev/vda5       39944192 41940991  1996800  975M 82 Linux swap / Solaris\n\n    Command (m for help): d\n    Partition number (1,2,5, default 5): 5\n\n    Partition 5 has been deleted.\n\n    Command (m for help): d\n    Partition number (1,2, default 2): 2\n\n    Partition 2 has been deleted.\n\n    Command (m for help): d\n    Selected partition 1\n    Partition 1 has been deleted.\n\n    Command (m for help): n\n    Partition type\n       p   primary (0 primary, 0 extended, 4 free)\n       e   extended (container for logical partitions)\n    Select (default p): p\n    Partition number (1-4, default 1): 1\n    First sector (2048-62914559, default 2048): \n    Last sector, +/-sectors or +/-size{K,M,G,T,P} (2048-62914559, default 62914559): \n\n    Created a new partition 1 of type 'Linux' and of size 30 GiB.\n    Partition #1 contains a ext4 signature.\n\n    Do you want to remove the signature? [Y]es/[N]o: no ((YES DENIRSE BUTUN VERILER SILINIR. NO DENMESI GEREKMEKTEDIR.))\n\n    Command (m for help): p\n\n    Disk /dev/vda: 30 GiB, 32212254720 bytes, 62914560 sectors\n    Units: sectors of 1 * 512 = 512 bytes\n    Sector size (logical/physical): 512 bytes / 512 bytes\n    I/O size (minimum/optimal): 512 bytes / 512 bytes\n    Disklabel type: dos\n    Disk identifier: 0x4d8a8227\n\n    Device     Boot Start      End  Sectors Size Id Type\n    /dev/vda1        2048 62914559 62912512  30G 83 Linux\n\n    Command (m for help): w\n    The partition table has been altered.\n    Syncing disks.\n</code></pre>"},{"location":"sanallastirma/lvm-disk-genisletme-islemi/#3-sistemi-yeniden-baslatma","title":"3. Sistemi Yeniden Ba\u015flatma","text":"<p><code>fdisk</code>'te yap\u0131lan disk b\u00f6l\u00fcmleme tablosu de\u011fi\u015fikliklerinin i\u015fletim sistemi taraf\u0131ndan alg\u0131lanmas\u0131 i\u00e7in sanal makine yeniden ba\u015flat\u0131l\u0131r.</p> <pre><code>sudo reboot\n</code></pre> <p>Sanal makine yeniden ba\u015flat\u0131l\u0131p tekrar oturum a\u00e7\u0131ld\u0131ktan sonra bir sonraki ad\u0131ma ge\u00e7ilebilir.</p>"},{"location":"sanallastirma/lvm-disk-genisletme-islemi/#4-dosya-sistemini-genisletme-sanal-makine-icinde","title":"4. Dosya Sistemini Geni\u015fletme (Sanal Makine \u0130\u00e7inde)","text":"<p>Disk b\u00f6l\u00fcm\u00fc (<code>/dev/vda1</code>) fiziksel olarak geni\u015flese de, \u00fczerindeki dosya sistemi (genelde <code>ext4</code>) bu yeni boyutu hen\u00fcz kullanmaz. \u015eimdi dosya sistemi de b\u00f6l\u00fcm\u00fcn tamam\u0131n\u0131 kaplayacak \u015fekilde b\u00fcy\u00fct\u00fcl\u00fcr.</p>"},{"location":"sanallastirma/lvm-disk-genisletme-islemi/#1-disk-bolumu-boyutunu-dogrulama","title":"1.  Disk B\u00f6l\u00fcm\u00fc Boyutunu Do\u011frulama","text":"<p>Sanal makine i\u00e7inde <code>lsblk</code> komutu \u00e7al\u0131\u015ft\u0131r\u0131l\u0131r. <code>vda1</code> b\u00f6l\u00fcm\u00fcn\u00fcn yeni boyutu (30G) teyit edilir.</p> <pre><code>root@python:~# lsblk\nNAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS\nsr0     11:0    1 1024M  0 rom  \nvda    254:0    0   30G  0 disk \n\u2514\u2500vda1 254:1    0   30G  0 part /\n</code></pre>"},{"location":"sanallastirma/lvm-disk-genisletme-islemi/#2-dosya-sistemini-genisletme","title":"2. Dosya Sistemini Geni\u015fletme","text":"<p>Root dizinin ba\u011fl\u0131 oldu\u011fu <code>/dev/vda1</code> b\u00f6l\u00fcm\u00fcndeki <code>ext4</code> dosya sistemi geni\u015fletmek i\u00e7in <code>resize2fs</code> komutu kullan\u0131l\u0131r:</p> <pre><code>resize2fs /dev/vda1\n</code></pre> <p>Bu komut dosya sistemini otomatik olarak b\u00f6l\u00fcm\u00fcn tamam\u0131n\u0131 kaplayacak \u015fekilde geni\u015fletir.</p>"},{"location":"sanallastirma/lvm-disk-genisletme-islemi/#3-genisletmeyi-dogrulama","title":"3. Geni\u015fletmeyi Do\u011frulama","text":"<p>\u0130\u015flem bitince <code>df -h</code> komutu tekrar \u00e7al\u0131\u015ft\u0131r\u0131l\u0131r. <code>/dev/vda1</code>'in boyutunun 30G'ye yakla\u015ft\u0131\u011f\u0131 ve bo\u015f alan\u0131n artt\u0131\u011f\u0131 g\u00f6r\u00fcl\u00fcr.</p> <pre><code>df -h\n</code></pre>"},{"location":"sanallastirma/proxmox/disk-ekleme/","title":"Proxmox'a Yeni Disk Ekleme","text":"<ol> <li>Disk sunucuya takildiktan sonra proxmox'un arayuzune girilir.</li> <li>Datacenter menusunden yeni eklenen disk secilerek (dev/sdb) Wipe Disk secenegine tiklanir ve disk temizlenir. (Bu islemden sonra diskinizdeki veriler kaybolacakt\u0131r. Bu islemden once yedekleme yapmaniz gerekiyorsa mutlaka yapmalisiniz.)</li> </ol> <ol> <li>Disks menusunden Directory kismina tiklayarak Create Directory secenegi ile yeni disk bir isim ile makineye mount edilir.</li> </ol> <ol> <li>Yeni bir sanal makine veya LXC containeri olusturulurken bu diskin kullanilabilir oldugu dogrulanir.</li> </ol>"},{"location":"sanallastirma/proxmox/subnet-olusturma/","title":"Proxmox'da Yeni bir Subnet Olu\u015fturma","text":"<ul> <li>A\u015fa\u011f\u0131daki \u015fekilde vaya iste\u011fe g\u00f6re bir bridge olu\u015fturulur ve Apply Config butonuna bas\u0131l\u0131r.</li> </ul> <p>Eklendikten sonra Host Makinenin(proxmox) network ayarlari bu sekilde gozukecektir.</p> <p></p> <ul> <li>\u0130stenilen sanal sunucular bu networke dahil edilir.</li> </ul> <p></p>"},{"location":"sanallastirma/proxmox/subnet-olusturma/#olusturulan-networkung-internete-erisimi","title":"Olusturulan Networkung Internete Erisimi","text":"<ul> <li>Host makineye gerekli iptables ayarlari girilir.</li> </ul> <pre><code>iptables  -t nat -A POSTROUTING -o vmbr0 -j MASQUERADE\niptables -A FORWARD -i vmbr1 -o eth0 -j ACCEPT\niptables -A FORWARD -i eth0 -o vmbr1 -m state --state RELATED,ESTABLISHED -j ACCEPT\n</code></pre> <p>Istege gore <code>iptables-save /etc/iptables/rules.v4</code> komutu ile kurallar dosyaya kaydedilir.</p> <ul> <li>Ana makinede(proxmox) Ip forwarding kapali ise aktif hale getirilir.</li> </ul> <pre><code>echo \"net.ipv4.ip_forward=1\" | tee -a /etc/sysctl.conf\n</code></pre> <p>Asagidaki komut ile ayar kontrol edilir, ciktisi 1 olmali.</p> <pre><code>sysctl -p\n</code></pre>"},{"location":"veritabani/mongoshell-komutlari/","title":"MongoDB Commands Cheat Sheet","text":"<p>Bir zamanlar bir nedenden \u00f6t\u00fcr\u00fc \u0130ngilizce olarak ald\u0131\u011f\u0131m notlar:</p> Basic Commands Purpose use db-name; switches to that db show dbs; list all databases that have data in it db; prints current database that we are in show collections; lists collections inside the database. Must be used on a database. It lists collections inside the database db.createCollection(\"STRING\") creates collection to inside the database db.COLLECTION-NAME.drop(); deletes the collection from database. db.dropDatabase(); drops the database that we are currently in. (delete database)"},{"location":"veritabani/mongoshell-komutlari/#managing-data","title":"Managing Data","text":"Command Purpose db.COLLECTION-NAME.insertOne(\u201dJSON FORMAT DATA\u201d); It inserts a json formatted data to the spesific collection. Data must be formatted as JSON. db.COLLECTION-NAME.insertMany(\u201dJSON FORMAT DATAS\u201d); It inserts a json formatted datas to the spesific collection. Data can be passed as Javascript array. db.COLLECTION-NAME.updateOne({name: \u201cBerk\u201d}, {$set : {rating : 4.6}}); Updates the value. First it finds the object that its data is \u201cBerk\u201d then sets its rating value to 4.6. $set is an operator from mongoDB. db.COLLECTION-NAME.updateMany({}, {$set: {students: 10000}}); Same logic with updateOne. It updates all objects because we used {} in the first section. It sets students value to 10000 on all objects. db.COLLECTION-NAME.deleteOne({name: \u201cBerk\u201d}); It finds the object that its name value is Berk and deletes it."},{"location":"veritabani/mongoshell-komutlari/#search-data","title":"Search Data","text":"Command Purpose db.COLLECTION-NAME.find({}, {name:1, rating:1}) With that usage we can search data inside our documents. It will return only name and rating variables from all of our document. 1 enables, 0 disables it. db.COLLECTION-name.find({status: \u201cA\u201d}); With that usage we can list objects like their status variable is A. Variable names are example. db.COLLECTION-NAME.find(); prints datas from spesified collection. db.COLLECTION-NAME.count(); counts how many documents we have in that collection. db.COLLECTION-NAME.find({}); with that empty object find function prints us to all documents. db.COLLECTION-NAME.find({}).skip(1); it skips the object 1. On JSON format objects are like arrays. Every object has index number."},{"location":"veritabani/postgresql/postgresql-cluster-kurulumu/","title":"PostgreSQL Cluster Kurulumu","text":"<p>1 Master 1 adet Slave olacak sekilde kurulum tariflenmistir.</p> <ol> <li>Her iki sunucuda Postgresql kurulur</li> </ol> <pre><code>apt update\napt-get install postgresql postgresql-contrib\n</code></pre> <ol> <li>Her iki sunucuda postgresql.conf'a asagidaki satir eklenir.</li> </ol> <p><code>/etc/postgresql/16/main/postgresql.conf</code></p> <p>Not: buradaki \"16\" postgres s\u00fcr\u00fcm\u00fc ile alakal\u0131d\u0131r. Kullan\u0131lan i\u015fletim sistemi s\u00fcr\u00fcm\u00fcne g\u00f6re de\u011fi\u015fir.</p> <pre><code>shared_listen_addresses = '*'\n</code></pre> <ol> <li>Her iki sunucuda Firewall Ayarlamalari Yapilir.</li> </ol> <pre><code>ufw allow 5432/tcp\nufw reload\n</code></pre> <ol> <li>Her iki sunucuda Eri\u015fim kontrol\u00fc ayarlan\u0131r.</li> </ol> <p><code>/etc/postgresql/15/main/pg_hba.conf</code></p> <pre><code>host    all             all             MASTER-SUNUCU-IP-ADRESI/32   md5\nhost    all             all             SLAVE-SUNUCU-IP-ADRESI/32   md5\nhost    replication     all             MASTER-SUNUCU-IP-ADRESI/32   md5\nhost    replication     all             SLAVE-SUNUCU-IP-ADRESI/32   md5\n</code></pre> <ol> <li>Master sunucuda yeni bir replikasyon kullan\u0131c\u0131s\u0131 olu\u015fturulur(e\u011fer b\u00f6yle bir kullan\u0131c\u0131 varsa duruma g\u00f6re bu ad\u0131m atlanabilir fakat g\u00fcvenlik amac\u0131yla \u00f6nerilir)</li> </ol> <pre><code>sudo -i -u postgres psql (sudo yoksa postgres kullanicisina ge\u00e7ilip psql'a ba\u011flan\u0131l\u0131r)\nCREATE USER sysadm WITH REPLICATION ENCRYPTED PASSWORD 'PAROLA-BURAYA*GELECEK';\n\\q\n</code></pre> <ol> <li>Her iki sunucuda PostgreSQL yeniden ba\u015flat\u0131l\u0131r</li> </ol> <pre><code>sudo systemctl restart postgresql\n</code></pre> <ol> <li>Master sunucuda replikasyon i\u015fleminin yap\u0131land\u0131r\u0131lmas\u0131 gerekmektedir. Master sunucudaki postgresql.conf dosyas\u0131 a\u00e7\u0131l\u0131r;</li> </ol> <pre><code>/etc/postgresql/15/main/postgresql.conf\n</code></pre> <pre><code>wal_level = replica # Write-Ahead Log Seviyesi. Cluster i\u00e7in replica veya logical seviyesi gerekir.\nmax_wal_senders = 5 # Ayn\u0131 anda ka\u00e7 adet slave sunucunun ba\u011flanabilece\u011fi\nhot_standby = on # Slave sunucular\u0131n sadece okuma ama\u00e7l\u0131 sorgular\u0131 kabul edip etmeyece\u011fini belirler\nwal_log_hints = on # Backup al\u0131rken veri bozulmalar\u0131n\u0131 \u00f6nlemeye yard\u0131mc\u0131 olabilir.\nsynchronous_commit = off #\nmax_replication_slots = 2 # Cluster Say\u0131s\u0131 Kadar Ayarlanmali\n</code></pre> <ol> <li>Yap\u0131lan ayarlamalardan sonra postgresql yeniden ba\u015flat\u0131l\u0131r.</li> </ol> <pre><code>systemctl restart postgresql\n</code></pre> <ol> <li>Slave sunucularda kullan\u0131lmak i\u00e7in bir <code>base backup</code> al\u0131nmas\u0131 gerekmektedir.</li> </ol> <pre><code>sudo mkdir -p /tmp/pg_master_backup\nsudo chown postgres:postgres /tmp/pg_master_backup\n</code></pre> <p>Komuttaki -X Stream parametresi WAL dosyalarinin yedekleme sirasinda surekli olarak alinmasini saglar. Slave olan sunucuya bu dosya import edildikten sonra master ile hemen senkronize olmasi icin onemlidir.</p> <pre><code>sudo -i -u postgres pg_basebackup -h &lt;Master IP Adresi&gt; -D /tmp/pg_master_backup -U sysadm -v -P -X stream\n</code></pre> <p>Daha \u00f6nce olu\u015fturulan <code>sysadm</code> kullan\u0131c\u0131s\u0131n\u0131n Parolas\u0131 girildikten sonra a\u015fa\u011f\u0131daki gibi bir \u00e7\u0131kt\u0131 olu\u015facakt\u0131r</p> <pre><code>root@db-1[192.168.122.50] /etc/postgresql/15/main &gt; sudo -i -u postgres pg_basebackup -h 192.168.122.50 -D /tmp/pg_master_backup -U sysadm -v -P -X stream\nPassword: \npg_basebackup: initiating base backup, waiting for checkpoint to complete\npg_basebackup: checkpoint completed\npg_basebackup: write-ahead log start point: 0/2000028 on timeline 1\npg_basebackup: starting background WAL receiver\npg_basebackup: created temporary replication slot \"pg_basebackup_1864\"\n30596/30596 kB (100%), 1/1 tablespace                                         \npg_basebackup: write-ahead log end point: 0/2000100\npg_basebackup: waiting for background process to finish streaming ...\npg_basebackup: syncing data to disk ...\npg_basebackup: renaming backup_manifest.tmp to backup_manifest\npg_basebackup: base backup completed\n</code></pre>"},{"location":"veritabani/postgresql/postgresql-cluster-kurulumu/#10-slave-sunucuda-postgresql-durdurulur","title":"10. Slave Sunucuda Postgresql Durdurulur","text":"<pre><code>systemctl stop postgresql\n</code></pre>"},{"location":"veritabani/postgresql/postgresql-cluster-kurulumu/#11-slave-sunucudaki-postgresql-data-dizini-silinir","title":"11. Slave sunucudaki postgreSQL data dizini silinir.","text":"<p>\u00d6NEML\u0130 B\u0130R DATA VARSA MUTLAKA YEDE\u011e\u0130 ALINMALIDIR</p> <pre><code>rm -rf /var/lib/postgresql/15/main/*\n</code></pre>"},{"location":"veritabani/postgresql/postgresql-cluster-kurulumu/#12-maste-sunucuda-alnan-yedek-slave-sunucusuna-kopyalanr","title":"12. Maste Sunucuda Al\u0131nan Yedek Slave Sunucusuna Kopyalan\u0131r","text":"<ul> <li>Master'daki <code>/tmp/pg_master_backup</code> dizini slave sunucuya kopyalanir.</li> </ul> <p>Master sunucudan al\u0131nan yedekler Slave sunucusunda <code>/var/lib/postgresql/15/main/</code> dizinine kopyalanir.</p>"},{"location":"veritabani/postgresql/postgresql-cluster-kurulumu/#13-slave-sunucuda-izinler-ayarlanr","title":"13. Slave Sunucuda \u0130zinler Ayarlan\u0131r","text":"<pre><code>chown -R postgres:postgres /var/lib/postgresql/15/main\nchmod -R 0700 /var/lib/postgresql/15/main\n</code></pre>"},{"location":"veritabani/postgresql/postgresql-cluster-kurulumu/#14-slave-sunucusundaki-cluster-ayarlari-yapilir","title":"14. Slave Sunucusundaki Cluster Ayarlari Yapilir.","text":"<pre><code>vim /etc/postgresql/15/main/postgresql.conf\n</code></pre> <pre><code>hot_standby = on # Mutlaka ON olmali. Read sorgulari kabul ederken ayni zamanda verileri replike etmesini saglar.\nprimary_conninfo = 'host=MASTER-DB-IP port=5432 user=sysadm password=parola_buraya_gelecek'\nprimary_slot_name = 'db2'\n</code></pre>"},{"location":"veritabani/postgresql/postgresql-cluster-kurulumu/#15-slave-sunucuda-standby-signal-dosyasnn-olusturulmas","title":"15. Slave Sunucuda Standby Signal Dosyas\u0131n\u0131n Olu\u015fturulmas\u0131","text":"<p>PostgreSQL 12 ve sonraki s\u00fcr\u00fcmlerde, bir sunucunun standby (kopya) olarak ba\u015flat\u0131laca\u011f\u0131n\u0131 belirtmek i\u00e7in bo\u015f bir standby.signal dosyas\u0131 kullan\u0131l\u0131r. Main dizininin i\u00e7erisinde olur.</p> <pre><code>touch /var/lib/postgresql/15/main/standby.signal\nchown postgres:postgres /var/lib/postgresql/15/main/standby.signal\n</code></pre>"},{"location":"veritabani/postgresql/postgresql-cluster-kurulumu/#16-master-sunucuda-db2-replikasyonunun-olusturulmasi","title":"16. Master Sunucuda db2 replikasyonunun olusturulmasi","text":"<pre><code>psql -U postgres\n\nSELECT pg_create_physical_replication_slot('db2');\n\\q\n</code></pre>"},{"location":"veritabani/postgresql/postgresql-cluster-kurulumu/#17-slave-sunucuda-postgresql-tekrar-baslatlr","title":"17. Slave Sunucuda PostgreSQL Tekrar Ba\u015flat\u0131l\u0131r","text":"<pre><code>systemctl start postgresql\n</code></pre> <p>Sorunsuz bir sekilde cluster yapisi kurulmus durumdadir.</p>"},{"location":"wireguard/wireguard-nedir/","title":"Wireguard Nedir?","text":"<p>WireGuard, modern, h\u0131zl\u0131, g\u00fcvenli ve basit bir VPN (Virtual Private Network) protokol\u00fcd\u00fcr. Geleneksel VPN \u00e7\u00f6z\u00fcmlerine (OpenVPN, IPSec) k\u0131yasla daha hafif, daha az kod i\u00e7eren ve y\u00fcksek performans sunan bir \u00e7\u00f6z\u00fcmd\u00fcr.</p> <p>WireGuard hizli, guvenli ve basit bir VPN protokoludur. UDP ile \u00e7al\u0131\u015f\u0131r ve peer to peer modelinde iletisim yontemini kullanir.</p>"},{"location":"wireguard/wireguard-nedir/#wireguard-nasl-calsr","title":"Wireguard Nas\u0131l \u00c7al\u0131\u015f\u0131r?","text":"<p>Her istemci (peer) i\u00e7in bir genel (public) ve \u00f6zel (private) anahtar \u00e7ifti olu\u015fturulur ve peer'lar birbirlerine baglanmak icin karsi tarafin public anahtarini kullanir.</p>"},{"location":"wireguard/wireguard-nedir/#handshake-el-sksma-mekanizmas","title":"Handshake (El S\u0131k\u0131\u015fma) Mekanizmas\u0131:","text":"<p>WireGuard, guvenli bir anahtar degisimi(peerlarin keyleri) ger\u00e7ekle\u015ftirir. Stateless \u00e7al\u0131\u015ft\u0131\u011f\u0131 i\u00e7in ba\u011flant\u0131 durumu s\u00fcrekli takip edilmez; gerekti\u011finde otomatik olarak yeniden ba\u011flan\u0131r.</p>"},{"location":"wireguard/wireguard-nedir/#wireguard-kullanimi","title":"WireGuard Kullanimi","text":"<p>WireGuard'da bir anahtar cifti olusturmak icin asagidaki komut kullanilabilir.</p> <pre><code>wg genkey | tee privatekey | wg pubkey &gt; publickey\n</code></pre>"},{"location":"wireguard/wireguard-nedir/#ornek-wireguard-config-dosyalar","title":"\u00d6rnek Wireguard Config Dosyalar\u0131","text":""},{"location":"wireguard/wireguard-nedir/#client-config","title":"Client Config","text":"<pre><code>[Interface]\nAddress = 10.200.200.3/32\nPrivateKey = [Client's private key]\nDNS = 8.8.8.8\n\n[Peer]\nPublicKey = [Server's public key]\nPresharedKey = # Istege Bagli, kullanilmayacaksa satir silinmeli.\nEndpoint = [Server Addr:Server Port]\nAllowedIPs = 0.0.0.0/0 # VPN Uzerinden trafigin internete cikmasi icin 0.0.0.0/0 gerekmektedir. Eger sadece iki bilgisayar arasindaki baglanti saglanmak isteniyorsa sunucunun ip adresi /32 vs olabilir.\nPersistentKeepalive = 21\n</code></pre>"},{"location":"wireguard/wireguard-nedir/#server-config","title":"Server Config","text":"<p>Not: Belirlenen subnete gore asagidaki iptables ayarlari degisiklik gosterebilir.</p> <pre><code>[Interface]\nAddress = 10.200.200.1/24\n#SaveConfig = true\nPostUp =   iptables -I FORWARD 1 -i wg0 -j ACCEPT; iptables -I FORWARD 1 -o wg0 -j ACCEPT; iptables -t nat -I POSTROUTING 1 -s 10.200.200.0/24 -o eth0 -j MASQUERADE\nPostDown = iptables -D FORWARD -i wg0 -j ACCEPT;   iptables -D FORWARD -o wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -s 10.200.200.0/24 -o eth0 -j MASQUERADE\nListenPort = 10086\nPrivateKey = [Server's private key]\n\n[Peer]\n# Client 1\nPublicKey = [Client's public key]\nAllowedIPs = 10.200.200.2/32\nPresharedKey = [Pre-shared key, same for server and client]\n\n[Peer]\n# Client 2\nPublicKey = [Client's public key]\nAllowedIPs = 10.200.200.2/32\nPresharedKey = [Pre-shared key, same for server and client]\n</code></pre>"}]}